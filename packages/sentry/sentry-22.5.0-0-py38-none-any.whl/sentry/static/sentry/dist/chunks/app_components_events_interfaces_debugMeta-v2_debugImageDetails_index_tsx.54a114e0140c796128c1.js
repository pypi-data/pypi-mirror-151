"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_events_interfaces_debugMeta-v2_debugImageDetails_index_tsx"],{"./app/components/acl/role.tsx":(e,t,n)=>{n.d(t,{u:()=>r});var i=n("../node_modules/react/index.js"),s=n("./app/stores/configStore.tsx"),a=n("./app/utils/isActiveSuperuser.tsx"),o=n("./app/utils/isRenderFunc.tsx");const r=(0,n("./app/utils/withOrganization.tsx").Z)((function(e){let{role:t,organization:n,children:r}=e;const l=s.Z.get("user"),d=(0,i.useMemo)((()=>function(e,t,n){var i,s;if(!e)return!1;if((0,a.M)())return!0;if(!Array.isArray(t.availableRoles))return!1;const o=t.availableRoles.map((e=>e.id));if(!o.includes(n)||!o.includes(null!==(i=t.role)&&void 0!==i?i:""))return!1;const r=o.indexOf(n);return o.indexOf(null!==(s=t.role)&&void 0!==s?s:"")>=r}(l,n,t)),[n,t,l]);return(0,o.l)(r)?r({hasRole:d}):d?r:null}))},"./app/components/actions/menuItemActionLink.tsx":(e,t,n)=>{n.d(t,{Z:()=>c});var i=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=n("./app/components/actions/actionLink.tsx"),a=n("./app/components/menuItem.tsx"),o=n("./app/styles/overflowEllipsis.tsx"),r=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function l(e){let{className:t,...n}=e;return(0,r.tZ)(a.Z,{noAnchor:!0,withBorder:!0,disabled:n.disabled,className:t,children:(0,r.tZ)(d,{...n})})}l.displayName="MenuItemActionLink";const d=(0,i.Z)(s.Z,{target:"e18s0uh10"})("color:",(e=>e.theme.textColor),";",o.Z," &:hover{color:",(e=>e.theme.textColor),";}.dropdown-menu>li>&,.dropdown-menu>span>li>&{&.disabled:hover{background:",(e=>e.theme.background),";}}"),c=l},"./app/components/events/interfaces/debugMeta-v2/debugImageDetails/index.tsx":(e,t,n)=>{n.r(t),n.d(t,{default:()=>at,modalCss:()=>ct});var i=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=(n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/react/index.js")),o=n("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),r=n("../node_modules/lodash/partition.js"),l=n.n(r),d=n("../node_modules/lodash/sortBy.js"),c=n.n(d),u=n("./app/actionCreators/indicator.tsx"),p=n("./app/components/asyncComponent.tsx"),m=n("./app/components/button.tsx"),h=n("./app/components/buttonBar.tsx"),g=n("./app/locale.tsx"),f=n("./app/styles/space.tsx"),b=n("./app/types/debugFiles.tsx"),Z=n("./app/types/debugImage.tsx"),y=n("./app/utils/displayReprocessEventAction.tsx"),v=n("./app/utils/theme.tsx"),w=n("./app/views/settings/projectDebugFiles/utils.tsx"),x=n("./app/components/events/interfaces/debugMeta-v2/utils.tsx"),S=(n("../node_modules/core-js/modules/es.string.replace.js"),n("../node_modules/lodash/debounce.js")),D=n.n(S),_=n("../node_modules/lodash/isEqual.js"),E=n.n(_),k=n("../node_modules/lodash/pick.js"),T=n.n(k),C=n("./app/components/links/externalLink.tsx"),B=n("./app/components/panels/panelTable.tsx"),N=n("./app/components/questionTooltip.tsx"),O=n("./app/utils.tsx"),F=n("./app/components/events/interfaces/searchBarAction/index.tsx"),R=n("./app/components/events/interfaces/searchBarAction/searchBarActionFilter.tsx"),j=n("../node_modules/@sentry/minimal/esm/index.js"),z=n("../node_modules/@sentry/types/esm/severity.js"),I=n("./app/components/tag.tsx"),U=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const A=function(e){let{status:t}=e;switch(t){case Z.il.OK:return(0,U.tZ)(I.Z,{type:"success",children:(0,g.t)("Ok")});case Z.il.ERROR:case Z.il.MALFORMED:return(0,U.tZ)(I.Z,{type:"error",children:(0,g.t)("Failed")});case Z.il.NOT_FOUND:return(0,U.tZ)(I.Z,{children:(0,g.t)("Not Found")});case Z.il.NO_PERMISSION:return(0,U.tZ)(I.Z,{type:"highlight",children:(0,g.t)("Permissions")});case Z.il.DELETED:return(0,U.tZ)(I.Z,{type:"success",children:(0,g.t)("Deleted")});case Z.il.UNAPPLIED:return(0,U.tZ)(I.Z,{type:"warning",children:(0,g.t)("Unapplied")});default:return j.$e((e=>{e.setLevel(z.z.Warning),j.Tb(new Error("Unknown image candidate download status"))})),(0,U.tZ)(I.Z,{children:(0,g.t)("Unknown")})}},P="sentry:project",L="sentry://project_debug_file/";var M=n("./app/components/tooltip.tsx");function $(e){let{candidate:t,hasReprocessWarning:n}=e;const{download:i}=t,{label:s,description:a,disabled:o}=function(e,t){const{download:n,location:i,source:s}=e;switch(n.status){case Z.il.OK:return{label:(0,g.t)("Download Details"),description:i,disabled:!i||s===P};case Z.il.ERROR:case Z.il.MALFORMED:{const{details:e}=n;return{label:(0,g.t)("Download Details"),description:e,disabled:!e}}case Z.il.NOT_FOUND:return{};case Z.il.NO_PERMISSION:{const{details:e}=n;return{label:(0,g.t)("Permission Error"),description:e,disabled:!e}}case Z.il.DELETED:return{label:(0,g.t)("This file was deleted after the issue was processed.")};case Z.il.UNAPPLIED:return{label:t?(0,g.t)("This issue was processed before this debug information file was available. To apply new debug information, reprocess this issue."):(0,g.t)("This issue was processed before this debug information file was available")};default:return j.$e((e=>{e.setLevel(z.z.Warning),j.Tb(new Error("Unknown image candidate download status"))})),{}}}(t,n);return(0,U.tZ)(M.ZP,{title:s&&(0,U.BX)(W,{children:[(0,U.tZ)(q,{children:s}),a&&(0,U.tZ)("div",{children:a})]}),disabled:o,children:(0,U.tZ)(A,{status:i.status})})}$.displayName="StatusTooltip";const X=$,W=(0,s.Z)("div",{target:"exze6f61"})({name:"1flj9lk",styles:"text-align:left"}),q=(0,s.Z)("div",{target:"exze6f60"})("display:inline-block;margin-bottom:",(0,f.Z)(.25),";");var K=n("./app/components/acl/access.tsx"),G=n("./app/components/acl/role.tsx"),J=n("./app/components/actions/button.tsx"),Y=n("./app/components/actions/menuItemActionLink.tsx"),H=n("./app/components/confirm.tsx"),V=n("./app/components/dropdownLink.tsx"),Q=n("./app/icons/index.tsx");const ee=(0,g.t)("You do not have permission to download debug files"),te=(0,g.t)("You do not have permission to delete debug files"),ne=(0,g.t)("Are you sure you wish to delete this file?");function ie(e){let{candidate:t,organization:n,isInternalSource:i,baseUrl:s,projSlug:o,onDelete:r}=e;const{download:l,location:d}=t,{status:c}=l;if(!d||!i)return null;const u=c===Z.il.DELETED,p=`${s}/projects/${n.slug}/${o}/files/dsyms/?id=${d}`,h=(0,U.tZ)(G.u,{role:n.debugFilesRole,organization:n,children:e=>{let{hasRole:t}=e;return(0,U.tZ)(K.Z,{access:["project:write"],organization:n,children:e=>{let{hasAccess:n}=e;return(0,U.BX)(a.Fragment,{children:[(0,U.BX)(ae,{caret:!1,customTitle:(0,U.tZ)(J.Z,{"aria-label":(0,g.t)("Actions"),disabled:u,icon:(0,U.tZ)(Q.YR,{size:"sm"})}),anchorRight:!0,children:[(0,U.tZ)(M.ZP,{disabled:t,title:ee,children:(0,U.tZ)(Y.Z,{shouldConfirm:!1,icon:(0,U.tZ)(Q.Dj,{size:"xs"}),title:(0,g.t)("Download"),href:p,onClick:e=>{u&&e.preventDefault()},disabled:!t||u,children:(0,g.t)("Download")})}),(0,U.tZ)(M.ZP,{disabled:n,title:te,children:(0,U.tZ)(Y.Z,{onAction:()=>r(d),message:ne,title:(0,g.t)("Delete"),disabled:!n||u,shouldConfirm:!0,children:(0,g.t)("Delete")})})]}),(0,U.BX)(oe,{gap:1,children:[(0,U.tZ)(M.ZP,{disabled:t,title:ee,children:(0,U.tZ)(m.ZP,{size:"xsmall",icon:(0,U.tZ)(Q.Dj,{size:"xs"}),href:p,disabled:!t,children:(0,g.t)("Download")})}),(0,U.tZ)(M.ZP,{disabled:n,title:te,children:(0,U.tZ)(H.Z,{confirmText:(0,g.t)("Delete"),message:ne,onConfirm:()=>r(d),disabled:!n,children:(0,U.tZ)(m.ZP,{priority:"danger",icon:(0,U.tZ)(Q.Fz,{size:"xs"}),size:"xsmall",disabled:!n,"aria-label":(0,g.t)("Delete")})})})]})]})}})}});return u?(0,U.tZ)(M.ZP,{title:(0,g.t)("Actions not available because this debug file was deleted"),children:h}):h}ie.displayName="Actions";const se=ie,ae=(0,s.Z)(V.Z,{target:"e1yh202n1"})("display:none;@media (min-width: ",(e=>e.theme.breakpoints[4]),"){display:flex;align-items:center;transition:none;}"),oe=(0,s.Z)(h.ZP,{target:"e1yh202n0"})("@media (min-width: ",(e=>e.theme.breakpoints[4]),"){display:none;}");var re=n("../node_modules/lodash/capitalize.js"),le=n.n(re),de=n("../node_modules/moment-timezone/index.js"),ce=n.n(de),ue=n("./app/components/dateTime.tsx"),pe=n("./app/components/fileSize.tsx"),me=n("./app/components/timeSince.tsx"),he=n("./app/components/events/interfaces/debugMeta-v2/processing/item.tsx"),ge=n("./app/components/events/interfaces/debugMeta-v2/processing/list.tsx");function fe(){return(0,U.tZ)(Ze,{children:"|"})}fe.displayName="Divider";const be=fe,Ze=(0,s.Z)("div",{target:"e12uydbn0"})("color:",(e=>e.theme.gray200),";");function ye(e){let{download:t}=e,n=[];return t.status!==Z.il.OK&&t.status!==Z.il.DELETED&&t.status!==Z.il.UNAPPLIED||(n=Object.keys(t.features).filter((e=>t.features[e]))),(0,U.tZ)(a.Fragment,{children:Object.keys(Z.xe).map((e=>{const{label:t,description:i}=function(e){switch(e){case Z.xe.has_debug_info:return{label:(0,g.t)("debug"),description:(0,g.t)("Debug information provides function names and resolves inlined frames during symbolication")};case Z.xe.has_sources:return{label:(0,g.t)("sources"),description:(0,g.t)("Source code information allows Sentry to display source code context for stack frames")};case Z.xe.has_symbols:return{label:(0,g.t)("symtab"),description:(0,g.t)("Symbol tables are used as a fallback when full debug information is not available")};case Z.xe.has_unwind_info:return{label:(0,g.t)("unwind"),description:(0,g.t)("Stack unwinding information improves the quality of stack traces extracted from minidumps")};default:return j.$e((e=>{e.setLevel(z.z.Warning),j.Tb(new Error("Unknown image candidate feature"))})),{}}}(e),s=!n.includes(e);return(0,U.tZ)(we,{disabled:s,tooltipText:s?void 0:i,children:t},t)}))})}ye.displayName="Features";const ve=ye,we=(0,s.Z)(I.Z,{target:"e18zsjal0"})("opacity:",(e=>e.disabled?"0.35":1),";"),xe=function(e){let{processingInfo:t}=e;switch(t.status){case Z.kJ.OK:return(0,U.tZ)(Q.DL,{color:"green300",size:"xs"});case Z.kJ.ERROR:{const{details:e}=t;return(0,U.tZ)(M.ZP,{title:e,disabled:!e,children:(0,U.tZ)(Q.bM,{color:"red300",size:"xs"})})}case Z.kJ.MALFORMED:{const{details:e}=t;return(0,U.tZ)(M.ZP,{title:e,disabled:!e,children:(0,U.tZ)(Q.FC,{color:"yellow300",size:"xs"})})}default:return j.$e((e=>{e.setLevel(z.z.Warning),j.Tb(new Error("Unknown image candidate ProcessingIcon status"))})),null}};function Se(e){let{candidate:t,isInternalSource:n,hasReprocessWarning:i,eventDateReceived:s}=e;const{source_name:o,source:r,location:l,download:d}=t,c=function(){if(t.download.status===Z.il.UNAPPLIED||t.download.status===Z.il.OK&&n){const{symbolType:e,filename:n}=t;return e===Z.Ko.PROGUARD&&"proguard-mapping"===n?null:n}return l&&!n?l:null}();return(0,U.BX)(_e,{children:[(0,U.BX)("div",{children:[(0,U.tZ)("strong",{"data-test-id":"source_name",children:o?le()(o):(0,g.t)("Unknown")}),c&&(0,U.tZ)(Ee,{children:c})]}),(0,U.BX)(ke,{children:[function(){if(t.download.status!==Z.il.UNAPPLIED&&t.download.status!==Z.il.OK||r!==P)return null;const{symbolType:e,fileType:n,cpuName:o,size:l,dateCreated:d}=t,{tooltipDesc:c,displayIcon:u}=function(e){const n=(0,U.tZ)(ue.Z,{date:e});return t.download.status!==Z.il.UNAPPLIED?{tooltipDesc:n,displayIcon:!1}:ce()(e).isBefore(s)?i?{tooltipDesc:(0,U.BX)(a.Fragment,{children:[(0,g._N)("This debug file was uploaded [when] before this event. It takes up to 1 hour for new files to propagate. To apply new debug information, reprocess this issue.",{when:ce()(s).from(e,!0)}),(0,U.tZ)(Ce,{children:n})]}),displayIcon:!0}:ce()(s).diff(e,"minutes")>=60?{tooltipDesc:n,displayIcon:!1}:{tooltipDesc:(0,U.BX)(a.Fragment,{children:[(0,g._N)("This debug file was uploaded [when] before this event. It takes up to 1 hour for new files to propagate.",{when:ce()(s).from(e,!0)}),(0,U.tZ)(Ce,{children:n})]}),displayIcon:!0}:i?{tooltipDesc:(0,U.BX)(a.Fragment,{children:[(0,g._N)("This debug file was uploaded [when] after this event. To apply new debug information, reprocess this issue.",{when:ce()(e).from(s,!0)}),(0,U.tZ)(Ce,{children:n})]}),displayIcon:!0}:{tooltipDesc:(0,U.BX)(a.Fragment,{children:[(0,g._N)("This debug file was uploaded [when] after this event.",{when:ce()(s).from(e,!0)}),(0,U.tZ)(Ce,{children:n})]}),displayIcon:!0}}(d);return(0,U.BX)(a.Fragment,{children:[(0,U.tZ)(M.ZP,{title:c,children:(0,U.BX)(Te,{children:[u&&(0,U.tZ)(Q.FC,{color:"red300",size:"xs"}),(0,g._N)("Uploaded [timesince]",{timesince:(0,U.tZ)(me.Z,{disabledAbsoluteTooltip:!0,date:d})})]})}),(0,U.tZ)(be,{}),(0,U.tZ)(pe.Z,{bytes:l}),(0,U.tZ)(be,{}),(0,U.tZ)("span",{children:e===Z.Ko.PROGUARD&&"any"===o?(0,g.t)("proguard mapping"):`${e}${n?` ${n}`:""}`}),(0,U.tZ)(be,{})]})}(),function(){if(t.download.status!==Z.il.OK&&t.download.status!==Z.il.DELETED)return null;const e=[],{debug:n,unwind:i}=t;return n&&e.push((0,U.tZ)(he.Z,{type:"symbolication",icon:(0,U.tZ)(xe,{processingInfo:n})},"symbolication")),i&&e.push((0,U.tZ)(he.Z,{type:"stack_unwinding",icon:(0,U.tZ)(xe,{processingInfo:i})},"stack_unwinding")),e.length?(0,U.BX)(a.Fragment,{children:[(0,U.tZ)(Be,{items:e}),(0,U.tZ)(be,{})]}):null}(),(0,U.tZ)(ve,{download:d})]})]})}Se.displayName="Information";const De=Se,_e=(0,s.Z)("div",{target:"ehqoafm5"})({name:"2w899g",styles:"white-space:pre-wrap;word-break:break-all;max-width:100%"}),Ee=(0,s.Z)("span",{target:"ehqoafm4"})("padding-left:",(0,f.Z)(1),";font-size:",(e=>e.theme.fontSizeSmall),";"),ke=(0,s.Z)("div",{target:"ehqoafm3"})("display:grid;grid-auto-flow:column;grid-auto-columns:max-content;gap:",(0,f.Z)(1),";color:",(e=>e.theme.gray400),";font-size:",(e=>e.theme.fontSizeSmall),";"),Te=(0,s.Z)("div",{target:"ehqoafm2"})("display:grid;grid-template-columns:max-content 1fr;align-items:center;gap:",(0,f.Z)(.5),";font-variant-numeric:tabular-nums;"),Ce=(0,s.Z)("div",{target:"ehqoafm1"})("padding-top:",(0,f.Z)(1),";font-variant-numeric:tabular-nums;"),Be=(0,s.Z)(ge.Z,{target:"ehqoafm0"})("display:grid;grid-auto-flow:column;grid-auto-columns:max-content;gap:",(0,f.Z)(1),";");function Ne(e){let{candidate:t,organization:n,projSlug:i,baseUrl:s,haveCandidatesAtLeastOneAction:o,hasReprocessWarning:r,onDelete:l,eventDateReceived:d}=e;const{source:c}=t,u=c===P;return(0,U.BX)(a.Fragment,{children:[(0,U.tZ)(Fe,{children:(0,U.tZ)(X,{candidate:t,hasReprocessWarning:r})}),(0,U.tZ)(Re,{children:(0,U.tZ)(De,{candidate:t,isInternalSource:u,eventDateReceived:d,hasReprocessWarning:r})}),o&&(0,U.tZ)(je,{children:(0,U.tZ)(se,{onDelete:l,baseUrl:s,projSlug:i,organization:n,candidate:t,isInternalSource:u})})]})}Ne.displayName="Candidate";const Oe=Ne,Fe=(0,s.Z)("div",{target:"e19z2lid2"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),Re=(0,s.Z)(Fe,{target:"e19z2lid1"})({name:"1ejri1g",styles:"flex-direction:column;align-items:flex-start"}),je=(0,s.Z)(Fe,{target:"e19z2lid0"})({name:"1f60if8",styles:"justify-content:flex-end"}),ze=(0,g.t)("Status"),Ie=(0,g.t)("Source");class Ue extends a.Component{constructor(){var e;super(...arguments),e=this,(0,i.Z)(this,"state",{searchTerm:"",filterOptions:{},filteredCandidatesBySearch:[],filteredCandidatesByFilter:[]}),(0,i.Z)(this,"doSearch",D()(this.filterCandidatesBySearch,300)),(0,i.Z)(this,"handleChangeSearchTerm",(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e.setState({searchTerm:t})})),(0,i.Z)(this,"handleChangeFilter",(e=>{const{filteredCandidatesBySearch:t}=this.state,n=this.getFilteredCandidatedByFilter(t,e);this.setState({filterOptions:e,filteredCandidatesByFilter:n})})),(0,i.Z)(this,"handleResetFilter",(()=>{const{filterOptions:e}=this.state;this.setState({filterOptions:Object.keys(e).reduce(((t,n)=>(t[n]=e[n].map((e=>({...e,isChecked:!1}))),t)),{})},this.filterCandidatesBySearch)})),(0,i.Z)(this,"handleResetSearchBar",(()=>{const{candidates:e}=this.props;this.setState({searchTerm:"",filteredCandidatesByFilter:e,filteredCandidatesBySearch:e})}))}componentDidMount(){this.getFilters()}componentDidUpdate(e,t){E()(e.candidates,this.props.candidates)?t.searchTerm!==this.state.searchTerm&&this.doSearch():this.getFilters()}filterCandidatesBySearch(){const{searchTerm:e,filterOptions:t}=this.state,{candidates:n}=this.props;if(!e.trim()){const e=this.getFilteredCandidatedByFilter(n,t);return void this.setState({filteredCandidatesBySearch:n,filteredCandidatesByFilter:e})}const i=JSON.stringify(e).replace(/((^")|("$))/g,"").toLocaleLowerCase(),s=n.filter((e=>Object.keys(T()(e,["source_name","location"])).some((t=>{const n=e[t];return("location"!==t||"number"!=typeof Number(n))&&!(!(0,O.ri)(n)||!String(n).trim())&&JSON.stringify(n).replace(/((^")|("$))/g,"").toLocaleLowerCase().trim().includes(i)})))),a=this.getFilteredCandidatedByFilter(s,t);this.setState({filteredCandidatesBySearch:s,filteredCandidatesByFilter:a})}getFilters(){const e=[...this.props.candidates],t=this.getFilterOptions(e);this.setState({filterOptions:t,filteredCandidatesBySearch:e,filteredCandidatesByFilter:this.getFilteredCandidatedByFilter(e,t)})}getFilterOptions(e){const{imageStatus:t}=this.props,n={},i=[...new Set(e.map((e=>e.download.status)))];i.length>1&&(n[ze]=i.map((e=>({id:e,symbol:(0,U.tZ)(A,{status:e}),isChecked:e!==Z.il.NOT_FOUND||t===Z.zu.MISSING}))));const s=[...new Set(e.map((e=>{var t;return null!==(t=e.source_name)&&void 0!==t?t:(0,g.t)("Unknown")})))];return s.length>1&&(n[Ie]=s.map((e=>({id:e,symbol:e,isChecked:!1})))),n}getFilteredCandidatedByFilter(e,t){var n,i;const s=new Set(null===(n=t[ze])||void 0===n?void 0:n.filter((e=>e.isChecked)).map((e=>e.id))),a=new Set(null===(i=t[Ie])||void 0===i?void 0:i.filter((e=>e.isChecked)).map((e=>e.id)));if(0===s.size&&0===a.size)return e;if(s.size>0){const t=e.filter((e=>s.has(e.download.status)));return 0===a.size?t:t.filter((e=>{var t;return a.has(null!==(t=null==e?void 0:e.source_name)&&void 0!==t?t:"")}))}return e.filter((e=>{var t;return a.has(null!==(t=null==e?void 0:e.source_name)&&void 0!==t?t:"")}))}getEmptyMessage(){const{searchTerm:e,filteredCandidatesByFilter:t,filterOptions:n}=this.state;if(t.length)return{};const i=Object.values(n).flatMap((e=>e)).find((e=>e.isChecked));return e||i?{emptyMessage:(0,g.t)("Sorry, no debug files match your search query"),emptyAction:i?(0,U.tZ)(m.ZP,{onClick:this.handleResetFilter,priority:"primary",children:(0,g.t)("Reset filter")}):(0,U.tZ)(m.ZP,{onClick:this.handleResetSearchBar,priority:"primary",children:(0,g.t)("Clear search bar")})}:{emptyMessage:(0,g.t)("There are no debug files to be displayed")}}render(){const{organization:e,projSlug:t,baseUrl:n,onDelete:i,isLoading:s,candidates:a,eventDateReceived:o,hasReprocessWarning:r}=this.props,{searchTerm:l,filterOptions:d,filteredCandidatesByFilter:c}=this.state,u=a.some((e=>e.download.status===Z.il.OK&&e.source===P||e.download.status===Z.il.DELETED))||r;return(0,U.BX)(Pe,{children:[(0,U.BX)(Le,{children:[(0,U.BX)(Me,{children:[(0,g.t)("Debug File Candidates"),(0,U.tZ)(N.Z,{title:(0,g._N)("These are the Debug Information Files (DIFs) corresponding to this image which have been looked up on [docLink:symbol servers] during the processing of the stacktrace.",{docLink:(0,U.tZ)(C.Z,{href:"https://docs.sentry.io/platforms/native/data-management/debug-files/symbol-servers/"})}),size:"xs",position:"top",isHoverable:!0})]}),!!a.length&&(0,U.tZ)(Xe,{query:l,onChange:e=>this.handleChangeSearchTerm(e),placeholder:(0,g.t)("Search debug file candidates"),filter:(0,U.tZ)(R.Z,{options:d,onChange:this.handleChangeFilter})})]}),(0,U.tZ)($e,{headers:u?[(0,g.t)("Status"),(0,g.t)("Information"),""]:[(0,g.t)("Status"),(0,g.t)("Information")],isEmpty:!c.length,isLoading:s,...this.getEmptyMessage(),children:c.map(((s,a)=>(0,U.tZ)(Oe,{candidate:s,organization:e,baseUrl:n,projSlug:t,eventDateReceived:o,hasReprocessWarning:r,haveCandidatesAtLeastOneAction:u,onDelete:i},a)))})]})}}Ue.displayName="Candidates";const Ae=Ue,Pe=(0,s.Z)("div",{target:"eex5oi54"})({name:"vetbs0",styles:"display:grid"}),Le=(0,s.Z)("div",{target:"eex5oi53"})("display:flex;flex-direction:column;@media (min-width: ",(e=>e.theme.breakpoints[0]),"){flex-wrap:wrap;flex-direction:row;}"),Me=(0,s.Z)("div",{target:"eex5oi52"})("padding-right:",(0,f.Z)(4),";display:grid;gap:",(0,f.Z)(.5),";grid-template-columns:repeat(2, max-content);align-items:center;font-weight:600;color:",(e=>e.theme.gray400),";height:32px;flex:1;@media (min-width: ",(e=>e.theme.breakpoints[0]),"){margin-bottom:",(0,f.Z)(1),";}"),$e=(0,s.Z)(B.Z,{target:"eex5oi51"})("grid-template-columns:",(e=>3===e.headers.length?"max-content 1fr max-content":"max-content 1fr"),";height:100%;@media (min-width: ",(e=>e.theme.breakpoints[4]),"){overflow:visible;}"),Xe=(0,s.Z)(F.Z,{target:"eex5oi50"})("margin-bottom:",(0,f.Z)(1.5),";");var We=n("./app/components/notAvailable.tsx"),qe=n("./app/components/events/interfaces/debugMeta-v2/debugImage/processings.tsx");function Ke(e){let{image:t}=e;const{debug_id:n,debug_file:i,code_id:s,code_file:a,arch:o,unwind_status:r,debug_status:l}=null!=t?t:{},d=t?(0,x.a$)(t):void 0;return(0,U.BX)(Je,{children:[(0,U.tZ)(Ye,{coloredBg:!0,children:(0,g.t)("Address Range")}),(0,U.tZ)(He,{coloredBg:!0,children:null!=d?d:(0,U.tZ)(We.Z,{})}),(0,U.tZ)(Ye,{children:(0,g.t)("Debug ID")}),(0,U.tZ)(He,{children:null!=n?n:(0,U.tZ)(We.Z,{})}),(0,U.tZ)(Ye,{coloredBg:!0,children:(0,g.t)("Debug File")}),(0,U.tZ)(He,{coloredBg:!0,children:null!=i?i:(0,U.tZ)(We.Z,{})}),(0,U.tZ)(Ye,{children:(0,g.t)("Code ID")}),(0,U.tZ)(He,{children:null!=s?s:(0,U.tZ)(We.Z,{})}),(0,U.tZ)(Ye,{coloredBg:!0,children:(0,g.t)("Code File")}),(0,U.tZ)(He,{coloredBg:!0,children:null!=a?a:(0,U.tZ)(We.Z,{})}),(0,U.tZ)(Ye,{children:(0,g.t)("Architecture")}),(0,U.tZ)(He,{children:null!=o?o:(0,U.tZ)(We.Z,{})}),(0,U.tZ)(Ye,{coloredBg:!0,children:(0,g.t)("Processing")}),(0,U.tZ)(He,{coloredBg:!0,children:r||l?(0,U.tZ)(qe.Z,{unwind_status:r,debug_status:l}):(0,U.tZ)(We.Z,{})})]})}Ke.displayName="GeneralInfo";const Ge=Ke,Je=(0,s.Z)("div",{target:"eqrtww2"})({name:"24qvpm",styles:"display:grid;grid-template-columns:max-content 1fr"}),Ye=(0,s.Z)("div",{target:"eqrtww1"})("color:",(e=>e.theme.textColor),";padding:",(0,f.Z)(1)," ",(0,f.Z)(1.5)," ",(0,f.Z)(1)," ",(0,f.Z)(1),";",(e=>e.coloredBg&&`background-color: ${e.theme.backgroundSecondary};`),";"),He=(0,s.Z)(Ye,{target:"eqrtww0"})("white-space:pre-wrap;word-break:break-all;color:",(e=>e.theme.subText),";padding:",(0,f.Z)(1),";font-family:",(e=>e.theme.text.familyMono),";",(e=>e.coloredBg&&`background-color: ${e.theme.backgroundSecondary};`),";");var Ve,Qe=n("./app/components/alert.tsx"),et=n("./app/components/alertLink.tsx");function tt(e){let{onReprocessEvent:t,api:n,orgSlug:i,projSlug:s,eventId:o}=e;const[r,l]=(0,a.useState)();if((0,a.useEffect)((()=>{!async function(){try{const e=await n.requestPromise(`/projects/${i}/${s}/events/${o}/reprocessable/`);l(e)}catch{}}()}),[]),!r)return null;const{reprocessable:d,reason:c}=r;return d?(0,U.tZ)(et.Z,{priority:"warning",size:"small",onClick:t,withoutMarginBottom:!0,children:(0,g.t)("You’ve uploaded new debug files. Reprocess events in this issue to view a better stack trace")}):(0,U.tZ)(it,{type:"info",children:function(){switch(c){case Ve.EVENT_NOT_FOUND:return(0,g.t)("This event cannot be reprocessed because the event has not been found");case Ve.ATTACHMENT_NOT_FOUND:return(0,g.t)("This event cannot be reprocessed because a required attachment is missing");case Ve.UNPROCESSED_EVENT_NOT_FOUND:default:return(0,g.t)("This event cannot be reprocessed")}}()})}!function(e){e.UNPROCESSED_EVENT_NOT_FOUND="unprocessed_event.not_found",e.EVENT_NOT_FOUND="event.not_found",e.ATTACHMENT_NOT_FOUND="attachment.not_found"}(Ve||(Ve={})),tt.displayName="ReprocessAlert";const nt=tt,it=(0,s.Z)(Qe.Z,{target:"ednr7s70"})({name:"1ykowef",styles:"margin-bottom:0"});class st extends p.Z{constructor(){super(...arguments),(0,i.Z)(this,"handleDelete",(async e=>{const{organization:t,projSlug:n}=this.props;this.setState({loading:!0});try{await this.api.requestPromise(`/projects/${t.slug}/${n}/files/dsyms/?id=${e}`,{method:"DELETE"}),this.fetchData()}catch{(0,u.Iw)((0,g.t)("An error occurred while deleting the debug file.")),this.setState({loading:!1})}}))}getDefaultState(){return{...super.getDefaultState(),debugFiles:[]}}componentDidUpdate(e,t){!e.image&&this.props.image&&this.remountComponent(),super.componentDidUpdate(e,t)}getUplodedDebugFiles(e){return e.find((e=>e.source===P))}getEndpoints(){const{organization:e,projSlug:t,image:n}=this.props;if(!n)return[];const{debug_id:i,candidates:s=[]}=n,a=[];return this.getUplodedDebugFiles(s)&&a.push(["debugFiles",`/projects/${e.slug}/${t}/files/dsyms/?debug_id=${i}`,{query:{file_formats:["breakpad","macho","elf","pe","pdb","sourcebundle"]}}]),a}sortCandidates(e,t){const[n,i]=l()(e,(e=>e.download.status===Z.il.NO_PERMISSION)),[s,a]=l()(i,(e=>e.download.status===Z.il.MALFORMED)),[o,r]=l()(a,(e=>e.download.status===Z.il.ERROR)),[d,u]=l()(r,(e=>e.download.status===Z.il.OK)),[p,m]=l()(u,(e=>e.download.status===Z.il.DELETED));return[...c()(n,["source_name","location"]),...c()(s,["source_name","location"]),...c()(o,["source_name","location"]),...c()(d,["source_name","location"]),...c()(p,["source_name","location"]),...c()(t,["source_name","location"]),...c()(m,["source_name","location"])]}getCandidates(){const{debugFiles:e,loading:t}=this.state,{image:n}=this.props,{candidates:i=[]}=null!=n?n:{};if(!e||t)return i;const s=i.map((e=>{let{location:t,...n}=e;return{...n,location:null!=t&&t.includes(L)?t.split(L)[1]:t}})),a=new Set(s.map((e=>{let{location:t}=e;return t})).filter((e=>!!e))),[o,r]=l()(e,(e=>!a.has(e.id))),d=o.map((e=>{var t;const{data:n,symbolType:i,objectName:s,id:a,size:o,dateCreated:r,cpuName:l}=e,d=null!==(t=null==n?void 0:n.features)&&void 0!==t?t:[];return{download:{status:Z.il.UNAPPLIED,features:{has_sources:d.includes(b.Wi.SOURCES),has_debug_info:d.includes(b.Wi.DEBUG),has_unwind_info:d.includes(b.Wi.UNWIND),has_symbols:d.includes(b.Wi.SYMTAB)}},cpuName:l,location:a,filename:s,size:o,dateCreated:r,symbolType:i,fileType:(0,w.J)(e),source:P,source_name:(0,g.t)("Sentry")}})),[c,u]=l()(s,(e=>e.download.status===Z.il.OK&&e.source===P)),p=c.map((e=>{const t=r.find((t=>t.id===e.location));if(!t)return{...e,download:{...e.download,status:Z.il.DELETED}};const{symbolType:n,objectName:i,id:s,size:a,dateCreated:o,cpuName:l}=t;return{...e,cpuName:l,location:s,filename:i,size:a,dateCreated:o,symbolType:n,fileType:(0,w.J)(t)}}));return this.sortCandidates([...p,...u],d)}getDebugFilesSettingsLink(){const{organization:e,projSlug:t,image:n}=this.props,i=e.slug,s=null==n?void 0:n.debug_id;if(i&&t&&s)return`/settings/${i}/projects/${t}/debug-symbols/?query=${s}`}renderBody(){const{Header:e,Body:t,Footer:n,image:i,organization:s,projSlug:o,event:r,onReprocessEvent:l}=this.props,{loading:d}=this.state,{code_file:c,status:u}=null!=i?i:{},p=this.getDebugFilesSettingsLink(),h=this.getCandidates(),f=this.api.baseUrl,b=(0,x.UO)(c),v=h.some((e=>e.download.status===Z.il.UNAPPLIED))&&(0,y.B)(s.features,r)&&!!l;return(0,U.BX)(a.Fragment,{children:[(0,U.tZ)(e,{closeButton:!0,children:(0,U.BX)(rt,{children:[(0,g.t)("Image"),(0,U.tZ)(lt,{children:null!=b?b:(0,g.t)("Unknown")})]})}),(0,U.tZ)(t,{children:(0,U.BX)(ot,{children:[(0,U.tZ)(Ge,{image:i}),v&&(0,U.tZ)(nt,{api:this.api,orgSlug:s.slug,projSlug:o,eventId:r.id,onReprocessEvent:l}),(0,U.tZ)(Ae,{imageStatus:u,candidates:h,organization:s,projSlug:o,baseUrl:f,isLoading:d,eventDateReceived:r.dateReceived,onDelete:this.handleDelete,hasReprocessWarning:v})]})}),(0,U.tZ)(n,{children:(0,U.BX)(dt,{gap:1,children:[(0,U.tZ)(m.ZP,{href:"https://docs.sentry.io/platforms/native/data-management/debug-files/",external:!0,children:(0,g.t)("Read the docs")}),p&&(0,U.tZ)(m.ZP,{title:(0,g.t)("Search for this debug file in all images for the %s project",o),to:p,children:(0,g.t)("Open in Settings")})]})})]})}}const at=st,ot=(0,s.Z)("div",{target:"ez3htky3"})("display:grid;gap:",(0,f.Z)(3),";font-size:",(e=>e.theme.fontSizeMedium),";"),rt=(0,s.Z)("div",{target:"ez3htky2"})("display:grid;grid-template-columns:max-content 1fr;gap:",(0,f.Z)(1),";align-items:center;font-size:",(e=>e.theme.fontSizeExtraLarge),";max-width:calc(100% - 40px);word-break:break-all;"),lt=(0,s.Z)("span",{target:"ez3htky1"})("font-family:",(e=>e.theme.text.familyMono),";"),dt=(0,s.Z)(h.ZP,{target:"ez3htky0"})({name:"1bmnxg7",styles:"white-space:nowrap"}),ct=(0,o.iv)("[role='document']{overflow:initial;}@media (min-width: ",v.ZP.breakpoints[0],"){width:90%;}@media (min-width: ",v.ZP.breakpoints[3],"){width:70%;}@media (min-width: ",v.ZP.breakpoints[4],"){width:50%;}","")},"./app/types/debugFiles.tsx":(e,t,n)=>{let i,s,a;n.d(t,{BQ:()=>i,Wi:()=>s,Et:()=>a}),function(e){e.EXE="exe",e.DBG="dbg",e.LIB="lib"}(i||(i={})),function(e){e.SYMTAB="symtab",e.DEBUG="debug",e.UNWIND="unwind",e.SOURCES="sources"}(s||(s={})),function(e){e.HTTP="http",e.S3="s3",e.GCS="gcs",e.APP_STORE_CONNECT="appStoreConnect"}(a||(a={}))},"./app/utils/displayReprocessEventAction.tsx":(e,t,n)=>{n.d(t,{B:()=>o}),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var i=n("./app/types/index.tsx");const s=["cocoa","native"];function a(e){var t,n,i;const s=null!==(t=null==e?void 0:e.frames)&&void 0!==t?t:[],a=null!==(n=null==e||null===(i=e.stacktrace)||void 0===i?void 0:i.frames)&&void 0!==n?n:[];return s.length||a.length?[...s,...a].map((e=>e.platform)).filter((e=>!!e)):[]}function o(e,t){if(!t||!e.includes("reprocessing-v2"))return!1;const{entries:n}=t,o=n.find((e=>e.type===i.UZ.EXCEPTION));return!!o&&!!(function(e){var t;const{data:n}=e;return(null!==(t=n.values)&&void 0!==t?t:[]).some((e=>{var t;return"minidump"===(null===(t=e.mechanism)||void 0===t?void 0:t.type)}))}(o)||function(e){var t;const{data:n}=e;return(null!==(t=n.values)&&void 0!==t?t:[]).some((e=>{var t;return"applecrashreport"===(null===(t=e.mechanism)||void 0===t?void 0:t.type)}))}(o)||function(e,t){const{platform:n}=e;if(n&&s.includes(n))return!0;const o=function(e,t){var n,s,o,r,l;const d=(null!==(n=t.data.values)&&void 0!==n?n:[]).flatMap(a),c=null!==(s=null===(o=e.entries.find((e=>e.type===i.UZ.STACKTRACE)))||void 0===o?void 0:o.data)&&void 0!==s?s:{},u=Object.keys(c).flatMap((e=>a(c[e]))),p=(null!==(r=null===(l=e.entries.find((e=>e.type===i.UZ.THREADS)))||void 0===l?void 0:l.data.values)&&void 0!==r?r:[]).flatMap((e=>{let{stacktrace:t}=e;return a(t)}));return new Set([...d,...u,...p])}(e,t);return s.some((e=>o.has(e)))}(t,o))}},"./app/views/settings/projectDebugFiles/utils.tsx":(e,t,n)=>{n.d(t,{J:()=>a,V:()=>o});var i=n("./app/locale.tsx"),s=n("./app/types/debugFiles.tsx");function a(e){var t;switch(null===(t=e.data)||void 0===t?void 0:t.type){case s.BQ.EXE:return(0,i.t)("executable");case s.BQ.DBG:return(0,i.t)("debug companion");case s.BQ.LIB:return(0,i.t)("dynamic library");default:return null}}function o(e){switch(e){case s.Wi.SYMTAB:return(0,i.t)("Symbol tables are used as a fallback when full debug information is not available");case s.Wi.DEBUG:return(0,i.t)("Debug information provides function names and resolves inlined frames during symbolication");case s.Wi.UNWIND:return(0,i.t)("Stack unwinding information improves the quality of stack traces extracted from minidumps");case s.Wi.SOURCES:return(0,i.t)("Source code information allows Sentry to display source code context for stack frames");default:return null}}}}]);
//# sourceMappingURL=../sourcemaps/app_components_events_interfaces_debugMeta-v2_debugImageDetails_index_tsx.d1a0522895e9dc1c30edc9b74924339d.js.map