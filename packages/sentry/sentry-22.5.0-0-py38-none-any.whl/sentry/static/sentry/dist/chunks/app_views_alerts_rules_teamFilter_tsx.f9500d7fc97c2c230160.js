"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_alerts_rules_teamFilter_tsx"],{"./app/views/alerts/rules/teamFilter.tsx":(e,t,s)=>{s.d(t,{Z:()=>W});var o=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),n=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),i=s("../node_modules/lodash/debounce.js"),a=s.n(i),l=s("./app/components/forms/controls/input.tsx"),r=s("./app/components/loadingIndicator.tsx"),d=s("./app/constants/index.tsx"),c=s("./app/locale.tsx"),p=s("./app/styles/space.tsx"),h=s("./app/utils/isActiveSuperuser.tsx"),m=s("./app/utils/useTeams.tsx"),u=s("./app/components/badge.tsx"),g=s("./app/components/checkboxFancy/checkboxFancy.tsx"),x=s("./app/components/dropdownButton.tsx"),w=s("./app/components/dropdownControl.tsx"),b=s("./app/icons/index.tsx"),f=s("./app/styles/overflowEllipsis.tsx"),Z=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function y(e){let{onFilterChange:t,header:s,items:o,showMyTeamsDescription:i,fullWidth:a=!1}=e;const l=o.filter((e=>e.checked));let r=i?(0,c.t)("My Teams"):(0,c.t)("All Teams");return l.length>0&&(r=l[0].label),(0,Z.tZ)(w.ZP,{menuWidth:"240px",fullWidth:a,alwaysRenderMenu:!1,button:e=>{let{isOpen:t,getActorProps:s}=e;return(0,Z.BX)(v,{...s(),isOpen:t,icon:(0,Z.tZ)(b.qO,{}),priority:"default","data-test-id":"filter-button",fullWidth:a,rightAlignChevron:a,detached:!0,children:[(0,Z.tZ)(C,{fullWidth:a,children:r}),l.length>1&&(0,Z.tZ)(z,{text:"+"+(l.length-1)})]})},children:e=>{let{isOpen:i,getMenuProps:a}=e;return(0,Z.tZ)(k,{...a(),isOpen:i,blendCorner:!0,alignMenu:"left",width:"240px",detached:!0,children:(0,Z.BX)(M,{children:[s,(0,Z.tZ)(n.Fragment,{children:o.filter((e=>!e.filtered)).map((e=>(0,Z.BX)(T,{isChecked:e.checked,onClick:s=>{s.stopPropagation(),function(e){const s=new Set(o.filter((e=>e.checked)).map((e=>e.value)));s.has(e)?s.delete(e):s.add(e),t(s)}(e.value)},children:[(0,Z.tZ)(j,{children:e.label}),(0,Z.tZ)(g.Z,{isChecked:e.checked})]},e.value)))})]})})}})}y.displayName="Filter";const k=(0,o.Z)(w.VY,{target:"e18owixo6"})({name:"uoed0r",styles:"max-height:290px;overflow-y:auto"}),v=(0,o.Z)(x.Z,{target:"e18owixo5"})("white-space:nowrap;display:flex;align-items:center;z-index:",(e=>e.theme.zIndex.dropdown),";",(e=>e.fullWidth?"\n      width: 100%\n  ":"max-width: 200px"),";"),C=(0,o.Z)("span",{target:"e18owixo4"})("white-space:nowrap;text-overflow:ellipsis;overflow:hidden;flex:1;@media (max-width: ",(e=>e.theme.breakpoints[0]),"){text-align:",(e=>e.fullWidth&&"start"),";}"),z=(0,o.Z)(u.Z,{target:"e18owixo3"})({name:"ozd7xs",styles:"flex-shrink:0"}),M=(0,o.Z)("ul",{target:"e18owixo2"})({name:"z06qs",styles:"list-style:none;margin:0;padding:0"}),T=(0,o.Z)("li",{target:"e18owixo1"})("display:grid;grid-template-columns:1fr max-content;grid-column-gap:",(0,p.Z)(1),";align-items:center;padding:",(0,p.Z)(1)," ",(0,p.Z)(2),";border-bottom:1px solid ",(e=>e.theme.border),";:hover{background-color:",(e=>e.theme.backgroundSecondary),";}",g.Z,"{opacity:",(e=>e.isChecked?1:.3),";}&:hover ",g.Z,"{opacity:1;}&:hover span{color:",(e=>e.theme.blue300),";text-decoration:underline;}"),j=(0,o.Z)("div",{target:"e18owixo0"})("font-size:",(e=>e.theme.fontSizeMedium),";",f.Z,";"),F=y;function _(e){let{selectedTeams:t,handleChangeFilter:s,fullWidth:o=!1,showIsMemberTeams:i=!1,showMyTeamsAndUnassigned:l=!0,showMyTeamsDescription:r=!1}=e;const{teams:p,onSearch:u,fetching:g}=(0,m.Z)(),x=a()(u,d.Dk),[w,b]=(0,n.useState)(),f=(0,h.M)(),y=[{label:(0,c.t)("My Teams"),value:"myteams",checked:t.has("myteams"),filtered:!1},{label:(0,c.t)("Unassigned"),value:"unassigned",checked:t.has("unassigned"),filtered:!1}],k=p.filter((e=>e.isMember)),v=(f?p:i?k:p).map((e=>{let{id:s,slug:o}=e;return{label:o,value:s,filtered:!!w&&!o.toLowerCase().includes(w.toLowerCase()),checked:t.has(s)}}));return(0,Z.tZ)(F,{fullWidth:o,showMyTeamsDescription:r,header:(0,Z.BX)(S,{children:[(0,Z.tZ)(A,{autoFocus:!0,placeholder:(0,c.t)("Filter teams"),onClick:e=>{e.stopPropagation()},onChange:e=>{const t=e.target.value;b(t),x(t)},value:w||""}),g&&(0,Z.tZ)(B,{size:16,mini:!0})]}),onFilterChange:s,items:l?[...y,...v]:[...v]})}_.displayName="TeamFilter";const W=_,S=(0,o.Z)("div",{target:"e1jkzz582"})({name:"bjn8wh",styles:"position:relative"}),A=(0,o.Z)(l.Z,{target:"e1jkzz581"})("border:none;border-radius:0;border-bottom:solid 1px ",(e=>e.theme.border),";font-size:",(e=>e.theme.fontSizeMedium),";"),B=(0,o.Z)(r.Z,{target:"e1jkzz580"})("position:absolute;right:0;top:",(0,p.Z)(.75),";")}}]);
//# sourceMappingURL=../sourcemaps/app_views_alerts_rules_teamFilter_tsx.d824dbf6677de7843fd056fe075599ae.js.map