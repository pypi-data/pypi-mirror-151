"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_asyncComponent_tsx"],{"./app/components/asyncComponent.tsx":(e,t,s)=>{s.d(t,{Z:()=>I});var r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),n=s("../node_modules/@sentry/minimal/esm/index.js"),i=s("../node_modules/@sentry/types/esm/severity.js"),a=s("../node_modules/lodash/isEqual.js"),l=s.n(a),d=s("../node_modules/prop-types/index.js"),u=s("./app/api.tsx"),c=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),p=s("../node_modules/react-router/es/index.js"),m=s("../node_modules/lodash/debounce.js"),h=s.n(m),g=s("./app/components/forms/controls/input.tsx"),y=s("./app/components/loadingIndicator.tsx"),b=s("./app/locale.tsx"),x=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class Z extends o.Component{constructor(){super(...arguments),(0,r.Z)(this,"state",{query:"",busy:!1}),(0,r.Z)(this,"immediateQuery",(async e=>{const{location:t,api:s}=this.props;this.setState({busy:!0});try{const[r,,o]=await s.requestPromise(`${this.props.url}`,{includeAllArgs:!0,method:"GET",query:{...t.query,query:e}});this.state.query===e&&this.props.onSuccess(r,o)}catch{this.props.onError()}this.setState({busy:!1})})),(0,r.Z)(this,"query",h()(this.immediateQuery,this.props.debounceWait)),(0,r.Z)(this,"handleChange",(e=>{this.query(e),this.setState({query:e})})),(0,r.Z)(this,"handleInputChange",(e=>this.handleChange(e.target.value))),(0,r.Z)(this,"handleSearch",(e=>{const{updateRoute:t,onSearchSubmit:s}=this.props;if(e.preventDefault(),t){const{router:e,location:t}=this.props;e.push({pathname:t.pathname,query:{query:this.state.query}})}"function"==typeof s&&s(this.state.query,e)}))}render(){const{placeholder:e,children:t,className:s}=this.props,{busy:r,query:o}=this.state,n=(0,x.BX)(w,{onSubmit:this.handleSearch,children:[(0,x.tZ)(g.Z,{value:o,onChange:this.handleInputChange,className:s,placeholder:e}),r&&(0,x.tZ)(f,{size:18,hideMessage:!0,mini:!0})]});return void 0===t?n:t({defaultSearchBar:n,busy:r,value:o,handleChange:this.handleChange})}}Z.displayName="AsyncComponentSearchInput",(0,r.Z)(Z,"defaultProps",{placeholder:(0,b.t)("Search..."),debounceWait:200});const f=(0,c.Z)(y.Z,{target:"eup3waa1"})({name:"1jyfazj",styles:"position:absolute;right:25px;top:50%;transform:translateY(-13px)"}),w=(0,c.Z)("form",{target:"eup3waa0"})({name:"bjn8wh",styles:"position:relative"}),j=(0,p.withRouter)(Z);var v=s("./app/components/loadingError.tsx"),S=s("./app/utils/analytics.tsx"),E=s("./app/utils/getRouteStringFromRoutes.tsx"),R=s("./app/components/links/externalLink.tsx"),_=s("./app/components/sentryDocumentTitle.tsx"),q=s("./app/styles/organization.tsx"),k=s("./app/utils/withOrganization.tsx"),C=s("./app/utils/withProject.tsx");const D="Permission Denied";class N extends o.Component{componentDidMount(){const{organization:e,project:t,routes:s}=this.props,r=(0,E.Z)(s);n.$e((s=>{s.setFingerprint([D,r]),s.setExtra("route",r),s.setExtra("orgFeatures",e&&e.features||[]),s.setExtra("orgAccess",e&&e.access||[]),s.setExtra("projectFeatures",t&&t.features||[]),n.Tb(new Error(`${D}${r?` : ${r}`:""}`))}))}render(){return(0,x.tZ)(_.Z,{title:(0,b.t)("Permission Denied"),children:(0,x.tZ)(q.JH,{children:(0,x.tZ)(v.Z,{message:(0,b._N)("Your role does not have the necessary permissions to access this\n               resource, please read more about [link:organizational roles]",{link:(0,x.tZ)(R.Z,{href:"https://docs.sentry.io/product/accounts/membership/"})})})})})}}N.displayName="PermissionDenied";const T=(0,p.withRouter)((0,k.Z)((0,C.Z)(N)));var $=s("./app/views/routeError.tsx");function z(e,t){return function(){try{return t(...arguments)}catch(t){return console.error(t),window.setTimeout((()=>{throw t})),e.setState({error:t}),null}}}class L extends o.Component{constructor(e,t){var s;super(e,t),s=this,(0,r.Z)(this,"reloadOnVisible",!1),(0,r.Z)(this,"shouldReloadOnVisible",!1),(0,r.Z)(this,"shouldReload",!1),(0,r.Z)(this,"shouldRenderBadRequests",!1),(0,r.Z)(this,"disableErrorReport",!0),(0,r.Z)(this,"api",new u.KU),(0,r.Z)(this,"_measurement",void 0),(0,r.Z)(this,"markShouldMeasure",(function(){let{remainingRequests:e,error:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s._measurement.hasMeasured||(s._measurement.finished=0===e,s._measurement.error=t||s._measurement.error)})),(0,r.Z)(this,"remountComponent",(()=>{this.shouldReload?this.reloadData():this.setState(this.getDefaultState(),this.fetchData)})),(0,r.Z)(this,"visibilityReloader",(()=>this.shouldReloadOnVisible&&!this.state.loading&&!document.hidden&&this.reloadData())),(0,r.Z)(this,"fetchData",(e=>{const t=this.getEndpoints();t.length?(this.api.clear(),this.setState({loading:!0,error:!1,remainingRequests:t.length,...e}),t.forEach((e=>{let[t,s,r,o]=e;o=o||{};const n=this.props.location&&this.props.location.query||{};let i=r&&r.query||{};!o.paginate&&!n.cursor||o.disableEntireQuery||(i={...n,...i}),this.api.request(s,{method:"GET",...r,query:i,success:(e,s,r)=>{this.handleRequestSuccess({stateKey:t,data:e,resp:r},!0)},error:e=>{o.allowError&&o.allowError(e)&&(e=null),this.handleError(e,[t,s,r,o])}})}))):this.setState({loading:!1,error:!1})})),this.fetchData=z(this,this.fetchData.bind(this)),this.render=z(this,this.render.bind(this)),this.state=this.getDefaultState(),this._measurement={hasMeasured:!1},e.routes&&e.routes&&S.oF.mark({name:`async-component-${(0,E.Z)(e.routes)}`})}UNSAFE_componentWillMount(){this.api=new u.KU,this.fetchData(),this.reloadOnVisible&&document.addEventListener("visibilitychange",this.visibilityReloader)}componentDidUpdate(e,t){const s=!!t.router,r=void 0!==e.location,o=r?this.props.location:s?this.context.router.location:null,n=r?e.location:s?t.router.location:null;if(o&&n){if(!this._measurement.hasMeasured&&this._measurement.finished&&this.props.routes){const e=(0,E.Z)(this.props.routes);S.oF.measure({name:"app.component.async-component",start:`async-component-${e}`,data:{route:e,error:this._measurement.error}}),this._measurement.hasMeasured=!0}l()(this.props.params,e.params)&&o.search===n.search&&o.state===n.state||this.remountComponent()}}componentWillUnmount(){this.api.clear(),document.removeEventListener("visibilitychange",this.visibilityReloader)}getDefaultState(){const e=this.getEndpoints(),t={loading:!0,reloading:!1,error:!1,errors:{}};return e.forEach((e=>{let[s,r]=e;t[s]=null})),t}reloadData(){this.fetchData({reloading:!0})}onRequestSuccess(e){}onRequestError(e,t){}onLoadAllEndpointsSuccess(){}handleRequestSuccess(e,t){let{stateKey:s,data:r,resp:o}=e;this.setState((e=>{const n={[s]:r,[`${s}PageLinks`]:null==o?void 0:o.getResponseHeader("Link")};return t&&(n.remainingRequests=e.remainingRequests-1,n.loading=e.remainingRequests>1,n.reloading=e.reloading&&n.loading,this.markShouldMeasure({remainingRequests:n.remainingRequests})),n}),(()=>{0!==this.state.remainingRequests||this.state.error||this.onLoadAllEndpointsSuccess()})),this.onRequestSuccess({stateKey:s,data:r,resp:o})}handleError(e,t){const[s]=t;e&&e.responseText&&n.n_({message:e.responseText,category:"xhr",level:i.z.Error}),this.setState((t=>{const r=t.remainingRequests>1,o={[s]:null,errors:{...t.errors,[s]:e},error:t.error||!!e,remainingRequests:t.remainingRequests-1,loading:r,reloading:t.reloading&&r};return this.markShouldMeasure({remainingRequests:o.remainingRequests,error:!0}),o})),this.onRequestError(e,t)}getEndpoints(){return[]}renderSearchInput(e){let{stateKey:t,url:s,...r}=e;const[o]=this.getEndpoints()||[null],n=t||o&&o[0],i=s||o&&o[1];return(0,x.tZ)(j,{url:i,...r,api:this.api,onSuccess:(e,t)=>{this.handleRequestSuccess({stateKey:n,data:e,resp:t})},onError:()=>{this.renderError(new Error("Error with AsyncComponentSearchInput"))}})}renderLoading(){return(0,x.tZ)(y.Z,{})}renderError(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{errors:s}=this.state,r=Object.values(s).find((e=>401===(null==e?void 0:e.status))),o=Object.values(s).find((e=>403===(null==e?void 0:e.status))),n=!!Object.values(s).find((e=>0!==(null==e?void 0:e.status)))||t;if(r)return(0,x.tZ)(v.Z,{message:(0,b.t)("You are not authorized to access this resource.")});if(o)return(0,x.tZ)(T,{});if(this.shouldRenderBadRequests){const e=Object.values(s).filter((e=>{var t;return 400===(null==e?void 0:e.status)&&(null==e||null===(t=e.responseJSON)||void 0===t?void 0:t.detail)})).map((e=>e.responseJSON.detail));if(e.length)return(0,x.tZ)(v.Z,{message:[...new Set(e)].join("\n")})}return(0,x.tZ)($.Z,{error:e,disableLogSentry:!n,disableReport:this.disableErrorReport})}get shouldRenderLoading(){return this.state.loading&&(!this.shouldReload||!this.state.reloading)}renderComponent(){return this.shouldRenderLoading?this.renderLoading():this.state.error?this.renderError(new Error("Unable to load all required endpoints")):this.renderBody()}renderBody(){throw new Error("Not implemented")}render(){return this.renderComponent()}}L.displayName="AsyncComponent",(0,r.Z)(L,"contextTypes",{router:d.object});const I=L},"./app/components/list/index.tsx":(e,t,s)=>{s.d(t,{Z:()=>u});var r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=s("../node_modules/react/index.js"),n=s("./app/styles/space.tsx"),i=s("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js");const a=(e,t)=>{let{isSolid:s=!1,initialCounterValue:r=0}=t;return(0,i.iv)("&>li{padding-left:",(0,n.Z)(4),";:before{border-radius:50%;position:absolute;counter-increment:numberedList;content:counter(numberedList);display:flex;align-items:center;justify-content:center;text-align:center;left:0;line-height:1;",s?(0,i.iv)("width:24px;height:24px;font-weight:500;font-size:",e.fontSizeSmall,";background-color:",e.yellow300,";color:",e.black,";",""):(0,i.iv)("top:3px;width:18px;height:18px;font-weight:600;font-size:10px;border:1px solid ",e.gray500,";",""),";}}counter-reset:numberedList ",r,";","")},l={numeric:"numeric","colored-numeric":"colored-numeric",bullet:"bullet"};var d=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const u=(0,r.Z)((e=>{let{children:t,className:s,symbol:r,initialCounterValue:n,...i}=e;const a=(()=>{switch(r){case"numeric":case"colored-numeric":return"ol";default:return"ul"}})();return(0,d.tZ)(a,{className:s,...i,children:r&&"string"!=typeof r?o.Children.map(t,(e=>(0,o.isValidElement)(e)?(0,o.cloneElement)(e,{symbol:r}):e)):t})}),{target:"e4p4vya0"})("margin:0;padding:0;list-style:none;display:grid;gap:",(0,n.Z)(.5),";",(e=>"string"==typeof e.symbol&&l[e.symbol]&&function(e,t,s){switch(t){case"numeric":return a(e,{initialCounterValue:s});case"colored-numeric":return a(e,{isSolid:!0,initialCounterValue:s});default:return(e=>(0,i.iv)("padding-left:",(0,n.Z)(3),";list-style-type:circle;&>li::marker{color:",e.subText,";}",""))(e)}}(e.theme,e.symbol,e.initialCounterValue)),";")},"./app/components/list/listItem.tsx":(e,t,s)=>{s.d(t,{Z:()=>l});var r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=s("./app/styles/space.tsx"),n=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const i=(0,r.Z)((e=>{let{children:t,className:s,symbol:r,onClick:o,"aria-label":i,"data-test-id":l}=e;return(0,n.BX)("li",{className:s,onClick:o,role:o?"button":void 0,"aria-label":o?i:void 0,"data-test-id":l,children:[r&&(0,n.tZ)(a,{children:r}),t]})}),{target:"e4r1zxd1"})("position:relative;",(e=>e.symbol&&`padding-left: ${(0,o.Z)(4)};`),";"),a=(0,r.Z)("div",{target:"e4r1zxd0"})({name:"14k8zu0",styles:"display:flex;align-items:center;position:absolute;top:0;left:0;min-height:22.5px"}),l=i},"./app/components/loadingError.tsx":(e,t,s)=>{s.d(t,{Z:()=>u});var r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=s("./app/components/alert.tsx"),n=s("./app/components/button.tsx"),i=s("./app/components/panels/index.tsx"),a=s("./app/locale.tsx"),l=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function d(e){let{className:t,onRetry:s,message:r=(0,a.t)("There was an error loading data.")}=e;return(0,l.tZ)(c,{type:"error",showIcon:!0,className:t,trailingItems:s&&(0,l.tZ)(n.ZP,{onClick:s,type:"button",priority:"default",size:"small",children:(0,a.t)("Retry")}),children:r})}d.displayName="LoadingError";const u=d,c=(0,r.Z)(o.Z,{target:"e1aoltpz0"})(i.s_," &{border-radius:0;border-width:1px 0;}")},"./app/components/sentryDocumentTitle.tsx":(e,t,s)=>{s.d(t,{Z:()=>a});var r=s("../node_modules/react-document-title/index.js"),o=s.n(r),n=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function i(e){let{title:t="",orgSlug:s,projectSlug:r,noSuffix:i,children:a}=e;const l=s&&r?`${t} - ${s} - ${r}`:s?`${t} - ${s}`:r?`${t} - ${r}`:t,d=i?l:""!==l?`${l} - Sentry`:"Sentry";return(0,n.tZ)(o(),{title:d,children:a})}i.displayName="SentryDocumentTitle";const a=i},"./app/styles/organization.tsx":(e,t,s)=>{s.d(t,{JH:()=>n,mr:()=>i,Gh:()=>a});var r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=s("./app/styles/space.tsx");const n=(0,r.Z)("div",{target:"e12cn1y22"})("display:flex;flex-direction:column;flex:1;padding:",(0,o.Z)(3)," ",(0,o.Z)(4),";"),i=(0,r.Z)("div",{target:"e12cn1y21"})("display:flex;justify-content:space-between;align-items:center;margin-bottom:",(0,o.Z)(2),";min-height:32px;"),a=(0,r.Z)("h4",{target:"e12cn1y20"})((e=>e.theme.text.pageTitle),";color:",(e=>e.theme.headingColor),";flex:1;margin:0;")},"./app/utils/getRouteStringFromRoutes.tsx":(e,t,s)=>{s.d(t,{Z:()=>n});var r=s("../node_modules/lodash/findLastIndex.js"),o=s.n(r);function n(e){if(!Array.isArray(e))return"";const t=e.filter((e=>!!e.path)),s=o()(t,(e=>{let{path:t}=e;return t.startsWith("/")}));return t.slice(s).filter((e=>{let{path:t}=e;return!!t})).map((e=>{let{path:t}=e;return t})).join("")}},"./app/utils/withProject.tsx":(e,t,s)=>{s.d(t,{Z:()=>l});var r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=s("../node_modules/react/index.js"),n=s("./app/sentryTypes.tsx"),i=s("./app/utils/getDisplayName.tsx"),a=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const l=e=>{var t;return t=class extends o.Component{render(){const{project:t,...s}=this.props;return(0,a.tZ)(e,{project:null!=t?t:this.context.project,...s})}},(0,r.Z)(t,"displayName",`withProject(${(0,i.Z)(e)})`),(0,r.Z)(t,"contextTypes",{project:n.Z.Project}),t}},"./app/views/routeError.tsx":(e,t,s)=>{s.d(t,{Z:()=>f});var r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=s("../node_modules/react/index.js"),n=s("../node_modules/react-router/es/index.js"),i=s("../node_modules/@sentry/minimal/esm/index.js"),a=s("../node_modules/@sentry/browser/esm/sdk.js"),l=s("./app/components/alert.tsx"),d=s("./app/components/list/index.tsx"),u=s("./app/components/list/listItem.tsx"),c=s("./app/locale.tsx"),p=s("./app/stores/organizationStore.tsx"),m=s("./app/stores/useLegacyStore.tsx"),h=s("./app/styles/space.tsx"),g=s("./app/utils/getRouteStringFromRoutes.tsx"),y=s("./app/utils/withProject.tsx"),b=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function x(e){let{error:t,disableLogSentry:s,disableReport:r,project:n,routes:h}=e;const{organization:y}=(0,m.X)(p.Z);return(0,o.useEffect)((()=>{if(s)return;if(!t)return;const e=(0,g.Z)(h),o=t=>{var s,r,o;return t.setExtra("route",e),t.setExtra("orgFeatures",null!==(s=null==y?void 0:y.features)&&void 0!==s?s:[]),t.setExtra("orgAccess",null!==(r=null==y?void 0:y.access)&&void 0!==r?r:[]),t.setExtra("projectFeatures",null!==(o=null==n?void 0:n.features)&&void 0!==o?o:[]),t};if(e)try{t.message=`${t.message}: ${e}`}catch(e){i.$e((t=>{o(t),i.Tb(e)}))}const l=window.setTimeout((()=>{i.$e((e=>{o(e),i.Tb(t)})),r||a.jp()}));return function(){window.clearTimeout(l)}}),[t,s]),(0,o.useEffect)((()=>()=>{var e;return null===(e=document.querySelector(".sentry-error-embed-wrapper"))||void 0===e?void 0:e.remove()})),(0,b.BX)(l.Z,{type:"error",children:[(0,b.tZ)(Z,{children:(0,c.t)("Oops! Something went wrong")}),(0,b.tZ)("p",{children:(0,c.t)("\n          It looks like you've hit an issue in our client application. Don't worry though!\n          We use Sentry to monitor Sentry and it's likely we're already looking into this!\n          ")}),(0,b.tZ)("p",{children:(0,c.t)("If you're daring, you may want to try the following:")}),(0,b.BX)(d.Z,{symbol:"bullet",children:[window&&window.adblockSuspected&&(0,b.tZ)(u.Z,{children:(0,c.t)("We detected something AdBlock-like. Try disabling it, as it's known to cause issues.")}),(0,b.tZ)(u.Z,{children:(0,c._N)("Give it a few seconds and [link:reload the page].",{link:(0,b.tZ)("a",{onClick:()=>{window.location.href=window.location.href}})})}),(0,b.tZ)(u.Z,{children:(0,c._N)("If all else fails, [link:contact us] with more details.",{link:(0,b.tZ)("a",{href:"https://github.com/getsentry/sentry/issues/new/choose"})})})]})]})}x.displayName="RouteError";const Z=(0,r.Z)("h1",{target:"e1isf1bc0"})("font-size:",(e=>e.theme.fontSizeLarge),";line-height:1.4;margin-bottom:",(0,h.Z)(1),";"),f=(0,n.withRouter)((0,y.Z)(x))}}]);
//# sourceMappingURL=../sourcemaps/app_components_asyncComponent_tsx.f2a6f09ee6c4d9ffe16ce8332e5e3489.js.map