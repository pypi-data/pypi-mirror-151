"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_idBadge_index_tsx"],{"./app/components/errorBoundary.tsx":(e,t,s)=>{s.d(t,{Z:()=>Z});var r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),a=s("../node_modules/react-router/es/index.js"),n=s("../node_modules/@sentry/minimal/esm/index.js"),d=s("./app/components/alert.tsx"),l=s("./app/components/errors/detailedError.tsx"),m=s("./app/locale.tsx"),c=s("./app/utils/getDynamicText.tsx"),u=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const p=["Raspberries","Snap","Frig","Welp","Uhhhh","Hmmm"];class h extends o.Component{constructor(){super(...arguments),(0,r.Z)(this,"state",{error:null}),(0,r.Z)(this,"unlistenBrowserHistory",void 0),(0,r.Z)(this,"_isMounted",!1)}componentDidMount(){this._isMounted=!0,this.unlistenBrowserHistory=a.browserHistory.listen((()=>{this._isMounted&&this.setState({error:null})}))}componentDidCatch(e,t){const{errorTag:s}=this.props;this.setState({error:e}),n.$e((r=>{s&&Object.keys(s).forEach((e=>r.setTag(e,s[e]))),r.setExtra("errorInfo",t),n.Tb(e)}))}componentWillUnmount(){this._isMounted=!1,this.unlistenBrowserHistory&&this.unlistenBrowserHistory()}render(){const{error:e}=this.state;if(!e)return this.props.children;const{customComponent:t,mini:s,message:r,className:i}=this.props;return void 0!==t?t:s?(0,u.tZ)(d.Z,{type:"error",showIcon:!0,className:i,children:r||(0,m.t)("There was a problem rendering this component")}):(0,u.BX)(g,{children:[(0,u.tZ)(l.Z,{heading:(0,c.Z)({value:p[Math.floor(Math.random()*p.length)],fixed:p[0]}),message:(0,m.t)("Something went horribly wrong rendering this page.\nWe use a decent error reporting service so this will probably be fixed soon. Unless our error reporting service is also broken. That would be awkward.\nAnyway, we apologize for the inconvenience.")}),(0,u.tZ)(b,{children:e.toString()})]})}}h.displayName="ErrorBoundary",(0,r.Z)(h,"defaultProps",{mini:!1});const g=(0,i.Z)("div",{target:"eba3yl21"})("color:",(e=>e.theme.textColor),";padding:",(e=>3*e.theme.grid),"px;max-width:1000px;margin:auto;"),b=(0,i.Z)("pre",{target:"eba3yl20"})({name:"1r001o6",styles:"white-space:pre-wrap;margin:32px;margin-left:85px;margin-right:18px"}),Z=h},"./app/components/errors/detailedError.tsx":(e,t,s)=>{s.d(t,{Z:()=>h});var r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),o=s("../node_modules/@sentry/browser/esm/sdk.js"),a=s("../node_modules/classnames/index.js"),n=s.n(a),d=s("./app/components/button.tsx"),l=s("./app/icons/index.tsx"),m=s("./app/locale.tsx"),c=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function u(e){e.preventDefault(),o.jp()}class p extends i.Component{constructor(){super(...arguments),(0,r.Z)(this,"forceUpdateTimeout",void 0)}componentDidMount(){this.forceUpdateTimeout=window.setTimeout((()=>this.forceUpdate()),100)}componentWillUnmount(){window.clearTimeout(this.forceUpdateTimeout)}render(){const{className:e,heading:t,message:s,onRetry:r,hideSupportLinks:i}=this.props,a=n()("detailed-error",e),p=!!r||!i;return(0,c.BX)("div",{className:a,children:[(0,c.tZ)("div",{className:"detailed-error-icon",children:(0,c.tZ)(l.Gy,{size:"lg"})}),(0,c.BX)("div",{className:"detailed-error-content",children:[(0,c.tZ)("h4",{children:t}),(0,c.tZ)("div",{className:"detailed-error-content-body",children:s}),p&&(0,c.BX)("div",{className:"detailed-error-content-footer",children:[(0,c.tZ)("div",{children:r&&(0,c.tZ)("a",{onClick:r,className:"btn btn-default",children:(0,m.t)("Retry")})}),!i&&(0,c.BX)("div",{className:"detailed-error-support-links",children:[o.eW()&&(0,c.tZ)(d.ZP,{priority:"link",onClick:u,children:(0,m.t)("Fill out a report")}),(0,c.tZ)("a",{href:"https://status.sentry.io/",children:(0,m.t)("Service status")}),(0,c.tZ)("a",{href:"https://sentry.io/support/",children:(0,m.t)("Contact support")})]})]})]})]})}}p.displayName="DetailedError",(0,r.Z)(p,"defaultProps",{hideSupportLinks:!1});const h=p},"./app/components/idBadge/index.tsx":(e,t,s)=>{s.d(t,{Z:()=>_});var r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=s("./app/components/errorBoundary.tsx"),o=s("../node_modules/lodash/omit.js"),a=s.n(o),n=s("./app/components/avatar/userAvatar.tsx"),d=s("./app/components/links/link.tsx"),l=s("./app/styles/overflowEllipsis.tsx"),m=s("./app/styles/space.tsx"),c=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const u=e=>{let{avatarSize:t=24,useLink:s=!0,hideEmail:r=!1,displayName:i,displayEmail:o,member:a,orgId:n,className:d}=e;const l=function(e){return e.user?e.user:{id:"",name:e.name,email:e.email,username:"",ip_address:""}}(a),m=i||l.name||l.email||l.username||l.ipAddress||l.ip_address;return(0,c.BX)(p,{className:d,children:[(0,c.tZ)(Z,{user:l,size:t}),(0,c.BX)(h,{children:[(0,c.tZ)(b,{useLink:s&&!!n,hideEmail:r,to:a&&n&&`/settings/${n}/members/${a.id}/`||"",children:m}),!r&&(0,c.tZ)(g,{children:o||l.email})]})]})};u.displayName="MemberBadge";const p=(0,r.Z)("div",{target:"ez5m0je4"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),h=(0,r.Z)("div",{target:"ez5m0je3"})({name:"1ntpqxw",styles:"flex-shrink:1;min-width:0;line-height:1"}),g=(0,r.Z)("div",{target:"ez5m0je2"})("font-size:0.875em;margin-top:",(0,m.Z)(.25),";color:",(e=>e.theme.gray300),";",l.Z,";"),b=(0,r.Z)((e=>{let{useLink:t,to:s,...r}=e;const i=a()(r,"hideEmail");return t?(0,c.tZ)(d.Z,{to:s,...i}):(0,c.tZ)("span",{...i})}),{target:"ez5m0je1"})("font-weight:",(e=>e.hideEmail?"inherit":"bold"),";line-height:1.15em;",l.Z,";"),Z=(0,r.Z)(n.Z,{target:"ez5m0je0"})("min-width:",(0,m.Z)(3),";min-height:",(0,m.Z)(3),";margin-right:",(0,m.Z)(1),";"),x=u;var y=s("./app/components/idBadge/badgeDisplayName.tsx"),w=s("./app/components/idBadge/baseBadge.tsx");const f=e=>{let{hideOverflow:t=!0,organization:s,...r}=e;return(0,c.tZ)(w.Z,{displayName:(0,c.tZ)(y.Z,{hideOverflow:t,children:s.slug}),organization:s,...r})};f.displayName="OrganizationBadge";const j=f;var v=s("./app/components/idBadge/projectBadge.tsx"),B=s("./app/components/idBadge/teamBadge/index.tsx"),T=s("./app/components/idBadge/userBadge.tsx");const S=e=>{const t=function(e){let{organization:t,team:s,project:r,user:i,member:o,...a}=e;return t?(0,c.tZ)(j,{organization:t,...a}):s?(0,c.tZ)(B.a,{team:s,...a}):r?(0,c.tZ)(v.Z,{project:r,...a}):i?(0,c.tZ)(T.Z,{user:i,...a}):o?(0,c.tZ)(x,{member:o,...a}):null}(e);if(!t)throw new Error("IdBadge: required property missing (organization, project, team, member, user) or misconfigured");return(0,c.tZ)(N,{mini:!0,children:t})};S.displayName="IdBadge";const _=S,N=(0,r.Z)(i.Z,{target:"eddmkjl0"})({name:"uvbite",styles:"background-color:transparent;border-color:transparent;display:flex;align-items:center;margin-bottom:0;box-shadow:none;padding:0"})},"./app/components/idBadge/teamBadge/index.tsx":(e,t,s)=>{s.d(t,{a:()=>m});var r=s("./app/stores/teamStore.tsx"),i=s("./app/stores/useLegacyStore.tsx"),o=s("./app/components/idBadge/badgeDisplayName.tsx"),a=s("./app/components/idBadge/baseBadge.tsx"),n=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const d=e=>{let{hideOverflow:t=!0,team:s,...r}=e;return(0,n.tZ)(a.Z,{"data-test-id":"team-badge",displayName:(0,n.tZ)(o.Z,{hideOverflow:t,children:`#${s.slug}`}),team:s,...r})};d.displayName="Badge";const l=d;function m(e){const{teams:t}=(0,i.X)(r.Z),s=t.find((t=>t.id===e.team.id));return(0,n.tZ)(l,{...e,team:null!=s?s:e.team})}m.displayName="TeamBadge"},"./app/stores/teamStore.tsx":(e,t,s)=>{s.d(t,{Z:()=>d}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js");var r=s("../node_modules/reflux/src/index.js"),i=s("./app/actions/teamActions.tsx"),o=s("./app/utils.tsx"),a=s("./app/utils/makeSafeRefluxStore.ts");const n={initialized:!1,state:{teams:[],loadedUserTeams:!1,loading:!0,hasMore:null,cursor:null},unsubscribeListeners:[],init(){this.reset(),this.unsubscribeListeners.push(this.listenTo(i.Z.createTeamSuccess,this.onCreateSuccess)),this.unsubscribeListeners.push(this.listenTo(i.Z.fetchDetailsSuccess,this.onUpdateSuccess)),this.unsubscribeListeners.push(this.listenTo(i.Z.loadTeams,this.loadInitialData)),this.unsubscribeListeners.push(this.listenTo(i.Z.loadUserTeams,this.loadUserTeams)),this.unsubscribeListeners.push(this.listenTo(i.Z.removeTeamSuccess,this.onRemoveSuccess)),this.unsubscribeListeners.push(this.listenTo(i.Z.updateSuccess,this.onUpdateSuccess)),this.unsubscribeListeners.push(this.listenTo(i.Z.reset,this.reset))},reset(){this.state={teams:[],loadedUserTeams:!1,loading:!0,hasMore:null,cursor:null}},setTeams(e,t,s){this.initialized=!0,this.state={teams:e,loadedUserTeams:(0,o.ri)(t)?!t:this.state.loadedUserTeams,loading:!1,hasMore:null!=t?t:this.state.hasMore,cursor:null!=s?s:this.state.cursor},this.trigger(new Set(e.map((e=>e.id))))},loadInitialData(e,t,s){const r=this.updateTeams(e);this.setTeams(r,t,s)},loadUserTeams(e){const t=this.updateTeams(e);this.state={...this.state,loadedUserTeams:!0,teams:t},this.trigger(new Set(t.map((e=>e.id))))},onUpdateSuccess(e,t){if(!t)return;if(!this.getBySlug(e))return this.state={...this.state,teams:[...this.state.teams,t]},void this.trigger(new Set([e]));if(t.slug!==e){const s=[...this.state.teams.filter((t=>{let{slug:s}=t;return s!==e})),t];return this.state={...this.state,teams:s},void this.trigger(new Set([t.slug]))}const s=[...this.state.teams],r=s.findIndex((e=>e.slug===t.slug));s[r]=t,this.state={...this.state,teams:s},this.trigger(new Set([e]))},onRemoveSuccess(e){const t=this.state.teams.filter((t=>t.slug!==e));this.setTeams(t)},onCreateSuccess(e){this.loadInitialData([e])},getState(){return this.state},getById(e){const{teams:t}=this.state;return t.find((t=>t.id.toString()===e.toString()))||null},getBySlug(e){const{teams:t}=this.state;return t.find((t=>t.slug===e))||null},getAll(){return this.state.teams},updateTeams(e){const t=this.state.teams.reduce(((e,t)=>(e[t.id]=t,e)),{});return e.reduce(((e,t)=>(e[t.id]=t,e)),t),Object.values(t).sort(((e,t)=>e.slug.localeCompare(t.slug)))}},d=(0,r.createStore)((0,a.Y)(n))}}]);
//# sourceMappingURL=../sourcemaps/app_components_idBadge_index_tsx.388889a912b65e7b1ff55cf34d060bc8.js.map