"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_actions_memberActions_tsx-app_components_charts_styles_tsx-app_stores_groupStore_tsx-app_-94c689","app_components_charts_styles_tsx","app_views_performance_traceDetails_utils_tsx"],{"./app/actions/memberActions.tsx":(e,t,s)=>{s.d(t,{Z:()=>a});const i=(0,s("../node_modules/reflux/src/index.js").createActions)(["createSuccess","update","updateError","updateSuccess","resendMemberInvite","resendMemberInviteSuccess","resendMemberInviteError"]),a="app"==s.j?i:null},"./app/components/charts/styles.tsx":(e,t,s)=>{s.d(t,{OT:()=>n,uN:()=>r,m2:()=>o,xx:()=>d,Gh:()=>l,ws:()=>p,r3:()=>c,BO:()=>m});var i=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=s("./app/styles/space.tsx");const n=(0,i.Z)("h4",{target:"ey7s1vy7"})("display:inline-grid;grid-auto-flow:column;gap:",(0,a.Z)(1),";align-items:center;color:",(e=>e.theme.subText),";font-size:",(e=>e.theme.fontSizeMedium),";margin:",(0,a.Z)(1)," 0;"),r=(0,i.Z)("span",{target:"ey7s1vy6"})("color:",(e=>e.theme.subText),";font-size:",(e=>e.theme.fontSizeMedium),";margin-right:",(0,a.Z)(1),";"),o=(0,i.Z)("div",{target:"ey7s1vy5"})("display:grid;align-items:center;@media (min-width: ",(e=>e.theme.breakpoints[0]),"){grid-auto-flow:column;grid-column-gap:",(0,a.Z)(1),";}"),d=(0,i.Z)("div",{target:"ey7s1vy4"})("padding:",(0,a.Z)(1)," ",(0,a.Z)(1)," ",(0,a.Z)(1)," ",(0,a.Z)(3),";border-top:1px solid ",(e=>e.theme.border),";@media (min-width: ",(e=>e.theme.breakpoints[0]),"){display:flex;justify-content:space-between;flex-wrap:wrap;}"),l=(0,i.Z)("div",{target:"ey7s1vy3"})("display:inline-grid;grid-auto-flow:column;gap:",(0,a.Z)(1),";",(e=>e.theme.text.cardTitle),";color:",(e=>e.theme.headingColor),";align-items:center;"),p="app"==s.j?(0,i.Z)(l,{target:"ey7s1vy2"})("background-color:",(e=>e.theme.background),";border-bottom-right-radius:",(e=>e.theme.borderRadius),";position:absolute;z-index:1;"):null,c=(0,i.Z)("div",{target:"ey7s1vy1"})("display:inline-grid;grid-auto-flow:column;gap:",(0,a.Z)(1),";align-items:baseline;background-color:",(e=>e.theme.background),";position:absolute;top:40px;z-index:1;font-size:",(e=>e.theme.headerFontSize),";"),m=(0,i.Z)("div",{target:"ey7s1vy0"})("padding:",(0,a.Z)(2)," ",(0,a.Z)(3),";")},"./app/components/events/interfaces/spans/constants.tsx":(e,t,s)=>{s.d(t,{DX:()=>i,rz:()=>a,bl:()=>n,h0:()=>r,ZR:()=>o,S5:()=>d,tJ:()=>l});const i=120,a=4,n=i/a,r=20,o=i+r+20+1,d=18,l=10},"./app/components/events/interfaces/spans/utils.tsx":(e,t,s)=>{s.d(t,{kP:()=>w,IG:()=>b,n0:()=>y,TC:()=>_,hw:()=>T,ro:()=>E,Rr:()=>x,yk:()=>A,PA:()=>I,k9:()=>C,yn:()=>j,h_:()=>D,PC:()=>z,o0:()=>R,is:()=>P,vu:()=>W,rF:()=>k,ct:()=>F,PQ:()=>V,ll:()=>L,sT:()=>$}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js");var i=s("../node_modules/react-router/es/index.js"),a=s("../node_modules/lodash/isNumber.js"),n=s.n(a),r=s("../node_modules/lodash/isString.js"),o=s.n(r),d=s("../node_modules/lodash/set.js"),l=s.n(d),p=s("../node_modules/moment/moment.js"),c=s.n(p),m=s("./app/types/event.tsx");if("app"==s.j)var u=s("./app/types/utils.tsx");var h=s("./app/utils/performance/vitals/constants.tsx"),g=s("./app/utils/performanceForSentry.tsx"),f=s("./app/components/events/interfaces/spans/constants.tsx");const w=e=>{const t=(0,g.Zz)();if(!t||0===e)return;const s=[10,100,200,300,400,500,600,700,800,900,1001].find((t=>e<=t))||-1;t.setTag("ui.spanCount",e),t.setTag("ui.spanCount.grouped",`<=${s}`)},S=e=>{const{startTimestamp:t,endTimestamp:s}=e;return t>s?{startTimestamp:s,endTimestamp:t}:e};let v;!function(e){e[e.Stable=0]="Stable",e[e.Reversed=1]="Reversed",e[e.Equal=2]="Equal"}(v||(v={}));const b=e=>{const{viewStart:t,viewEnd:s}=e,{startTimestamp:i,endTimestamp:a}=S({startTimestamp:e.traceStartTimestamp,endTimestamp:e.traceEndTimestamp}),n=a-i,r=i+t*n,o=a-(1-s)*n-r;return e=>{if(n<=0)return{type:"TRACE_TIMESTAMPS_EQUAL",isSpanVisibleInView:!0};if(o<=0)return{type:"INVALID_VIEW_WINDOW",isSpanVisibleInView:!0};const{startTimestamp:t,endTimestamp:s}=S(e),i=(e=>{const t=e.startTimestamp,s=e.endTimestamp;return t<s?v.Stable:t===s?v.Equal:v.Reversed})(e),a=(t-r)/o,d=(s-r)/o,l=d>0&&a<1;switch(i){case v.Equal:return{type:"TIMESTAMPS_EQUAL",start:a,width:1,isSpanVisibleInView:d>=0&&a<=1};case v.Reversed:return{type:"TIMESTAMPS_REVERSED",start:a,end:d,isSpanVisibleInView:l};case v.Stable:return{type:"TIMESTAMPS_STABLE",start:a,end:d,isSpanVisibleInView:l};default:return i}}};function y(e){return{trace_id:e.traceID,span_id:e.rootSpanID,parent_span_id:e.parentSpanID,start_timestamp:e.traceStartTimestamp,timestamp:e.traceEndTimestamp,op:e.op,description:e.description,data:{},status:e.rootSpanStatus,hash:e.hash,exclusive_time:e.exclusiveTime}}function _(e){return{start:c().unix(e.start).subtract(12,"hours").utc().format("YYYY-MM-DDTHH:mm:ss.SSS"),end:c().unix(e.end).add(12,"hours").utc().format("YYYY-MM-DDTHH:mm:ss.SSS")}}function T(e){return"type"in e&&"gap"===e.type}function E(e){if("type"in e){if("orphan"===e.type)return!0;if("gap"===e.type)return e.isOrphan}return!1}function x(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return T(e)?t:e.span_id}function A(e){if(!T(e))return e.op}function I(e){var t;return null==e||null===(t=e.contexts)||void 0===t?void 0:t.trace}function C(e){var t;const s=e.entries.find((e=>e.type===m.UZ.SPANS)),i=null!==(t=null==s?void 0:s.data)&&void 0!==t?t:[],a=I(e),r=a&&a.trace_id||"",d=a&&a.span_id||"",p=a&&a.op||"transaction",c=a&&a.description,h=a&&a.parent_span_id,g=a&&a.status,f=a&&a.hash,w=a&&a.exclusive_time;if(!s||i.length<=0)return{op:p,childSpans:{},traceStartTimestamp:e.startTimestamp,traceEndTimestamp:e.endTimestamp,traceID:r,rootSpanID:d,rootSpanStatus:g,parentSpanID:h,spans:[],description:c,hash:f,exclusiveTime:w};const S=new Set(i.map((e=>e.span_id)));S.add(d);const v={op:p,childSpans:{},traceStartTimestamp:e.startTimestamp,traceEndTimestamp:e.endTimestamp,traceID:r,rootSpanID:d,rootSpanStatus:g,parentSpanID:h,spans:i,description:c,hash:f,exclusiveTime:w},b=i.reduce(((e,t)=>{var s;let i=t;const a=function(e){return T(e)?"gap-span":e.parent_span_id}(i),r=a&&S.has(a);var p;p=a,o()(p)&&p.length>0&&r||(i.parent_span_id=d,i={type:"orphan",...i}),(0,u.hu)(i.parent_span_id);const c=null!==(s=e.childSpans[i.parent_span_id])&&void 0!==s?s:[];c.push(i),l()(e.childSpans,i.parent_span_id,c),(!e.traceStartTimestamp||i.start_timestamp<e.traceStartTimestamp)&&(e.traceStartTimestamp=i.start_timestamp);const m=n()(i.timestamp);return e.traceEndTimestamp?m&&i.timestamp>e.traceEndTimestamp?(e.traceEndTimestamp=i.timestamp,e):(i.start_timestamp>e.traceEndTimestamp&&(e.traceEndTimestamp=i.start_timestamp),e):m?(e.traceEndTimestamp=i.timestamp,e):(e.traceEndTimestamp=i.start_timestamp,e)}),v);return Object.values(b.childSpans).forEach((e=>{e.sort(Z)})),b}function Z(e,t){return E(e)&&!E(t)?1:!E(e)&&E(t)||e.start_timestamp<t.start_timestamp?-1:e.start_timestamp===t.start_timestamp?0:1}function j(e){return"number"!=typeof e&&"orphan"===(null==e?void 0:e.type)}function D(e){return j(e)?e.depth:e}function z(e){var t;const s=null===(t=e.sdk)||void 0===t?void 0:t.name;return!!s&&["sentry.javascript.browser","sentry.javascript.react","sentry.javascript.gatsby","sentry.javascript.ember","sentry.javascript.vue","sentry.javascript.angular","sentry.javascript.nextjs","sentry.javascript.electron"].includes(s.toLowerCase())}const R="app"==s.j?["mark","paint"]:null;function M(e){const t=Object.keys(e);return Object.values(h.r9).filter((e=>t.includes(e.slug))).some((t=>{const{value:s}=e[t.slug];return"number"==typeof s&&"number"==typeof t.poorThreshold&&s>=t.poorThreshold}))}function P(e,t){if(!e.measurements)return new Map;const s=Object.keys(e.measurements).filter((e=>e.startsWith("mark."))).map((t=>{const s=t.slice("mark.".length),i=e.measurements[s];return{name:t,timestamp:e.measurements[t].value,value:i?i.value:void 0}})),i=new Map;return s.forEach((e=>{const s=e.name.slice("mark.".length),a=e.value,n=t({startTimestamp:e.timestamp,endTimestamp:e.timestamp});if("TIMESTAMPS_EQUAL"!==n.type)return;const r=Math.round(100*n.start);for(const[t]of i)if(Math.abs(t-r)<=f.tJ){const n=i.get(t);return n.marks={...n.marks,[s]:{value:a,timestamp:e.timestamp}},n.failedThreshold||(n.failedThreshold=M(n.marks)),void i.set(t,n)}const o={[s]:{value:a,timestamp:e.timestamp}};i.set(r,{marks:o,failedThreshold:M(o)})})),i}function W(e,t){const s=t({startTimestamp:e,endTimestamp:e});switch(s.type){case"TRACE_TIMESTAMPS_EQUAL":case"INVALID_VIEW_WINDOW":return{warning:void 0,left:void 0,width:void 0,isSpanVisibleInView:s.isSpanVisibleInView};case"TIMESTAMPS_EQUAL":return{warning:void 0,left:s.start,width:1e-5,isSpanVisibleInView:s.isSpanVisibleInView};case"TIMESTAMPS_REVERSED":case"TIMESTAMPS_STABLE":return{warning:void 0,left:s.start,width:s.end-s.start,isSpanVisibleInView:s.isSpanVisibleInView};default:return s}}function k(e,t,s){return a=>{a.preventDefault();const n=F(e);t(n),i.browserHistory.push({...s,hash:n})}}function F(e){return`#span-${e}`}function V(e,t){return void 0!==t?`${e.op}.${e.description}.${t}`:`${e.op}.${e.description}`}function L(e){return e.reduce(((e,t)=>{const{start_timestamp:s,timestamp:i}=t.span;let a=e.startTimestamp,n=e.endTimestamp;return s<a&&(a=s),n<i&&(n=i),{startTimestamp:a,endTimestamp:n}}),{startTimestamp:e[0].span.start_timestamp,endTimestamp:e[0].span.timestamp})}function $(e,t){const{startTimestamp:s,endTimestamp:i}=L(e),a=t({startTimestamp:s,endTimestamp:i});switch(a.type){case"TRACE_TIMESTAMPS_EQUAL":case"INVALID_VIEW_WINDOW":return{warning:void 0,left:void 0,width:void 0,isSpanVisibleInView:a.isSpanVisibleInView};case"TIMESTAMPS_EQUAL":return{warning:void 0,left:a.start,width:1e-5,isSpanVisibleInView:a.isSpanVisibleInView};case"TIMESTAMPS_REVERSED":case"TIMESTAMPS_STABLE":return{warning:void 0,left:a.start,width:a.end-a.start,isSpanVisibleInView:a.isSpanVisibleInView};default:return a}}},"./app/stores/groupStore.tsx":(e,t,s)=>{s.d(t,{Z:()=>w});var i=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),a=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/lodash/isArray.js")),n=s.n(a),r=s("../node_modules/lodash/isUndefined.js"),o=s.n(r),d=s("../node_modules/reflux/src/index.js"),l=s("./app/actions/groupActions.tsx"),p=s("./app/locale.tsx"),c=s("./app/stores/indicatorStore.tsx"),m=s("./app/utils/makeSafeRefluxStore.ts");function u(e,t){c.Z.addMessage(e,t,{duration:4e3})}class h{constructor(){(0,i.Z)(this,"changes",[])}getForItem(e){return this.changes.filter((t=>t[1]===e))}push(e,t,s){this.changes.push([e,t,s])}remove(e,t){this.changes=this.changes.filter((s=>s[0]!==e||s[1]!==t))}forEach(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this.changes.forEach.apply(this.changes,t)}}const g={listenables:[l.Z],pendingChanges:new h,items:[],statuses:{},init(){this.reset()},reset(){this.pendingChanges=new h,this.items=[],this.statuses={}},loadInitialData(e){this.reset();const t=new Set;e.forEach((e=>{t.add(e.id),this.items.push(e)})),this.trigger(t)},add(e){n()(e)||(e=[e]);const t={},s=new Set;e.forEach((e=>{t[e.id]=e,s.add(e.id)})),this.items.forEach(((e,s)=>{t[e.id]&&(this.items[s]={...e,...t[e.id]},delete t[e.id])}));for(const e in t)this.items.push(t[e]);this.trigger(s)},remove(e){this.items=this.items.filter((t=>!e.includes(t.id))),this.trigger(new Set(e))},addStatus(e,t){o()(this.statuses[e])&&(this.statuses[e]={}),this.statuses[e][t]=!0},clearStatus(e,t){o()(this.statuses[e])||(this.statuses[e][t]=!1)},hasStatus(e,t){return!o()(this.statuses[e])&&(this.statuses[e][t]||!1)},indexOfActivity(e,t){const s=this.get(e);if(!s)return-1;for(let e=0;e<s.activity.length;e++)if(s.activity[e].id===t)return e;return-1},addActivity(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;const i=this.get(e);i&&(-1===s?i.activity.unshift(t):i.activity.splice(s,0,t),"note"===t.type&&i.numComments++,this.trigger(new Set([e])))},updateActivity(e,t,s){const i=this.get(e);if(!i)return;const a=this.indexOfActivity(e,t);-1!==a&&(i.activity[a].data=Object.assign(i.activity[a].data,s),this.trigger(new Set([i.id])))},removeActivity(e,t){const s=this.get(e);if(!s)return-1;const i=this.indexOfActivity(s.id,t);return-1===i?-1:("note"===s.activity.splice(i,1)[0].type&&s.numComments--,this.trigger(new Set([s.id])),i)},get(e){const t=[];this.pendingChanges.forEach((s=>{s.id===e&&t.push(s)}));for(let s=0;s<this.items.length;s++)if(this.items[s].id===e){let e=this.items[s];if(t.length){e={...e};for(let s=0;s<t.length;s++)e={...e,...t[s].params}}return e}},getAllItemIds(){return this.items.map((e=>e.id))},getAllItems(){const e={};return this.pendingChanges.forEach((t=>{o()(e[t.id])&&(e[t.id]=[]),e[t.id].push(t)})),this.items.map((t=>{let s=t;return o()(e[t.id])||(s={...s},e[t.id].forEach((e=>{s={...s,...e.params}}))),s}))},onAssignTo(e,t,s){this.addStatus(t,"assignTo"),this.trigger(new Set([t]))},onAssignToError(e,t,s){this.clearStatus(t,"assignTo"),u((0,p.t)("Unable to change assignee. Please try again."),"error")},onAssignToSuccess(e,t,s){const i=this.get(t);i&&(i.assignedTo=s.assignedTo,this.clearStatus(t,"assignTo"),this.trigger(new Set([t])))},onDelete(e,t){(t=this._itemIdsOrAll(t)).forEach((e=>{this.addStatus(e,"delete")})),this.trigger(new Set(t))},onDeleteError(e,t,s){u((0,p.t)("Unable to delete events. Please try again."),"error"),t&&(t.forEach((e=>{this.clearStatus(e,"delete")})),this.trigger(new Set(t)))},onDeleteSuccess(e,t,s){if((t=this._itemIdsOrAll(t)).length>1)u((0,p.t)(`Deleted ${t.length} Issues`),"success");else{const e=t.map((e=>{var t;return null===(t=f.get(e))||void 0===t?void 0:t.shortId})).join("");u((0,p.t)(`Deleted ${e}`),"success")}const i=new Set(t);t.forEach((e=>{delete this.statuses[e],this.clearStatus(e,"delete")})),this.items=this.items.filter((e=>!i.has(e.id))),this.trigger(new Set(t))},onDiscard(e,t){this.addStatus(t,"discard"),this.trigger(new Set([t]))},onDiscardError(e,t,s){this.clearStatus(t,"discard"),u((0,p.t)("Unable to discard event. Please try again."),"error"),this.trigger(new Set([t]))},onDiscardSuccess(e,t,s){delete this.statuses[t],this.clearStatus(t,"discard"),this.items=this.items.filter((e=>e.id!==t)),u((0,p.t)("Similar events will be filtered and discarded."),"success"),this.trigger(new Set([t]))},onMerge(e,t){(t=this._itemIdsOrAll(t)).forEach((e=>{this.addStatus(e,"merge")})),this.trigger(new Set(t))},onMergeError(e,t,s){(t=this._itemIdsOrAll(t)).forEach((e=>{this.clearStatus(e,"merge")})),u((0,p.t)("Unable to merge events. Please try again."),"error"),this.trigger(new Set(t))},onMergeSuccess(e,t,s){(t=this._itemIdsOrAll(t)).forEach((e=>{this.clearStatus(e,"merge")}));const i=new Set(t);this.items=this.items.filter((e=>!i.has(e.id)||s&&s.merge&&e.id===s.merge.parent)),u((0,p.t)(`Merged ${t.length} Issues`),"success"),this.trigger(new Set(t))},_itemIdsOrAll(e){return o()(e)&&(e=this.items.map((e=>e.id))),e},onUpdate(e,t,s){(t=this._itemIdsOrAll(t)).forEach((t=>{this.addStatus(t,"update"),this.pendingChanges.push(e,t,s)})),this.trigger(new Set(t))},onUpdateError(e,t,s,i){t=this._itemIdsOrAll(t),this.pendingChanges.remove(e),t.forEach((e=>{this.clearStatus(e,"update")})),i||u((0,p.t)("Unable to update events. Please try again."),"error"),this.trigger(new Set(t))},onUpdateSuccess(e,t,s){t=this._itemIdsOrAll(t),this.items.forEach(((e,i)=>{-1!==t.indexOf(e.id)&&(this.items[i]={...e,...s},this.clearStatus(e.id,"update"))})),this.pendingChanges.remove(e),this.trigger(new Set(t))},onPopulateStats(e,t){const s=t.reduce(((e,t)=>(e[t.id]=t,e)),{});this.items.forEach(((t,i)=>{e.includes(t.id)&&(this.items[i]={...t,...s[t.id]})})),this.trigger(new Set(this.items.map((e=>e.id))))},onPopulateReleases(e,t){this.items.forEach(((s,i)=>{s.id===e&&(this.items[i]={...s,...t})})),this.trigger(new Set([e]))}},f=(0,d.createStore)((0,m.Y)(g)),w=f},"./app/utils/performance/quickTrace/utils.tsx":(e,t,s)=>{s.d(t,{hp:()=>c,q2:()=>m,eW:()=>u,R8:()=>g,eF:()=>w,_Z:()=>S,$J:()=>v,S2:()=>b,xB:()=>y,y3:()=>_,Ci:()=>T}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js");var i=s("../node_modules/lodash/omit.js"),a=s.n(i),n=s("../node_modules/moment-timezone/index.js"),r=s.n(n),o=s("./app/components/events/interfaces/spans/utils.tsx"),d=s("./app/constants/pageFilters.tsx"),l=s("./app/utils/analytics.tsx"),p=s("./app/utils/discover/eventView.tsx");function c(e){return"transaction"===e.type}function m(e,t){return c(t)?e.event_id===t.id:void 0!==e.errors&&e.errors.some((e=>e.event_id===t.id))}function u(e,t){const s=[],i=[],a=[{event:t,path:[]}];for(;a.length;){const t=a.shift();if(m(t.event,e)){for(const e of t.path)s.push(e);i.push(t.event)}else{const e=[...t.path,h(t.event)];for(const s of t.event.children)a.push({event:s,path:e})}}if(!i.length)throw new Error("No relevant path exists!");for(;i.length;){const e=i.shift();for(const t of e.children)i.push(t);s.push(h(e))}return s}function h(e){return a()(e,["children"])}function g(e,t,s){var i,a,n;const{type:r,trace:o}=e;if("empty"===r||null===o)throw new Error("Current event not in trace navigator!");const d="full"===r,p=null!==(i=o.find((e=>m(e,t))))&&void 0!==i?i:null;if(null===p)throw new Error("Current event not in trace navigator!");const c=p.parent_event_id&&null!==(a=o.find((e=>e.event_id===p.parent_event_id)))&&void 0!==a?a:null,u=null!==(n=o.find((e=>e.event_id!==p.event_id&&e.event_id!==(null==c?void 0:c.event_id)&&0===e.generation)))&&void 0!==n?n:null,h=d?[]:null,g=[],w=d?[]:null,S=new Set;return o.forEach((e=>{S.add(e.project_id),(e=>e.parent_event_id===p.event_id)(e)?g.push(e):d&&((e=>null!==p.generation&&null!==e.generation&&e.generation>0&&p.generation-1>e.generation)(e)?null==h||h.push(e):(e=>null!==p.generation&&null!==e.generation&&p.generation+1<e.generation)(e)&&(null==w||w.push(e)))})),d&&S.size>1&&function(e,t){(0,l.ec)({eventKey:"quick_trace.connected_services",eventName:"Quick Trace: Connected Services",organization_id:parseInt(e.id,10),projects:t})}(s,S.size),{root:u,ancestors:null===h?null:f(h),parent:c,current:p,children:f(g),descendants:null===w?null:f(w)}}function f(e){return e.sort(((e,t)=>t["transaction.duration"]-e["transaction.duration"]))}function w(e){let{eventView:t,location:s}=e;return a()(t.getEventsAPIPayload(s),["field","sort","per_page"])}function S(e){let{start:t,end:s,statsPeriod:i}=e;return p.ZP.fromSavedQuery({id:void 0,version:2,name:"",fields:["transaction.duration"],projects:[d.mP],query:"",environment:[],start:t,end:s,range:null!=i?i:void 0})}function v(e){const t=c(e)?e.startTimestamp:r()(e.dateReceived?e.dateReceived:e.dateCreated).valueOf()/1e3,s=c(e)?e.endTimestamp:t;return(0,o.TC)({start:t,end:s})}function b(e,t,s){let i=s;const a=[e];for(;a.length;){const e=a.pop();for(const t of e.children)a.push(t);i=t(i,e)}return i}function y(e,t){return b(e,((e,s)=>(t(s)&&e.push(s),e)),[])}function _(e){return Boolean(e.event_id)}function T(e){return Boolean(e.event_id)}},"./app/utils/performance/vitals/constants.tsx":(e,t,s)=>{s.d(t,{r9:()=>n,TT:()=>r,AR:()=>o});var i=s("./app/locale.tsx"),a=s("./app/utils/discover/fields.tsx");const n={[a.Zl.FP]:{slug:"fp",name:(0,i.t)("First Paint"),acronym:"FP",description:(0,i.t)("Render time of the first pixel loaded in the viewport (may overlap with FCP)."),poorThreshold:3e3,type:(0,a.Cq)(a.Zl.FP)},[a.Zl.FCP]:{slug:"fcp",name:(0,i.t)("First Contentful Paint"),acronym:"FCP",description:(0,i.t)("Render time of the first image, text or other DOM node in the viewport."),poorThreshold:3e3,type:(0,a.Cq)(a.Zl.FCP)},[a.Zl.LCP]:{slug:"lcp",name:(0,i.t)("Largest Contentful Paint"),acronym:"LCP",description:(0,i.t)("Render time of the largest image, text or other DOM node in the viewport."),poorThreshold:4e3,type:(0,a.Cq)(a.Zl.LCP)},[a.Zl.FID]:{slug:"fid",name:(0,i.t)("First Input Delay"),acronym:"FID",description:(0,i.t)("Response time of the browser to a user interaction (clicking, tapping, etc)."),poorThreshold:300,type:(0,a.Cq)(a.Zl.FID)},[a.Zl.CLS]:{slug:"cls",name:(0,i.t)("Cumulative Layout Shift"),acronym:"CLS",description:(0,i.t)("Sum of layout shift scores that measure the visual stability of the page."),poorThreshold:.25,type:(0,a.Cq)(a.Zl.CLS)},[a.Zl.TTFB]:{slug:"ttfb",name:(0,i.t)("Time to First Byte"),acronym:"TTFB",description:(0,i.t)("The time that it takes for a user's browser to receive the first byte of page content."),poorThreshold:600,type:(0,a.Cq)(a.Zl.TTFB)},[a.Zl.RequestTime]:{slug:"ttfb.requesttime",name:(0,i.t)("Request Time"),acronym:"RT",description:(0,i.t)("Captures the time spent making the request and receiving the first byte of the response."),poorThreshold:600,type:(0,a.Cq)(a.Zl.RequestTime)}},r={[a.$n.AppStartCold]:{slug:"app_start_cold",name:(0,i.t)("App Start Cold"),description:(0,i.t)("Cold start is a measure of the application start up time from scratch."),type:(0,a.Cq)(a.$n.AppStartCold)},[a.$n.AppStartWarm]:{slug:"app_start_warm",name:(0,i.t)("App Start Warm"),description:(0,i.t)("Warm start is a measure of the application start up time while still in memory."),type:(0,a.Cq)(a.$n.AppStartWarm)},[a.$n.FramesTotal]:{slug:"frames_total",name:(0,i.t)("Total Frames"),description:(0,i.t)("Total frames is a count of the number of frames recorded within a transaction."),type:(0,a.Cq)(a.$n.FramesTotal)},[a.$n.FramesSlow]:{slug:"frames_slow",name:(0,i.t)("Slow Frames"),description:(0,i.t)("Slow frames is a count of the number of slow frames recorded within a transaction."),type:(0,a.Cq)(a.$n.FramesSlow)},[a.$n.FramesFrozen]:{slug:"frames_frozen",name:(0,i.t)("Frozen Frames"),description:(0,i.t)("Frozen frames is a count of the number of frozen frames recorded within a transaction."),type:(0,a.Cq)(a.$n.FramesFrozen)},[a.$n.FramesSlowRate]:{slug:"frames_slow_rate",name:(0,i.t)("Slow Frames Rate"),description:(0,i.t)("Slow Frames Rate is the percentage of frames recorded within a transaction that is considered slow."),type:(0,a.Cq)(a.$n.FramesSlowRate)},[a.$n.FramesFrozenRate]:{slug:"frames_frozen_rate",name:(0,i.t)("Frozen Frames Rate"),description:(0,i.t)("Frozen Frames Rate is the percentage of frames recorded within a transaction that is considered frozen."),type:(0,a.Cq)(a.$n.FramesFrozenRate)},[a.$n.StallCount]:{slug:"stall_count",name:(0,i.t)("Stalls"),description:(0,i.t)("Stalls is the number of times the application stalled within a transaction."),type:(0,a.Cq)(a.$n.StallCount)},[a.$n.StallTotalTime]:{slug:"stall_total_time",name:(0,i.t)("Total Stall Time"),description:(0,i.t)("Stall Total Time is the total amount of time the application is stalled within a transaction."),type:(0,a.Cq)(a.$n.StallTotalTime)},[a.$n.StallLongestTime]:{slug:"stall_longest_time",name:(0,i.t)("Longest Stall Time"),description:(0,i.t)("Stall Longest Time is the longest amount of time the application is stalled within a transaction."),type:(0,a.Cq)(a.$n.StallLongestTime)},[a.$n.StallPercentage]:{slug:"stall_percentage",name:(0,i.t)("Stall Percentage"),description:(0,i.t)("Stall Percentage is the percentage of the transaction duration the application was stalled."),type:(0,a.Cq)(a.$n.StallPercentage)}};let o;!function(e){e.CHROME="Chrome",e.EDGE="Edge",e.OPERA="Opera",e.FIREFOX="Firefox",e.SAFARI="Safari",e.IE="IE"}(o||(o={}))},"./app/utils/withProject.tsx":(e,t,s)=>{s.d(t,{Z:()=>d});var i=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),a=s("../node_modules/react/index.js"),n=s("./app/sentryTypes.tsx"),r=s("./app/utils/getDisplayName.tsx"),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const d=e=>{var t;return t=class extends a.Component{render(){const{project:t,...s}=this.props;return(0,o.tZ)(e,{project:null!=t?t:this.context.project,...s})}},(0,i.Z)(t,"displayName",`withProject(${(0,r.Z)(e)})`),(0,i.Z)(t,"contextTypes",{project:n.Z.Project}),t}},"./app/views/dashboardsV2/dashboard.tsx":(e,t,s)=>{s.d(t,{re:()=>P,ey:()=>F,ZP:()=>N});var i=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),a=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),n=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react-grid-layout/css/styles.css"),s("../node_modules/react-resizable/css/styles.css"),s("../node_modules/react/index.js")),r=s("../node_modules/react-grid-layout/index.js"),o=s("../node_modules/react-lazyload/lib/index.js"),d=s("../node_modules/@dnd-kit/core/dist/core.esm.js"),l=s("../node_modules/@dnd-kit/sortable/dist/sortable.esm.js"),p=s("../node_modules/lodash/cloneDeep.js"),c=s.n(p),m=s("../node_modules/lodash/debounce.js"),u=s.n(m),h=s("../node_modules/lodash/isEqual.js"),g=s.n(h),f=s("./app/actionCreators/dashboards.tsx"),w=s("./app/actionCreators/indicator.tsx"),S=s("./app/actionCreators/members.tsx"),v=s("./app/actionCreators/modal.tsx"),b=s("./app/actionCreators/tags.tsx"),y=s("./app/components/button.tsx"),_=s("./app/icons/index.tsx"),T=s("./app/locale.tsx"),E=s("./app/styles/space.tsx"),x=s("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),A=s("./app/utils/theme.tsx"),I=s("./app/utils/withApi.tsx"),C=s("./app/utils/withPageFilters.tsx"),Z=s("./app/views/dashboardsV2/addWidget.tsx"),j=s("./app/views/dashboardsV2/layoutUtils.tsx"),D=s("./app/views/dashboardsV2/sortableWidget.tsx"),z=s("./app/views/dashboardsV2/types.tsx"),R=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),M=s("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js");const P="widget-drag",W="desktop",k="mobile",F=6,V=[16,16],L={x:0,y:Number.MAX_SAFE_INTEGER},$=parseInt(A.ZP.breakpoints[0],10),q={[k]:0,[W]:$},O={[k]:2,[W]:F};class U extends n.Component{constructor(e){super(e),(0,i.Z)(this,"forceCheckTimeout",void 0),(0,i.Z)(this,"debouncedHandleResize",u()((()=>{this.setState({windowWidth:window.innerWidth})}),250)),(0,i.Z)(this,"handleStartAdd",(()=>{const{organization:e,dashboard:t,selection:s,handleUpdateWidgetList:i,handleAddCustomWidget:a,router:n,location:r,paramDashboardId:o}=this.props;if(e.features.includes("new-widget-builder-experience"))return o?void n.push({pathname:`/organizations/${e.slug}/dashboard/${o}/widget/new/`,query:{...r.query,source:z.EN.DASHBOARDS}}):void n.push({pathname:`/organizations/${e.slug}/dashboards/new/widget/new/`,query:{...r.query,source:z.EN.DASHBOARDS}});(0,x.Z)("dashboards_views.add_widget_modal.opened",{organization:e}),(0,x.Z)("dashboards_views.widget_library.opened",{organization:e}),(0,v.openAddDashboardWidgetModal)({organization:e,dashboard:t,selection:s,onAddWidget:a,onAddLibraryWidget:e=>i(e),source:z.EN.LIBRARY})})),(0,i.Z)(this,"handleUpdateComplete",(e=>t=>{const{isEditing:s,onUpdate:i,handleUpdateWidgetList:a}=this.props;let n=[...this.props.dashboard.widgets];const r=n.indexOf(e),o={...t,tempId:e.tempId};(0,j.I_)(e.displayType)!==(0,j.I_)(t.displayType)?(n[r]=(0,j.W8)(o),n=(0,j.Bb)(n)):n[r]=o,i(n),s||a(n)})),(0,i.Z)(this,"handleDeleteWidget",(e=>()=>{const{dashboard:t,onUpdate:s,isEditing:i,handleUpdateWidgetList:a}=this.props;let n=t.widgets.filter((t=>t!==e));n=(0,j.Bb)(n),s(n),i||a(n)})),(0,i.Z)(this,"handleDuplicateWidget",((e,t)=>()=>{const{dashboard:s,onUpdate:i,isEditing:a,handleUpdateWidgetList:n}=this.props,r=c()((0,j.TE)({...e,id:void 0,tempId:void 0}));let o=[...s.widgets];o.splice(t,0,r),o=(0,j.Bb)(o),i(o),a||n(o)})),(0,i.Z)(this,"handleEditWidget",((e,t)=>()=>{const{organization:s,dashboard:i,selection:a,router:n,location:r,paramDashboardId:o,handleAddCustomWidget:d,isEditing:l}=this.props;if(s.features.includes("new-widget-builder-experience")&&(!s.features.includes("new-widget-builder-experience-modal-access")||l))return o?void n.push({pathname:`/organizations/${s.slug}/dashboard/${o}/widget/${t}/edit/`,query:{...r.query,source:z.EN.DASHBOARDS}}):void n.push({pathname:`/organizations/${s.slug}/dashboards/new/widget/${t}/edit/`,query:{...r.query,source:z.EN.DASHBOARDS}});(0,x.Z)("dashboards_views.edit_widget_modal.opened",{organization:s});const p={organization:s,widget:e,selection:a,onAddWidget:d,onUpdateWidget:this.handleUpdateComplete(e)};(0,v.openAddDashboardWidgetModal)({...p,dashboard:i,source:z.EN.DASHBOARDS})})),(0,i.Z)(this,"handleLayoutChange",((e,t)=>{const{isMobile:s}=this.state,{dashboard:i,onUpdate:a}=this.props,n=e=>{let{i:t}=e;return t!==Z.g},r={[W]:t.desktop.filter(n),[k]:t.mobile.filter(n)};let d=(0,j.Sp)(r.desktop);const l=i.widgets.map((e=>{const t=(0,j.Yb)(e);let i=r.desktop.find((e=>{let{i:s}=e;return s===t}));if(!i){const a=(0,j.I_)(e.displayType),n={w:j.c6,h:a,minH:a,i:t},[o,l]=(0,j.Hh)(d,a);if(d=l,i={...n,...o},s){const e=r.mobile.filter((e=>{let{i:s}=e;return s!==t}));e.push({...n,...L}),r.mobile=e}}return{...e,layout:(0,j.hq)(i)}}));this.setState({layouts:r}),a(l),window.clearTimeout(this.forceCheckTimeout),this.forceCheckTimeout=window.setTimeout(o.be,400)})),(0,i.Z)(this,"handleBreakpointChange",(e=>{const{layouts:t}=this.state,{dashboard:{widgets:s}}=this.props;e!==k?this.setState({isMobile:!1}):this.setState({isMobile:!0,layouts:{...t,[k]:(0,j.VW)(t.desktop,s)}})})),(0,i.Z)(this,"renderDndDashboard",(()=>{const{isEditing:e,onUpdate:t,dashboard:s,organization:i,widgetLimitReached:a}=this.props;let{widgets:n}=s;n=n.filter((e=>{let{widgetType:t}=e;return t!==z.l9.RELEASE||i.features.includes("dashboards-releases")}));const r=this.getWidgetIds();return(0,R.tZ)(d.LB,{collisionDetection:d.pE,onDragEnd:e=>{let{over:s,active:i}=e;const a=i.id,o=r.indexOf.bind(r),d=a?o(a):-1;if(s&&s.id!==Z.g){const e=o(s.id);d!==e&&t((0,l.Rp)(n,d,e))}},children:(0,R.tZ)(B,{children:(0,R.BX)(l.Fo,{items:r,strategy:l.U2,children:[n.map(((e,t)=>this.renderWidget(e,t))),e&&!a&&(0,R.tZ)(Z.Z,{onAddWidget:this.handleStartAdd})]})})})}));const{dashboard:t,organization:s}=e,a=s.features.includes("dashboard-grid-layout"),n=(0,j.RI)(t.widgets);this.state={isMobile:!1,layouts:{[W]:a?n:[],[k]:a?(0,j.VW)(n,t.widgets):[]},windowWidth:window.innerWidth}}static getDerivedStateFromProps(e,t){if(e.organization.features.includes("dashboard-grid-layout")){if(t.isMobile)return null;const s=(0,j.RI)(e.dashboard.widgets);if(!g()(s.map(j.hq),t.layouts.desktop.map(j.hq)))return{...t,layouts:{[W]:s,[k]:(0,j.VW)(s,e.dashboard.widgets)}}}return null}async componentDidMount(){const{organization:e,newWidget:t}=this.props;e.features.includes("dashboard-grid-layout")&&window.addEventListener("resize",this.debouncedHandleResize),this.fetchTags(),t&&this.addNewWidget(),this.fetchMemberList()}async componentDidUpdate(e){const{selection:t,newWidget:s}=this.props;s&&s!==e.newWidget&&this.addNewWidget(),g()(e.selection.projects,t.projects)||this.fetchMemberList()}componentWillUnmount(){this.props.organization.features.includes("dashboard-grid-layout")&&window.removeEventListener("resize",this.debouncedHandleResize),window.clearTimeout(this.forceCheckTimeout)}fetchMemberList(){var e;const{api:t,selection:s}=this.props;(0,S.MA)(t,this.props.organization.slug,null===(e=s.projects)||void 0===e?void 0:e.map((e=>String(e))))}async addNewWidget(){const{api:e,organization:t,newWidget:s,handleAddCustomWidget:i,onSetNewWidget:a}=this.props;if(s)try{await(0,f.QL)(e,t.slug,s),i(s),null==a||a()}catch(e){(0,w.Iw)(e)}}fetchTags(){const{api:e,organization:t,selection:s}=this.props;(0,b.QK)(e,t.slug,s)}getWidgetIds(){return[...this.props.dashboard.widgets.map(((e,t)=>(0,j.$n)(e,t))),Z.g]}renderWidget(e,t){const{isMobile:s,windowWidth:i}=this.state,{isEditing:a,organization:n,widgetLimitReached:r,isPreview:o}=this.props,d={widget:e,isEditing:a,widgetLimitReached:r,onDelete:this.handleDeleteWidget(e),onEdit:this.handleEditWidget(e,t),onDuplicate:this.handleDuplicateWidget(e,t),isPreview:o};if(n.features.includes("dashboard-grid-layout")){const a=(0,j.Yb)(e),n=a;return(0,R.tZ)("div",{"data-grid":e.layout,children:(0,R.tZ)(D.Z,{...d,dragId:n,isMobile:s,windowWidth:i,index:String(t)})},a)}const l=(0,j.$n)(e,t),p=l;return(0,M.az)(D.Z,{...d,key:l,dragId:p,index:String(t)})}get addWidgetLayout(){const{isMobile:e,layouts:t}=this.state;let s=L;if(!e){const e=(0,j.Sp)(t.desktop),[i]=(0,j.Hh)(e,1);s=i}return{...s,w:j.c6,h:1,isResizable:!1}}renderGridDashboard(){const{layouts:e,isMobile:t}=this.state,{isEditing:s,dashboard:i,organization:a,widgetLimitReached:n}=this.props;let{widgets:r}=i;r=r.filter((e=>{let{widgetType:t}=e;return t!==z.l9.RELEASE||a.features.includes("dashboards-releases")}));const o=(0,j.Sp)(e.desktop),d=(0,j._F)(r,o),l=!t&&s;return(0,R.BX)(Y,{breakpoints:q,cols:O,rowHeight:120,margin:V,draggableHandle:`.${P}`,draggableCancel:".widget-resize",layouts:e,onLayoutChange:this.handleLayoutChange,onBreakpointChange:this.handleBreakpointChange,isDraggable:l,isResizable:l,resizeHandle:(0,R.tZ)(G,{"aria-label":(0,T.t)("Resize Widget"),"data-test-id":"custom-resize-handle",className:"widget-resize",size:"xsmall",borderless:!0,icon:(0,R.tZ)(_.Iq,{size:"xs"})}),useCSSTransforms:!1,isBounded:!0,children:[d.map(((e,t)=>this.renderWidget(e,t))),s&&!n&&(0,R.tZ)(H,{"data-grid":this.addWidgetLayout,children:(0,R.tZ)(Z.Z,{onAddWidget:this.handleStartAdd})},Z.g)]})}render(){const{organization:e}=this.props;return e.features.includes("dashboard-grid-layout")?this.renderGridDashboard():this.renderDndDashboard()}}U.displayName="Dashboard";const N=(0,I.Z)((0,C.Z)(U)),B=(0,a.Z)("div",{target:"e1wa3gzn3"})("display:grid;grid-template-columns:repeat(2, minmax(0, 1fr));grid-auto-flow:row dense;gap:",(0,E.Z)(2),";@media (min-width: ",(e=>e.theme.breakpoints[1]),"){grid-template-columns:repeat(4, minmax(0, 1fr));}@media (min-width: ",(e=>e.theme.breakpoints[3]),"){grid-template-columns:repeat(6, minmax(0, 1fr));}@media (min-width: ",(e=>e.theme.breakpoints[4]),"){grid-template-columns:repeat(8, minmax(0, 1fr));}"),H=(0,a.Z)("div",{target:"e1wa3gzn2"})("z-index:5;background-color:",(e=>e.theme.background),";"),Y=(0,a.Z)((0,r.WidthProvider)(r.Responsive),{target:"e1wa3gzn1"})("margin:-",(0,E.Z)(2),";.react-grid-item.react-grid-placeholder{background:",(e=>e.theme.purple200),";border-radius:",(e=>e.theme.borderRadius),";}"),G=(0,a.Z)(y.ZP,{target:"e1wa3gzn0"})("position:absolute;z-index:2;bottom:",(0,E.Z)(.5),";right:",(0,E.Z)(.5),";color:",(e=>e.theme.subText),";cursor:nwse-resize;.react-resizable-hide &{display:none;}")},"./app/views/performance/traceDetails/utils.tsx":(e,t,s)=>{s.d(t,{YA:()=>n,Rg:()=>r,uM:()=>o}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js");var i=s("./app/constants/pageFilters.tsx"),a=s("./app/utils/performance/quickTrace/utils.tsx");function n(e,t,s,a){const{start:n,end:r,statsPeriod:o}=s;return{pathname:`/organizations/${e.slug}/performance/trace/${t}/`,query:{...a,statsPeriod:o,[i.V.PAGE_START]:n,[i.V.PAGE_END]:r}}}function r(e){const t={projects:new Set,errors:new Set,transactions:new Set,startTimestamp:Number.MAX_SAFE_INTEGER,endTimestamp:0,maxGeneration:0};return e.reduce(((e,t)=>(0,a.S2)(t,((e,t)=>{for(const i of null!==(s=t.errors)&&void 0!==s?s:[]){var s;e.errors.add(i.event_id)}return e.transactions.add(t.event_id),e.projects.add(t.project_slug),e.startTimestamp=Math.min(e.startTimestamp,t.start_timestamp),e.endTimestamp=Math.max(e.endTimestamp,t.timestamp),e.maxGeneration=Math.max(e.maxGeneration,t.generation),e}),e)),t)}function o(e){return null===e.parent_span_id}}}]);
//# sourceMappingURL=../sourcemaps/app_actions_memberActions_tsx-app_components_charts_styles_tsx-app_stores_groupStore_tsx-app_-94c689.2ac225c0ca0854da774f7817eb13a3c2.js.map