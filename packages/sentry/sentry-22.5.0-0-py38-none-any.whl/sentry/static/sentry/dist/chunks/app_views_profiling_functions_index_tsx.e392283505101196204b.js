"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_profiling_functions_index_tsx"],{"./app/components/performanceDuration.tsx":(e,n,t)=>{t.d(n,{Z:()=>s});var r=t("./app/components/duration.tsx"),o=t("./app/utils.tsx"),i=t("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function a(e){const n=function(e){return(0,o.ri)(e.nanoseconds)}(e)?e.nanoseconds/1e9:function(e){return(0,o.ri)(e.milliseconds)}(e)?e.milliseconds/1e3:e.seconds;return(0,i.tZ)(r.Z,{abbreviation:e.abbreviation,seconds:n,fixedDigits:2})}a.displayName="PerformanceDuration";const s=a},"./app/components/profiling/breadcrumb.tsx":(e,n,t)=>{t.d(n,{a:()=>c});var r=t("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=t("../node_modules/react/index.js"),i=t("./app/components/breadcrumbs.tsx"),a=t("./app/locale.tsx"),s=t("./app/views/profiling/routes.tsx"),u=t("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function c(e){let{location:n,organization:t,trails:r}=e;const i=(0,o.useMemo)((()=>r.map((e=>function(e,n){let{location:t,organization:r}=n;switch(e.type){case"landing":return{to:(0,s.XR)({location:t,orgSlug:r.slug}),label:(0,a.t)("Profiling"),preservePageFilters:!0};case"functions":return{to:(0,s.A_)({location:t,orgSlug:r.slug,projectSlug:e.payload.projectSlug,transaction:e.payload.transaction,version:e.payload.version}),label:(0,a.t)("Functions"),preservePageFilters:!0};case"flamegraph":return{to:(0,s.nS)({location:t,orgSlug:r.slug,projectSlug:e.payload.projectSlug,profileId:e.payload.profileId}),label:e.payload.transaction,preservePageFilters:!0};default:throw new Error(`Unknown breadcrumb type: ${JSON.stringify(e)}`)}}(e,{location:n,organization:t})))),[n,t,r]);return(0,u.tZ)(p,{crumbs:i})}c.displayName="Breadcrumb";const p=(0,r.Z)(i.Z,{target:"edt2s550"})({name:"1hcx8jb",styles:"padding:0"})},"./app/utils/useLocation.tsx":(e,n,t)=>{t.d(n,{T:()=>o});var r=t("./app/utils/useRouteContext.tsx");function o(){return(0,r.s)().location}},"./app/views/profiling/functions/index.tsx":(e,n,t)=>{t.r(n),t.d(n,{default:()=>R}),t("../node_modules/core-js/modules/web.dom-collections.iterator.js");var r=t("../node_modules/react/index.js"),o=t("../node_modules/@sentry/minimal/esm/index.js"),i=t("./app/components/alert.tsx"),a=t("./app/components/layouts/thirds.tsx"),s=t("./app/components/noProjectMessage.tsx"),u=t("./app/components/organizations/pageFilters/container.tsx"),c=t("./app/components/sentryDocumentTitle.tsx"),p=t("./app/locale.tsx"),l=t("./app/utils.tsx"),d=t("./app/utils/queryString.tsx"),m=t("./app/utils/useApi.tsx"),g=t("./app/utils/useOrganization.tsx"),y=t("./app/utils/useProjects.tsx"),f=t("./app/utils/withPageFilters.tsx"),h=t("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),x=t("./app/components/idBadge/index.tsx"),q=t("./app/components/profiling/breadcrumb.tsx"),j=t("./app/styles/space.tsx"),v=t("./app/utils/useLocation.tsx"),b=t("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function Z(e){const n=(0,v.T)(),t=(0,g.Z)();return(0,b.tZ)(a.h4,{children:(0,b.BX)(a.oB,{children:[(0,b.tZ)(q.a,{location:n,organization:t,trails:[{type:"landing"},{type:"functions",payload:{projectSlug:e.project.slug,transaction:e.transaction,version:e.version}}]}),(0,b.tZ)(a.Dx,{children:(0,b.BX)(S,{children:[e.project&&(0,b.tZ)(x.Z,{project:e.project,avatarSize:28,hideName:!0,avatarProps:{hasTooltip:!0,tooltip:e.project.slug}}),(0,p._N)("[transaction] — [version]",{transaction:e.transaction,version:e.version})]})})]})})}Z.displayName="ProfilingHeader";const S=(0,h.Z)("div",{target:"e1hbiqfz0"})("display:flex;gap:",(0,j.Z)(1),";");var F=t("../node_modules/react-router/es/index.js"),w=t("./app/components/count.tsx"),P=t("./app/components/datePageFilter.tsx"),D=t("./app/components/environmentPageFilter.tsx"),z=t("./app/components/gridEditable/index.tsx"),_=t("./app/components/organizations/pageFilterBar.tsx"),k=t("./app/components/performanceDuration.tsx"),I=t("./app/components/smartSearchBar/index.tsx"),T=t("./app/constants/index.tsx"),B=t("./app/utils/discover/styles.tsx");function $(e){const n=(0,v.T)(),t=(0,g.Z)(),o=(0,r.useMemo)((()=>(0,d.ro)(n.query.query,"")),[n.query.query]),i=(0,r.useMemo)((()=>{var n,t,r;return(null!==(n=null===(t=e.versionedFunctions)||void 0===t||null===(r=t.Versions[e.version])||void 0===r?void 0:r.FunctionCalls)&&void 0!==n?n:[]).map((e=>({symbol:e.symbol,image:e.image,p50Duration:e.duration_ns.p50,p75Duration:e.duration_ns.p75,p90Duration:e.duration_ns.p90,p95Duration:e.duration_ns.p95,p99Duration:e.duration_ns.p99,mainThreadPercent:e.main_thread_percent,p50Frequency:e.frequency.p50,p75Frequency:e.frequency.p75,p90Frequency:e.frequency.p90,p95Frequency:e.frequency.p95,p99Frequency:e.frequency.p99})))}),[e.version,e.versionedFunctions]),s=(0,r.useCallback)((e=>{F.browserHistory.push({...n,query:{...n.query,cursor:void 0,query:e||void 0}})}),[n]);return(0,b.BX)(a.or,{fullWidth:!0,children:[(0,b.BX)(L,{children:[(0,b.BX)(_.Z,{condensed:!0,children:[(0,b.tZ)(D.Z,{}),(0,b.tZ)(P.Z,{alignDropdown:"left"})]}),(0,b.tZ)(I.Z,{organization:t,hasRecentSearches:!0,searchSource:"profile_landing",supportedTags:{},query:o,onSearch:s,maxQueryLength:T.dI})]}),(0,b.tZ)(z.ZP,{isLoading:e.isLoading,error:e.error,data:i,columnOrder:X.map((e=>C[e])),columnSortBy:[],grid:{renderBodyCell:M},location:n})]})}function M(e,n,t,r){return(0,b.tZ)(N,{column:e,dataRow:n,rowIndex:t,columnIndex:r})}function N(e){let{column:n,dataRow:t}=e;const r=t[n.key];switch(n.key){case"p50Frequency":case"p75Frequency":case"p90Frequency":case"p95Frequency":case"p99Frequency":return(0,b.tZ)(B.Hw,{children:(0,b.tZ)(w.Z,{value:r})});case"p50Duration":case"p75Duration":case"p90Duration":case"p95Duration":case"p99Duration":return(0,b.tZ)(B.Hw,{children:(0,b.tZ)(k.Z,{nanoseconds:r,abbreviation:!0})});default:return(0,b.tZ)(B.W2,{children:r})}}$.displayName="FunctionsContent",M.displayName="renderProfilingTableCell";const X=["symbol","image","p75Duration","p99Duration","mainThreadPercent","p75Frequency","p99Frequency"],C={symbol:{key:"symbol",name:(0,p.t)("Symbol"),width:z.z7},image:{key:"image",name:(0,p.t)("Binary"),width:z.z7},p50Duration:{key:"p50Duration",name:(0,p.t)("P50 Duration"),width:z.z7},p75Duration:{key:"p75Duration",name:(0,p.t)("P75 Duration"),width:z.z7},p90Duration:{key:"p90Duration",name:(0,p.t)("P90 Duration"),width:z.z7},p95Duration:{key:"p95Duration",name:(0,p.t)("P95 Duration"),width:z.z7},p99Duration:{key:"p99Duration",name:(0,p.t)("P99 Duration"),width:z.z7},mainThreadPercent:{key:"mainThreadPercent",name:(0,p.t)("Main Thread %"),width:z.z7},p50Frequency:{key:"p50Frequency",name:(0,p.t)("P50 Frequency"),width:z.z7},p75Frequency:{key:"p75Frequency",name:(0,p.t)("P75 Frequency"),width:z.z7},p90Frequency:{key:"p90Frequency",name:(0,p.t)("P90 Frequency"),width:z.z7},p95Frequency:{key:"p95Frequency",name:(0,p.t)("P95 Frequency"),width:z.z7},p99Frequency:{key:"p99Frequency",name:(0,p.t)("P99 Frequency"),width:z.z7}},L=(0,h.Z)("div",{target:"ext92iv0"})("display:grid;gap:",(0,j.Z)(2),";grid-template-columns:min-content auto;margin-bottom:",(0,j.Z)(2),";");function E(e){const n=(0,m.Z)(),t=(0,g.Z)(),{projects:f}=(0,y.Z)(),h=(0,d.ro)(e.location.query.version),x=(0,d.ro)(e.location.query.transaction),[q,j]=(0,r.useState)({type:"initial"}),v=(0,r.useMemo)((()=>f.find((n=>n.slug===e.params.projectId))),[f,e.params.projectId]),S=!(0,l.ri)(e.params.projectId)||!(0,l.ri)(x)||!(0,l.ri)(h);return(0,r.useEffect)((()=>{if(!S)return j({type:"loading"}),function(e,n,t){let{projectSlug:r,transaction:o,version:i}=t;return e.requestPromise(`/projects/${n.slug}/${r}/profiling/functions/`,{method:"GET",includeAllArgs:!1,query:{query:`transaction_name:"${o}" version:"${i}"`}})}(n,t,{projectSlug:e.params.projectId,transaction:x,version:h}).then((e=>{j({type:"resolved",data:e})})).catch((e=>{j({type:"errored",error:(0,p.t)("Error: Unable to load functions")}),o.Tb(e)})),()=>n.clear()}),[n,t,j,e.params.projectId,x,h,S]),(0,b.tZ)(c.Z,{title:(0,p.t)("Profiling — Functions"),orgSlug:t.slug,children:(0,b.tZ)(u.Z,{lockedMessageSubject:(0,p.t)("transaction"),shouldForceProject:(0,l.ri)(v),forceProject:v,specificProjectSlugs:(0,l.ri)(v)?[v.slug]:[],disableMultipleProjectSelection:!0,showProjectSettingsLink:!0,hideGlobalHeader:!0,children:(0,b.BX)(s.Z,{organization:t,children:[S&&(0,b.tZ)(i.Z,{type:"error",showIcon:!0,children:(0,p.t)("Missing required parameters.")}),v&&!S&&(0,b.BX)(r.Fragment,{children:[(0,b.tZ)(Z,{page:"functions",transaction:x,version:h,project:v}),(0,b.tZ)(a.uT,{children:(0,b.tZ)($,{isLoading:"loading"===q.type,error:"errored"===q.type?q.error:null,version:h,versionedFunctions:"resolved"===q.type?q.data:null})})]})]})})})}E.displayName="FunctionsPage";const R=(0,f.Z)(E)},"./app/views/profiling/routes.tsx":(e,n,t)=>{function r(e){let{orgSlug:n,projectSlug:t,profileId:r}=e;return`/organizations/${n}/profiling/flamegraph/${t}/${r}/flamegraph/`}function o(e){let{orgSlug:n,projectSlug:t,profileId:r}=e;return`/organizations/${n}/profiling/flamegraph/${t}/${r}/summary/`}function i(e){let{location:n,orgSlug:t}=e;const r=function(e){let{orgSlug:n}=e;return`/organizations/${n}/profiling/`}({orgSlug:t});return{pathname:r,query:{...n.query}}}function a(e){let{location:n,orgSlug:t,projectSlug:r,transaction:o,version:i}=e;const a=function(e){let{orgSlug:n,projectSlug:t}=e;return`/organizations/${n}/profiling/functions/${t}/`}({orgSlug:t,projectSlug:r});return{pathname:a,query:{...n.query,transaction:o,version:i}}}function s(e){let{location:n,orgSlug:t,projectSlug:o,profileId:i}=e;return{pathname:r({orgSlug:t,projectSlug:o,profileId:i}),query:{...n.query}}}function u(e){let{location:n,orgSlug:t,projectSlug:r,profileId:i}=e;return{pathname:o({orgSlug:t,projectSlug:r,profileId:i}),query:{...n.query}}}t.d(n,{Fr:()=>r,xE:()=>o,XR:()=>i,A_:()=>a,nS:()=>s,D2:()=>u})}}]);
//# sourceMappingURL=../sourcemaps/app_views_profiling_functions_index_tsx.cf32fc1b7be080309175d4078c413e85.js.map