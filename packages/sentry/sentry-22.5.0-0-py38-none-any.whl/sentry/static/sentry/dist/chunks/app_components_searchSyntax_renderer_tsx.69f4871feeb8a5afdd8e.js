"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_searchSyntax_renderer_tsx"],{"./app/components/searchSyntax/parser.tsx":(e,t,r)=>{r.d(t,{WU:()=>h,oV:()=>p,vA:()=>f,J$:()=>A,iq:()=>x,UG:()=>V});var a=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=(r("../node_modules/core-js/modules/web.dom-collections.iterator.js"),r("../node_modules/moment/moment.js")),i=r.n(n),o=r("./app/locale.tsx"),l=r("./app/utils/discover/fields.tsx"),s=r("./app/components/searchSyntax/grammar.pegjs"),u=r.n(s),c=r("./app/components/searchSyntax/utils.tsx");const d=e=>{let[t,r,a,n,i]=e;return{separator:[t.value,r,a.value].join(""),value:i}};let h,p,g,f;!function(e){e.Spaces="spaces",e.Filter="filter",e.FreeText="freeText",e.LogicGroup="logicGroup",e.LogicBoolean="logicBoolean",e.KeySimple="keySimple",e.KeyExplicitTag="keyExplicitTag",e.KeyAggregate="keyAggregate",e.KeyAggregateArgs="keyAggregateArgs",e.KeyAggregateParam="keyAggregateParam",e.ValueIso8601Date="valueIso8601Date",e.ValueRelativeDate="valueRelativeDate",e.ValueDuration="valueDuration",e.ValuePercentage="valuePercentage",e.ValueBoolean="valueBoolean",e.ValueNumber="valueNumber",e.ValueText="valueText",e.ValueNumberList="valueNumberList",e.ValueTextList="valueTextList"}(h||(h={})),function(e){e.Default="",e.GreaterThanEqual=">=",e.LessThanEqual="<=",e.GreaterThan=">",e.LessThan="<",e.Equal="=",e.NotEqual="!="}(p||(p={})),function(e){e.And="AND",e.Or="OR"}(g||(g={})),function(e){e.Text="text",e.TextIn="textIn",e.Date="date",e.SpecificDate="specificDate",e.RelativeDate="relativeDate",e.Duration="duration",e.Numeric="numeric",e.NumericIn="numericIn",e.Boolean="boolean",e.AggregateDuration="aggregateDuration",e.AggregatePercentage="aggregatePercentage",e.AggregateNumeric="aggregateNumeric",e.AggregateDate="aggregateDate",e.AggregateRelativeDate="aggregateRelativeDate",e.Has="has",e.Is="is"}(f||(f={}));const v=[p.Default,p.GreaterThanEqual,p.LessThanEqual,p.GreaterThan,p.LessThan,p.Equal,p.NotEqual],m=[p.Default,p.NotEqual],A={[f.SpecificDate]:[f.Date],[f.Date]:[f.SpecificDate]},y=[h.KeySimple,h.KeyExplicitTag],k={b:1e9,m:1e6,k:1e3},x={[f.Text]:{validKeys:y,validOps:m,validValues:[h.ValueText],canNegate:!0},[f.TextIn]:{validKeys:y,validOps:[],validValues:[h.ValueTextList],canNegate:!0},[f.Date]:{validKeys:[h.KeySimple],validOps:v,validValues:[h.ValueIso8601Date],canNegate:!1},[f.SpecificDate]:{validKeys:[h.KeySimple],validOps:[],validValues:[h.ValueIso8601Date],canNegate:!1},[f.RelativeDate]:{validKeys:[h.KeySimple],validOps:[],validValues:[h.ValueRelativeDate],canNegate:!1},[f.Duration]:{validKeys:[h.KeySimple],validOps:v,validValues:[h.ValueDuration],canNegate:!0},[f.Numeric]:{validKeys:[h.KeySimple],validOps:v,validValues:[h.ValueNumber],canNegate:!0},[f.NumericIn]:{validKeys:[h.KeySimple],validOps:[],validValues:[h.ValueNumberList],canNegate:!0},[f.Boolean]:{validKeys:[h.KeySimple],validOps:m,validValues:[h.ValueBoolean],canNegate:!0},[f.AggregateDuration]:{validKeys:[h.KeyAggregate],validOps:v,validValues:[h.ValueDuration],canNegate:!0},[f.AggregateNumeric]:{validKeys:[h.KeyAggregate],validOps:v,validValues:[h.ValueNumber],canNegate:!0},[f.AggregatePercentage]:{validKeys:[h.KeyAggregate],validOps:v,validValues:[h.ValuePercentage],canNegate:!0},[f.AggregateDate]:{validKeys:[h.KeyAggregate],validOps:v,validValues:[h.ValueIso8601Date],canNegate:!0},[f.AggregateRelativeDate]:{validKeys:[h.KeyAggregate],validOps:v,validValues:[h.ValueRelativeDate],canNegate:!0},[f.Has]:{validKeys:[h.KeySimple],validOps:m,validValues:[],canNegate:!0},[f.Is]:{validKeys:[h.KeySimple],validOps:m,validValues:[h.ValueText],canNegate:!0}},b={textOperatorKeys:new Set(["release.version","release.build","release.package","release.stage"]),durationKeys:new Set(["transaction.duration"]),percentageKeys:new Set(["percentage"]),numericKeys:new Set(["project_id","project.id","issue.id","stack.colno","stack.lineno","stack.stack_level","transaction.duration"]),dateKeys:new Set(["start","end","first_seen","last_seen","time","event.timestamp","timestamp","timestamp.to_hour","timestamp.to_day","transaction.start_time","transaction.end_time"]),booleanKeys:new Set(["error.handled","error.unhandled","stack.in_app","team_key_transaction"]),allowBoolean:!0},T={TokenConverter:class{constructor(e){let{text:t,location:r,config:n}=e;(0,a.Z)(this,"text",void 0),(0,a.Z)(this,"location",void 0),(0,a.Z)(this,"config",void 0),(0,a.Z)(this,"keyValidation",{isNumeric:e=>this.config.numericKeys.has(e)||(0,l.Xr)(e)||(0,l.yK)(e),isBoolean:e=>this.config.booleanKeys.has(e),isPercentage:e=>this.config.percentageKeys.has(e),isDate:e=>this.config.dateKeys.has(e),isDuration:e=>this.config.durationKeys.has(e)||(0,l.yK)(e)||"duration"===(0,l.Cq)(e)}),(0,a.Z)(this,"tokenSpaces",(e=>({...this.defaultTokenFields,type:h.Spaces,value:e}))),(0,a.Z)(this,"tokenFilter",((e,t,r,a,n)=>{const i={type:h.Filter,filter:e,key:t,value:r,negated:n,operator:null!=a?a:p.Default,invalid:this.checkInvalidFilter(e,t,r)};return{...this.defaultTokenFields,...i}})),(0,a.Z)(this,"tokenFreeText",((e,t)=>({...this.defaultTokenFields,type:h.FreeText,value:e,quoted:t}))),(0,a.Z)(this,"tokenLogicGroup",(e=>({...this.defaultTokenFields,type:h.LogicGroup,inner:e}))),(0,a.Z)(this,"tokenLogicBoolean",(e=>({...this.defaultTokenFields,type:h.LogicBoolean,value:e}))),(0,a.Z)(this,"tokenKeySimple",((e,t)=>({...this.defaultTokenFields,type:h.KeySimple,value:e,quoted:t}))),(0,a.Z)(this,"tokenKeyExplicitTag",((e,t)=>({...this.defaultTokenFields,type:h.KeyExplicitTag,prefix:e,key:t}))),(0,a.Z)(this,"tokenKeyAggregateParam",((e,t)=>({...this.defaultTokenFields,type:h.KeyAggregateParam,value:e,quoted:t}))),(0,a.Z)(this,"tokenKeyAggregate",((e,t,r,a)=>({...this.defaultTokenFields,type:h.KeyAggregate,name:e,args:t,argsSpaceBefore:r,argsSpaceAfter:a}))),(0,a.Z)(this,"tokenKeyAggregateArgs",((e,t)=>({...this.defaultTokenFields,type:h.KeyAggregateArgs,args:[{separator:"",value:e},...t.map(d)]}))),(0,a.Z)(this,"tokenValueIso8601Date",(e=>({...this.defaultTokenFields,type:h.ValueIso8601Date,value:i()(e)}))),(0,a.Z)(this,"tokenValueRelativeDate",((e,t,r)=>({...this.defaultTokenFields,type:h.ValueRelativeDate,value:Number(e),sign:t,unit:r}))),(0,a.Z)(this,"tokenValueDuration",((e,t)=>({...this.defaultTokenFields,type:h.ValueDuration,value:Number(e),unit:t}))),(0,a.Z)(this,"tokenValuePercentage",(e=>({...this.defaultTokenFields,type:h.ValuePercentage,value:Number(e)}))),(0,a.Z)(this,"tokenValueBoolean",(e=>({...this.defaultTokenFields,type:h.ValueBoolean,value:["1","true"].includes(e.toLowerCase())}))),(0,a.Z)(this,"tokenValueNumber",((e,t)=>{var r;return{...this.defaultTokenFields,type:h.ValueNumber,value:e,rawValue:Number(e)*(null!==(r=k[t])&&void 0!==r?r:1),unit:t}})),(0,a.Z)(this,"tokenValueNumberList",((e,t)=>({...this.defaultTokenFields,type:h.ValueNumberList,items:[{separator:"",value:e},...t.map(d)]}))),(0,a.Z)(this,"tokenValueTextList",((e,t)=>({...this.defaultTokenFields,type:h.ValueTextList,items:[{separator:"",value:e},...t.map(d)]}))),(0,a.Z)(this,"tokenValueText",((e,t)=>({...this.defaultTokenFields,type:h.ValueText,value:e,quoted:t}))),(0,a.Z)(this,"predicateFilter",((e,t)=>{const r=(0,c.Ck)(t),a=t,{isNumeric:n,isDuration:i,isBoolean:o,isDate:l,isPercentage:s}=this.keyValidation,u=e=>{var t;return null===(t=a.args)||void 0===t?void 0:t.args.some((t=>{var r,a;return e(null!==(r=null==t||null===(a=t.value)||void 0===a?void 0:a.value)&&void 0!==r?r:"")}))};switch(e){case f.Numeric:case f.NumericIn:return n(r);case f.Duration:return i(r);case f.Boolean:return o(r);case f.Date:case f.RelativeDate:case f.SpecificDate:return l(r);case f.AggregateDuration:return u(i);case f.AggregateDate:return u(l);case f.AggregatePercentage:return u(s);default:return!0}})),(0,a.Z)(this,"predicateTextOperator",(e=>this.config.textOperatorKeys.has((0,c.Ck)(e)))),(0,a.Z)(this,"checkInvalidFilter",((e,t,r)=>e===f.Text?this.checkInvalidTextFilter(t,r):e===f.Is||e===f.Has?this.checkInvalidTextValue(r):[f.TextIn,f.NumericIn].includes(e)?this.checkInvalidInFilter(r):null)),(0,a.Z)(this,"checkInvalidTextFilter",((e,t)=>{if(e.type===h.KeyExplicitTag)return this.checkInvalidTextValue(t);const r=(0,c.Ck)(e);if(this.keyValidation.isDuration(r))return{reason:(0,o.t)("Invalid duration. Expected number followed by duration unit suffix"),expectedType:[f.Duration]};if(this.keyValidation.isDate(r)){const e=new Date;e.setSeconds(0),e.setMilliseconds(0);const t=e.toISOString();return{reason:(0,o.t)("Invalid date format. Expected +/-duration (e.g. +1h) or ISO 8601-like (e.g. %s or %s)",t.slice(0,10),t),expectedType:[f.Date,f.SpecificDate,f.RelativeDate]}}return this.keyValidation.isBoolean(r)?{reason:(0,o.t)("Invalid boolean. Expected true, 1, false, or 0."),expectedType:[f.Boolean]}:this.keyValidation.isNumeric(r)?{reason:(0,o.t)("Invalid number. Expected number then optional k, m, or b suffix (e.g. 500k)"),expectedType:[f.Numeric,f.NumericIn]}:this.checkInvalidTextValue(t)})),(0,a.Z)(this,"checkInvalidTextValue",(e=>!e.quoted&&/(^|[^\\])"/.test(e.value)?{reason:(0,o.t)("Quotes must enclose text or be escaped")}:e.quoted||""!==e.value?null:{reason:(0,o.t)("Filter must have a value")})),(0,a.Z)(this,"checkInvalidInFilter",(e=>{let{items:t}=e;return t.some((e=>null===e.value))?{reason:(0,o.t)("Lists should not have empty values")}:null})),this.text=t,this.location=r,this.config=n}get defaultTokenFields(){return{text:this.text(),location:this.location()}}},TermOperator:p,FilterType:f,config:b};function V(e){try{return u().parse(e,T)}catch(e){}return null}},"./app/components/searchSyntax/renderer.tsx":(e,t,r)=>{r.d(t,{Z:()=>h});var a=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),n=(r("../node_modules/core-js/modules/web.dom-collections.iterator.js"),r("../node_modules/react/index.js")),i=r("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),o=r("../node_modules/framer-motion/dist/es/utils/use-reduced-motion.mjs"),l=r("./app/components/tooltip.tsx"),s=r("./app/styles/space.tsx"),u=r("./app/components/searchSyntax/parser.tsx"),c=r("./app/components/searchSyntax/utils.tsx"),d=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function h(e){let{parsedQuery:t,cursorPosition:r}=e;const a=p(t,null!=r?r:-1);return(0,d.tZ)(n.Fragment,{children:a})}function p(e,t){return e.map((e=>g(e,t))).map(((e,t)=>(0,d.tZ)(n.Fragment,{children:e},t)))}function g(e,t){switch(e.type){case u.WU.Spaces:return e.value;case u.WU.Filter:return(0,d.tZ)(v,{filter:e,cursor:t});case u.WU.ValueTextList:case u.WU.ValueNumberList:return(0,d.tZ)(A,{token:e,cursor:t});case u.WU.ValueNumber:return(0,d.tZ)(y,{token:e});case u.WU.ValueBoolean:return(0,d.tZ)(w,{children:e.text});case u.WU.ValueIso8601Date:return(0,d.tZ)(I,{children:e.text});case u.WU.LogicGroup:return(0,d.tZ)(B,{children:p(e.inner,t)});case u.WU.LogicBoolean:return(0,d.tZ)(C,{children:e.value});default:return e.text}}h.displayName="HighlightQuery";const f=i.F4`
  ${new Array(4).fill(0).map(((e,t)=>`${25*t}% { left: ${3*(t%2==0?1:-1)}px; }`)).join("\n")}
`,v=e=>{var t;let{filter:r,cursor:a}=e;const i=(0,c._R)(r,a),[s,u]=(0,n.useState)(!i),h=(0,n.useRef)(null);(0,n.useEffect)((()=>{i||s||u(!0)}),[i]);const p=s&&!!r.invalid,v=p&&i,A=(0,o.J)();return(0,n.useEffect)((()=>{if(!h.current||!p||A)return;const e=h.current.style;e.animation="none",h.current.offsetTop,window.requestAnimationFrame((()=>e.animation=`${f.name} 300ms`))}),[p]),(0,d.tZ)(l.ZP,{disabled:!v,title:null===(t=r.invalid)||void 0===t?void 0:t.reason,popperStyle:{maxWidth:"350px"},forceVisible:!0,skipWrapper:!0,children:(0,d.BX)(x,{ref:h,active:i,invalid:p,children:[r.negated&&(0,d.tZ)(T,{children:"!"}),(0,d.tZ)(m,{token:r.key,negated:r.negated}),r.operator&&(0,d.tZ)(Z,{children:r.operator}),(0,d.tZ)(N,{children:g(r.value,a)})]})})};v.displayName="FilterToken";const m=e=>{let{token:t,negated:r}=e,a=t.text;return t.type===u.WU.KeyExplicitTag&&(a=(0,d.tZ)(K,{prefix:t.prefix,children:t.key.quoted?`"${t.key.value}"`:t.key.value})),(0,d.BX)(D,{negated:!!r,children:[a,":"]})};m.displayName="KeyToken";const A=e=>{let{token:t,cursor:r}=e;return(0,d.tZ)(E,{children:t.items.map((e=>{let{value:t,separator:a}=e;return[(0,d.tZ)(L,{children:a},"comma"),t&&g(t,r)]}))})};A.displayName="ListToken";const y=e=>{let{token:t}=e;return(0,d.BX)(n.Fragment,{children:[t.value,(0,d.tZ)(S,{children:t.unit})]})};y.displayName="NumberToken";const k=e=>`${e.invalid?"invalid":"valid"}${e.active?"Active":""}`,x=(0,a.Z)("span",{target:"e1t4m3bf12"})("--token-bg:",(e=>e.theme.searchTokenBackground[k(e)]),";--token-border:",(e=>e.theme.searchTokenBorder[k(e)]),";--token-value-color:",(e=>e.invalid?e.theme.red300:e.theme.blue300),";position:relative;animation-name:",f,";"),b=(0,i.iv)("background:var(--token-bg);border:0.5px solid var(--token-border);padding:",(0,s.Z)(.25)," 0;",""),T=(0,a.Z)("span",{target:"e1t4m3bf11"})(b,";border-right:none;padding-left:1px;margin-left:-2px;font-weight:bold;border-radius:2px 0 0 2px;color:",(e=>e.theme.red300),";");var V={name:"12gnbi",styles:"border-left:none;margin-left:0"},F={name:"1h2r5pb",styles:"border-radius:2px 0 0 2px;padding-left:1px;margin-left:-2px"};const D=(0,a.Z)("span",{target:"e1t4m3bf10"})(b,";border-right:none;font-weight:bold;",(e=>e.negated?V:F),";"),K=(0,a.Z)("span",{target:"e1t4m3bf9"})("&:before,&:after{color:",(e=>e.theme.subText),";}&:before{content:'",(e=>e.prefix),"[';}&:after{content:']';}"),Z=(0,a.Z)("span",{target:"e1t4m3bf8"})(b,";border-left:none;border-right:none;margin:-1px 0;color:",(e=>e.theme.pink300),";"),N=(0,a.Z)("span",{target:"e1t4m3bf7"})(b,";border-left:none;border-radius:0 2px 2px 0;color:var(--token-value-color);margin:-1px -2px -1px 0;padding-right:1px;"),S=(0,a.Z)("span",{target:"e1t4m3bf6"})("font-weight:bold;color:",(e=>e.theme.green300),";"),C=(0,a.Z)("span",{target:"e1t4m3bf5"})("font-weight:bold;color:",(e=>e.theme.gray300),";"),w=(0,a.Z)("span",{target:"e1t4m3bf4"})("color:",(e=>e.theme.pink300),";"),I=(0,a.Z)("span",{target:"e1t4m3bf3"})("color:",(e=>e.theme.green300),";"),L=(0,a.Z)("span",{target:"e1t4m3bf2"})("color:",(e=>e.theme.gray300),";"),E=(0,a.Z)("span",{target:"e1t4m3bf1"})("&:before{content:'[';font-weight:bold;color:",(e=>e.theme.purple300),";}&:after{content:']';font-weight:bold;color:",(e=>e.theme.purple300),";}",N,"{color:",(e=>e.theme.purple300),";}"),B=(0,a.Z)((e=>{let{children:t,...r}=e;return(0,d.BX)("span",{...r,children:[(0,d.tZ)("span",{children:"("}),t,(0,d.tZ)("span",{children:")"})]})}),{target:"e1t4m3bf0"})(">span:first-child,>span:last-child{position:relative;color:transparent;&:before{position:absolute;top:-5px;color:",(e=>e.theme.pink300),";font-size:16px;font-weight:bold;}}>span:first-child:before{left:-3px;content:'(';}>span:last-child:before{right:-3px;content:')';}")},"./app/components/searchSyntax/utils.tsx":(e,t,r)=>{r.d(t,{ly:()=>l,Ck:()=>s,_R:()=>u});var a=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=r("./app/components/searchSyntax/parser.tsx");class i extends Error{constructor(e){super(),(0,a.Z)(this,"result",void 0),this.result=e}}const o=Symbol("Returned to skip visiting a token");function l(e){let{tree:t,visitorTest:r,noResultValue:a}=e;const l=e=>new i(e),s=e=>{if(null===e)return;const t=r({token:e,returnResult:l,skipToken:o});if(t instanceof i)throw t;if(t!==o)switch(e.type){case n.WU.Filter:s(e.key),s(e.value);break;case n.WU.KeyExplicitTag:s(e.key);break;case n.WU.KeyAggregate:s(e.name),e.args&&s(e.args),s(e.argsSpaceBefore),s(e.argsSpaceAfter);break;case n.WU.LogicGroup:e.inner.forEach(s);break;case n.WU.KeyAggregateArgs:e.args.forEach((e=>s(e.value)));break;case n.WU.ValueNumberList:case n.WU.ValueTextList:e.items.forEach((e=>s(e.value)))}};try{t.forEach(s)}catch(e){if(e instanceof i)return e.result;throw e}return a}const s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{aggregateWithArgs:r}=t;switch(e.type){case n.WU.KeySimple:return e.value;case n.WU.KeyExplicitTag:return e.key.value;case n.WU.KeyAggregate:return r?`${e.name.value}(${e.args?e.args.text:""})`:e.name.value;default:return""}};function u(e,t){return t>=e.location.start.offset&&t<=e.location.end.offset}},"./app/components/searchSyntax/grammar.pegjs":e=>{function t(e,r,a,n){this.message=e,this.expected=r,this.found=a,this.location=n,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t)}!function(e,t){function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r}(t,Error),t.buildMessage=function(e,t){var r={literal:function(e){return'"'+n(e.text)+'"'},class:function(e){var t,r="";for(t=0;t<e.parts.length;t++)r+=e.parts[t]instanceof Array?i(e.parts[t][0])+"-"+i(e.parts[t][1]):i(e.parts[t]);return"["+(e.inverted?"^":"")+r+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function a(e){return e.charCodeAt(0).toString(16).toUpperCase()}function n(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+a(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+a(e)}))}function i(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+a(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+a(e)}))}return"Expected "+function(e){var t,a,n,i=new Array(e.length);for(t=0;t<e.length;t++)i[t]=(n=e[t],r[n.type](n));if(i.sort(),i.length>0){for(t=1,a=1;t<i.length;t++)i[t-1]!==i[t]&&(i[a]=i[t],a++);i.length=a}switch(i.length){case 1:return i[0];case 2:return i[0]+" or "+i[1];default:return i.slice(0,-1).join(", ")+", or "+i[i.length-1]}}(e)+" but "+function(e){return e?'"'+n(e)+'"':"end of input"}(t)+" found."},e.exports={SyntaxError:t,parse:function(e,r){r=void 0!==r?r:{};var a,n={},i={search:_e},o=_e,l=/^[^()\n ]/,s=Ie(["(",")","\n"," "],!0,!1),u="has:",c=we("has:",!1),d=we("is:",!1),h=/^[a-zA-Z0-9_.\-]/,p=Ie([["a","z"],["A","Z"],["0","9"],"_",".","-"],!1,!1),g='"',f=we('"',!1),v=/^[a-zA-Z0-9_.:\-]/,m=Ie([["a","z"],["A","Z"],["0","9"],"_",".",":","-"],!1,!1),A="tags",y=we("tags",!1),k=/^[^()\t\n, "]/,x=Ie(["(",")","\t","\n",","," ",'"'],!0,!1),b='\\"',T=we('\\"',!1),V=/^[^\t\n"]/,F=Ie(["\t","\n",'"'],!0,!1),D=/^[^()\t\n ]/,K=Ie(["(",")","\t","\n"," "],!0,!1),Z=/^[^"]/,N=Ie(['"'],!0,!1),S=we("-",!1),C=/^[kmb]/,w=Ie(["k","m","b"],!1,!1),I=we("true",!0),L=we("1",!1),E=we("false",!0),B=we("0",!1),_=/^[^(), ]/,R=Ie(["(",")",","," "],!0,!1),j=/^[0-9]/,O=Ie([["0","9"]],!1,!1),P=we("T",!1),U=":",W=we(":",!1),q=we(".",!1),G=/^[+\-]/,$=Ie(["+","-"],!1,!1),H=we("Z",!1),z=/^[wdhm]/,X=Ie(["w","d","h","m"],!1,!1),M=we("ms",!1),Q=we("s",!1),J=we("min",!1),Y=we("m",!1),ee=we("hr",!1),te=we("h",!1),re=we("day",!1),ae=we("d",!1),ne=we("wk",!1),ie=we("w",!1),oe=we("%",!1),le=we(">=",!1),se=we("<=",!1),ue=we(">",!1),ce=we("<",!1),de=we("=",!1),he=we("!=",!1),pe=we("OR",!0),ge=we("AND",!0),fe=we("(",!1),ve=we(")",!1),me=we("[",!1),Ae=we("]",!1),ye=we("!",!1),ke=we(",",!1),xe=we(" ",!1),be=/^[\t\n )]/,Te=Ie(["\t","\n"," ",")"],!1,!1),Ve={type:"any"},Fe=0,De=0,Ke=[{line:1,column:1}],Ze=0,Ne=[],Se=0;if("startRule"in r){if(!(r.startRule in i))throw new Error("Can't start parsing from rule \""+r.startRule+'".');o=i[r.startRule]}function Ce(){return e.substring(De,Fe)}function we(e,t){return{type:"literal",text:e,ignoreCase:t}}function Ie(e,t,r){return{type:"class",parts:e,inverted:t,ignoreCase:r}}function Le(t){var r,a=Ke[t];if(a)return a;for(r=t-1;!Ke[r];)r--;for(a={line:(a=Ke[r]).line,column:a.column};r<t;)10===e.charCodeAt(r)?(a.line++,a.column=1):a.column++,r++;return Ke[t]=a,a}function Ee(e,t){var r=Le(e),a=Le(t);return{start:{offset:e,line:r.line,column:r.column},end:{offset:t,line:a.line,column:a.column}}}function Be(e){Fe<Ze||(Fe>Ze&&(Ze=Fe,Ne=[]),Ne.push(e))}function _e(){var e,t,r,a;if(e=Fe,(t=gt())!==n){for(r=[],a=Re();a!==n;)r.push(a),a=Re();r!==n?(De=e,e=t=[t,...r.flat()]):(Fe=e,e=n)}else Fe=e,e=n;return e}function Re(){var e,t,r;return e=Fe,(t=je())===n&&(t=function(){var e,t,r,a,i,o;if(e=Fe,lt()!==n)if((t=gt())!==n){if(r=[],(a=Re())!==n)for(;a!==n;)r.push(a),a=Re();else r=n;r!==n&&(a=st())!==n?(De=e,i=t,o=r,e=kt.tokenLogicGroup([i,...o].flat())):(Fe=e,e=n)}else Fe=e,e=n;else Fe=e,e=n;return e}(),t===n&&(t=Ue())===n&&(t=Oe())),t!==n&&(r=gt())!==n?e=t=[t,r]:(Fe=e,e=n),e}function je(){var t,r;return t=Fe,r=function(){var t,r,a,i;return t=Fe,"or"===e.substr(Fe,2).toLowerCase()?(r=e.substr(Fe,2),Fe+=2):(r=n,0===Se&&Be(pe)),r!==n?(a=Fe,Se++,i=ft(),Se--,i!==n?(Fe=a,a=void 0):a=n,a!==n?t=r=[r,a]:(Fe=t,t=n)):(Fe=t,t=n),t}(),r===n&&(r=function(){var t,r,a,i;return t=Fe,"and"===e.substr(Fe,3).toLowerCase()?(r=e.substr(Fe,3),Fe+=3):(r=n,0===Se&&Be(ge)),r!==n?(a=Fe,Se++,i=ft(),Se--,i!==n?(Fe=a,a=void 0):a=n,a!==n?t=r=[r,a]:(Fe=t,t=n)):(Fe=t,t=n),t}()),r!==n&&(De=t,r=kt.tokenLogicBoolean(Ce().toUpperCase())),r}function Oe(){var t;return(t=function(){var e,t,r;return e=Fe,(t=ze())!==n&&(De=e,r=t,t=kt.tokenFreeText(r.value,!0)),t}())===n&&(t=function(){var t,r,a,i,o,u,c;if(t=Fe,r=[],a=Fe,i=Fe,Se++,o=Ue(),Se--,o===n?i=void 0:(Fe=i,i=n),i!==n)if(o=Fe,Se++,u=je(),Se--,u===n?o=void 0:(Fe=o,o=n),o!==n){if((u=Pe())===n)if(u=[],l.test(e.charAt(Fe))?(c=e.charAt(Fe),Fe++):(c=n,0===Se&&Be(s)),c!==n)for(;c!==n;)u.push(c),l.test(e.charAt(Fe))?(c=e.charAt(Fe),Fe++):(c=n,0===Se&&Be(s));else u=n;u!==n&&(c=gt())!==n?a=i=[i,o,u,c]:(Fe=a,a=n)}else Fe=a,a=n;else Fe=a,a=n;if(a!==n)for(;a!==n;)if(r.push(a),a=Fe,i=Fe,Se++,o=Ue(),Se--,o===n?i=void 0:(Fe=i,i=n),i!==n)if(o=Fe,Se++,u=je(),Se--,u===n?o=void 0:(Fe=o,o=n),o!==n){if((u=Pe())===n)if(u=[],l.test(e.charAt(Fe))?(c=e.charAt(Fe),Fe++):(c=n,0===Se&&Be(s)),c!==n)for(;c!==n;)u.push(c),l.test(e.charAt(Fe))?(c=e.charAt(Fe),Fe++):(c=n,0===Se&&Be(s));else u=n;u!==n&&(c=gt())!==n?a=i=[i,o,u,c]:(Fe=a,a=n)}else Fe=a,a=n;else Fe=a,a=n;else r=n;return r!==n&&(De=t,r=kt.tokenFreeText(Ce(),!1)),r}()),t}function Pe(){var e,t,r,a;return e=Fe,(t=lt())!==n?((r=Oe())===n&&(r=null),r!==n&&(a=st())!==n?e=t=[t,r,a]:(Fe=e,e=n)):(Fe=e,e=n),e}function Ue(){var t;return(t=function(){var e,t,r,a,i,o,l;return e=Fe,(t=$e())!==n&&dt()!==n&&(r=it())!==n&&(a=rt())!==n?(De=Fe,i=t,o=r,l=a,(kt.predicateFilter(At.Date,i,l,o)?void 0:n)!==n?(De=e,t=function(e,t,r){return kt.tokenFilter(At.Date,e,r,t,!1)}(t,r,a),e=t):(Fe=e,e=n)):(Fe=e,e=n),e}())===n&&(t=function(){var e,t,r,a;return e=Fe,(t=$e())!==n&&dt()!==n&&(r=rt())!==n?(De=Fe,a=t,(kt.predicateFilter(At.SpecificDate,a)?void 0:n)!==n?(De=e,t=function(e,t){return kt.tokenFilter(At.SpecificDate,e,t,xt,!1)}(t,r),e=t):(Fe=e,e=n)):(Fe=e,e=n),e}())===n&&(t=function(){var e,t,r,a;return e=Fe,(t=$e())!==n&&dt()!==n&&(r=at())!==n?(De=Fe,a=t,(kt.predicateFilter(At.RelativeDate,a)?void 0:n)!==n?(De=e,t=function(e,t){return kt.tokenFilter(At.RelativeDate,e,t,xt,!1)}(t,r),e=t):(Fe=e,e=n)):(Fe=e,e=n),e}())===n&&(t=function(){var e,t,r,a,i,o;return e=Fe,(t=ht())===n&&(t=null),t!==n&&(r=$e())!==n&&dt()!==n?((a=it())===n&&(a=null),a!==n&&(i=nt())!==n?(De=Fe,o=r,(kt.predicateFilter(At.Duration,o)?void 0:n)!==n?(De=e,t=function(e,t,r,a){return kt.tokenFilter(At.Duration,t,a,r,!!e)}(t,r,a,i),e=t):(Fe=e,e=n)):(Fe=e,e=n)):(Fe=e,e=n),e}())===n&&(t=function(){var t,r,a,i,o;return t=Fe,(r=ht())===n&&(r=null),r!==n&&(a=$e())!==n&&dt()!==n?(i=function(){var t,r,a,i,o;return t=Fe,"true"===e.substr(Fe,4).toLowerCase()?(r=e.substr(Fe,4),Fe+=4):(r=n,0===Se&&Be(I)),r===n&&(49===e.charCodeAt(Fe)?(r="1",Fe++):(r=n,0===Se&&Be(L)),r===n&&("false"===e.substr(Fe,5).toLowerCase()?(r=e.substr(Fe,5),Fe+=5):(r=n,0===Se&&Be(E)),r===n&&(48===e.charCodeAt(Fe)?(r="0",Fe++):(r=n,0===Se&&Be(B))))),r!==n?(a=Fe,Se++,i=ft(),Se--,i!==n?(Fe=a,a=void 0):a=n,a!==n?(De=t,o=r,t=r=kt.tokenValueBoolean(o)):(Fe=t,t=n)):(Fe=t,t=n),t}(),i!==n?(De=Fe,o=a,(kt.predicateFilter(At.Boolean,o)?void 0:n)!==n?(De=t,r=function(e,t,r){return kt.tokenFilter(At.Boolean,t,r,xt,!!e)}(r,a,i),t=r):(Fe=t,t=n)):(Fe=t,t=n)):(Fe=t,t=n),t}())===n&&(t=function(){var e,t,r,a,i;return e=Fe,(t=ht())===n&&(t=null),t!==n&&(r=$e())!==n&&dt()!==n?(a=function(){var e,t,r,a,i,o,l,s,u,c,d;if(e=Fe,ut()!==n)if((t=Qe())!==n){for(r=[],a=Fe,(i=gt())!==n&&(o=pt())!==n&&(l=gt())!==n?(s=Fe,Se++,u=pt(),Se--,u===n?s=void 0:(Fe=s,s=n),s!==n?((u=Qe())===n&&(u=null),u!==n?a=i=[i,o,l,s,u]:(Fe=a,a=n)):(Fe=a,a=n)):(Fe=a,a=n);a!==n;)r.push(a),a=Fe,(i=gt())!==n&&(o=pt())!==n&&(l=gt())!==n?(s=Fe,Se++,u=pt(),Se--,u===n?s=void 0:(Fe=s,s=n),s!==n?((u=Qe())===n&&(u=null),u!==n?a=i=[i,o,l,s,u]:(Fe=a,a=n)):(Fe=a,a=n)):(Fe=a,a=n);r!==n&&(a=ct())!==n?(i=Fe,Se++,o=ft(),Se--,o!==n?(Fe=i,i=void 0):i=n,i!==n?(De=e,c=t,d=r,e=kt.tokenValueNumberList(c,d)):(Fe=e,e=n)):(Fe=e,e=n)}else Fe=e,e=n;else Fe=e,e=n;return e}(),a!==n?(De=Fe,i=r,(kt.predicateFilter(At.NumericIn,i)?void 0:n)!==n?(De=e,t=function(e,t,r){return kt.tokenFilter(At.NumericIn,t,r,xt,!!e)}(t,r,a),e=t):(Fe=e,e=n)):(Fe=e,e=n)):(Fe=e,e=n),e}())===n&&(t=function(){var e,t,r,a,i,o;return e=Fe,(t=ht())===n&&(t=null),t!==n&&(r=$e())!==n&&dt()!==n?((a=it())===n&&(a=null),a!==n&&(i=Qe())!==n?(De=Fe,o=r,(kt.predicateFilter(At.Numeric,o)?void 0:n)!==n?(De=e,t=function(e,t,r,a){return kt.tokenFilter(At.Numeric,t,a,r,!!e)}(t,r,a,i),e=t):(Fe=e,e=n)):(Fe=e,e=n)):(Fe=e,e=n),e}())===n&&(t=function(){var e,t,r,a,i,o;return e=Fe,(t=ht())===n&&(t=null),t!==n&&(r=qe())!==n&&dt()!==n?((a=it())===n&&(a=null),a!==n&&(i=nt())!==n?(De=Fe,o=r,(kt.predicateFilter(At.AggregateDuration,o)?void 0:n)!==n?(De=e,t=function(e,t,r,a){return kt.tokenFilter(At.AggregateDuration,t,a,r,!!e)}(t,r,a,i),e=t):(Fe=e,e=n)):(Fe=e,e=n)):(Fe=e,e=n),e}())===n&&(t=function(){var e,t,r,a,i,o;return e=Fe,(t=ht())===n&&(t=null),t!==n&&(r=qe())!==n&&dt()!==n?((a=it())===n&&(a=null),a!==n&&(i=Qe())!==n?(De=Fe,o=r,(kt.predicateFilter(At.AggregateNumeric,o)?void 0:n)!==n?(De=e,t=function(e,t,r,a){return kt.tokenFilter(At.AggregateNumeric,t,a,r,!!e)}(t,r,a,i),e=t):(Fe=e,e=n)):(Fe=e,e=n)):(Fe=e,e=n),e}())===n&&(t=function(){var t,r,a,i,o,l;return t=Fe,(r=ht())===n&&(r=null),r!==n&&(a=qe())!==n&&dt()!==n?((i=it())===n&&(i=null),i!==n?(o=function(){var t,r,a,i;return t=Fe,(r=ot())!==n?(37===e.charCodeAt(Fe)?(a="%",Fe++):(a=n,0===Se&&Be(oe)),a!==n?(De=t,i=r,t=r=kt.tokenValuePercentage(i)):(Fe=t,t=n)):(Fe=t,t=n),t}(),o!==n?(De=Fe,l=a,(kt.predicateFilter(At.AggregatePercentage,l)?void 0:n)!==n?(De=t,r=function(e,t,r,a){return kt.tokenFilter(At.AggregatePercentage,t,a,r,!!e)}(r,a,i,o),t=r):(Fe=t,t=n)):(Fe=t,t=n)):(Fe=t,t=n)):(Fe=t,t=n),t}())===n&&(t=function(){var e,t,r,a,i,o;return e=Fe,(t=ht())===n&&(t=null),t!==n&&(r=qe())!==n&&dt()!==n?((a=it())===n&&(a=null),a!==n&&(i=rt())!==n?(De=Fe,o=r,(kt.predicateFilter(At.AggregateDate,o)?void 0:n)!==n?(De=e,t=function(e,t,r,a){return kt.tokenFilter(At.AggregateDate,t,a,r,!!e)}(t,r,a,i),e=t):(Fe=e,e=n)):(Fe=e,e=n)):(Fe=e,e=n),e}())===n&&(t=function(){var e,t,r,a,i,o;return e=Fe,(t=ht())===n&&(t=null),t!==n&&(r=qe())!==n&&dt()!==n?((a=it())===n&&(a=null),a!==n&&(i=at())!==n?(De=Fe,o=r,(kt.predicateFilter(At.AggregateRelativeDate,o)?void 0:n)!==n?(De=e,t=function(e,t,r,a){return kt.tokenFilter(At.AggregateRelativeDate,t,a,r,!!e)}(t,r,a,i),e=t):(Fe=e,e=n)):(Fe=e,e=n)):(Fe=e,e=n),e}())===n&&(t=function(){var t,r,a,i,o,l;return t=Fe,(r=ht())===n&&(r=null),r!==n?(a=Fe,Se++,e.substr(Fe,4)===u?(i=u,Fe+=4):(i=n,0===Se&&Be(c)),Se--,i!==n?(Fe=a,a=void 0):a=n,a!==n&&(i=$e())!==n&&dt()!==n?((o=$e())===n&&(o=Me()),o!==n?(De=Fe,l=i,(kt.predicateFilter(At.Has,l)?void 0:n)!==n?(De=t,r=function(e,t,r){return kt.tokenFilter(At.Has,t,r,xt,!!e)}(r,i,o),t=r):(Fe=t,t=n)):(Fe=t,t=n)):(Fe=t,t=n)):(Fe=t,t=n),t}())===n&&(t=function(){var t,r,a,i,o,l;return t=Fe,(r=ht())===n&&(r=null),r!==n?(a=Fe,Se++,"is:"===e.substr(Fe,3)?(i="is:",Fe+=3):(i=n,0===Se&&Be(d)),Se--,i!==n?(Fe=a,a=void 0):a=n,a!==n&&(i=$e())!==n&&dt()!==n&&(o=Me())!==n?(De=Fe,l=i,(kt.predicateFilter(At.Is,l)?void 0:n)!==n?(De=t,r=function(e,t,r){return kt.tokenFilter(At.Is,t,r,xt,!!e)}(r,i,o),t=r):(Fe=t,t=n)):(Fe=t,t=n)):(Fe=t,t=n),t}())===n&&(t=function(){var e,t,r,a,i;return e=Fe,(t=ht())===n&&(t=null),t!==n&&(r=He())!==n&&dt()!==n?(a=function(){var e,t,r,a,i,o,l,s,u,c,d;if(e=Fe,ut()!==n)if((t=Xe())!==n){for(r=[],a=Fe,(i=gt())!==n&&(o=pt())!==n&&(l=gt())!==n?(s=Fe,Se++,u=pt(),Se--,u===n?s=void 0:(Fe=s,s=n),s!==n?((u=Xe())===n&&(u=null),u!==n?a=i=[i,o,l,s,u]:(Fe=a,a=n)):(Fe=a,a=n)):(Fe=a,a=n);a!==n;)r.push(a),a=Fe,(i=gt())!==n&&(o=pt())!==n&&(l=gt())!==n?(s=Fe,Se++,u=pt(),Se--,u===n?s=void 0:(Fe=s,s=n),s!==n?((u=Xe())===n&&(u=null),u!==n?a=i=[i,o,l,s,u]:(Fe=a,a=n)):(Fe=a,a=n)):(Fe=a,a=n);r!==n&&(a=ct())!==n?(i=Fe,Se++,o=ft(),Se--,o!==n?(Fe=i,i=void 0):i=n,i!==n?(De=e,c=t,d=r,e=kt.tokenValueTextList(c,d)):(Fe=e,e=n)):(Fe=e,e=n)}else Fe=e,e=n;else Fe=e,e=n;return e}(),a!==n?(De=Fe,i=r,(kt.predicateFilter(At.TextIn,i)?void 0:n)!==n?(De=e,t=function(e,t,r){return kt.tokenFilter(At.TextIn,t,r,xt,!!e)}(t,r,a),e=t):(Fe=e,e=n)):(Fe=e,e=n)):(Fe=e,e=n),e}())===n&&(t=function(){var e,t,r,a,i,o,l;return e=Fe,(t=ht())===n&&(t=null),t!==n&&(r=He())!==n&&dt()!==n?(a=Fe,(i=it())!==n?(De=Fe,l=r,(o=(o=kt.predicateTextOperator(l))?void 0:n)!==n?a=i=[i,o]:(Fe=a,a=n)):(Fe=a,a=n),a===n&&(a=null),a!==n&&(i=Me())!==n?(De=Fe,o=function(e,t,r,a){return kt.predicateFilter(At.Text,t)}(0,r),(o=o?void 0:n)!==n?(De=e,t=function(e,t,r,a){return kt.tokenFilter(At.Text,t,a,r?r[0]:xt,!!e)}(t,r,a,i),e=t):(Fe=e,e=n)):(Fe=e,e=n)):(Fe=e,e=n),e}()),t}function We(){var t,r,a,i;if(t=Fe,r=[],h.test(e.charAt(Fe))?(a=e.charAt(Fe),Fe++):(a=n,0===Se&&Be(p)),a!==n)for(;a!==n;)r.push(a),h.test(e.charAt(Fe))?(a=e.charAt(Fe),Fe++):(a=n,0===Se&&Be(p));else r=n;return r!==n&&(De=t,i=r,r=kt.tokenKeySimple(i.join(""),!1)),r}function qe(){var e,t,r,a,i;return e=Fe,(t=We())!==n&&lt()!==n&&(r=gt())!==n?(a=function(){var e,t,r,a,i,o,l,s,u,c,d;if(e=Fe,(t=Ge())!==n){for(r=[],a=Fe,(i=gt())!==n&&(o=pt())!==n&&(l=gt())!==n?(s=Fe,Se++,u=pt(),Se--,u===n?s=void 0:(Fe=s,s=n),s!==n?((u=Ge())===n&&(u=null),u!==n?a=i=[i,o,l,s,u]:(Fe=a,a=n)):(Fe=a,a=n)):(Fe=a,a=n);a!==n;)r.push(a),a=Fe,(i=gt())!==n&&(o=pt())!==n&&(l=gt())!==n?(s=Fe,Se++,u=pt(),Se--,u===n?s=void 0:(Fe=s,s=n),s!==n?((u=Ge())===n&&(u=null),u!==n?a=i=[i,o,l,s,u]:(Fe=a,a=n)):(Fe=a,a=n)):(Fe=a,a=n);r!==n?(De=e,c=t,d=r,e=t=kt.tokenKeyAggregateArgs(c,d)):(Fe=e,e=n)}else Fe=e,e=n;return e}(),a===n&&(a=null),a!==n&&(i=gt())!==n&&st()!==n?(De=e,e=t=function(e,t,r,a){return kt.tokenKeyAggregate(e,r,t,a)}(t,r,a,i)):(Fe=e,e=n)):(Fe=e,e=n),e}function Ge(){var t;return(t=function(){var t,r,a,i,o;if(t=Fe,34===e.charCodeAt(Fe)?(r=g,Fe++):(r=n,0===Se&&Be(f)),r!==n){for(a=[],e.substr(Fe,2)===b?(i=b,Fe+=2):(i=n,0===Se&&Be(T)),i===n&&(V.test(e.charAt(Fe))?(i=e.charAt(Fe),Fe++):(i=n,0===Se&&Be(F)));i!==n;)a.push(i),e.substr(Fe,2)===b?(i=b,Fe+=2):(i=n,0===Se&&Be(T)),i===n&&(V.test(e.charAt(Fe))?(i=e.charAt(Fe),Fe++):(i=n,0===Se&&Be(F)));a!==n?(34===e.charCodeAt(Fe)?(i=g,Fe++):(i=n,0===Se&&Be(f)),i!==n?(De=t,o=a,t=r=kt.tokenKeyAggregateParam(`"${o.join("")}"`,!0)):(Fe=t,t=n)):(Fe=t,t=n)}else Fe=t,t=n;return t}())===n&&(t=function(){var t,r,a,i;if(t=Fe,r=[],k.test(e.charAt(Fe))?(a=e.charAt(Fe),Fe++):(a=n,0===Se&&Be(x)),a!==n)for(;a!==n;)r.push(a),k.test(e.charAt(Fe))?(a=e.charAt(Fe),Fe++):(a=n,0===Se&&Be(x));else r=n;return r!==n&&(De=t,i=r,r=kt.tokenKeyAggregateParam(i.join(""),!1)),r}()),t}function $e(){var t;return(t=We())===n&&(t=function(){var t,r,a,i,o;if(t=Fe,34===e.charCodeAt(Fe)?(r=g,Fe++):(r=n,0===Se&&Be(f)),r!==n){if(a=[],v.test(e.charAt(Fe))?(i=e.charAt(Fe),Fe++):(i=n,0===Se&&Be(m)),i!==n)for(;i!==n;)a.push(i),v.test(e.charAt(Fe))?(i=e.charAt(Fe),Fe++):(i=n,0===Se&&Be(m));else a=n;a!==n?(34===e.charCodeAt(Fe)?(i=g,Fe++):(i=n,0===Se&&Be(f)),i!==n?(De=t,o=a,t=r=kt.tokenKeySimple(o.join(""),!0)):(Fe=t,t=n)):(Fe=t,t=n)}else Fe=t,t=n;return t}()),t}function He(){var t;return(t=function(){var t,r,a,i,o;return t=Fe,e.substr(Fe,4)===A?(r=A,Fe+=4):(r=n,0===Se&&Be(y)),r!==n&&ut()!==n&&(a=$e())!==n&&ct()!==n?(De=t,i=r,o=a,t=r=kt.tokenKeyExplicitTag(i,o)):(Fe=t,t=n),t}())===n&&(t=$e()),t}function ze(){var t,r,a,i,o;if(t=Fe,34===e.charCodeAt(Fe)?(r=g,Fe++):(r=n,0===Se&&Be(f)),r!==n){for(a=[],e.substr(Fe,2)===b?(i=b,Fe+=2):(i=n,0===Se&&Be(T)),i===n&&(Z.test(e.charAt(Fe))?(i=e.charAt(Fe),Fe++):(i=n,0===Se&&Be(N)));i!==n;)a.push(i),e.substr(Fe,2)===b?(i=b,Fe+=2):(i=n,0===Se&&Be(T)),i===n&&(Z.test(e.charAt(Fe))?(i=e.charAt(Fe),Fe++):(i=n,0===Se&&Be(N)));a!==n?(34===e.charCodeAt(Fe)?(i=g,Fe++):(i=n,0===Se&&Be(f)),i!==n?(De=t,o=a,t=r=kt.tokenValueText(o.join(""),!0)):(Fe=t,t=n)):(Fe=t,t=n)}else Fe=t,t=n;return t}function Xe(){var e;return(e=ze())===n&&(e=function(){var e,t,r,a,i;if(e=Fe,t=[],r=Fe,a=Fe,Se++,i=Je(),Se--,i!==n?(Fe=a,a=void 0):a=n,a!==n&&(i=Ye())!==n?r=a=[a,i]:(Fe=r,r=n),r!==n)for(;r!==n;)t.push(r),r=Fe,a=Fe,Se++,i=Je(),Se--,i!==n?(Fe=a,a=void 0):a=n,a!==n&&(i=Ye())!==n?r=a=[a,i]:(Fe=r,r=n);else t=n;return t!==n&&(De=e,t=kt.tokenValueText(Ce(),!1)),t}()),e}function Me(){var t;return(t=ze())===n&&(t=function(){var t,r,a,i;for(t=Fe,r=[],D.test(e.charAt(Fe))?(a=e.charAt(Fe),Fe++):(a=n,0===Se&&Be(K));a!==n;)r.push(a),D.test(e.charAt(Fe))?(a=e.charAt(Fe),Fe++):(a=n,0===Se&&Be(K));return r!==n&&(De=t,i=r,r=kt.tokenValueText(i.join(""),!1)),r}()),t}function Qe(){var t,r,a,i,o,l,s;return t=Fe,r=Fe,45===e.charCodeAt(Fe)?(a="-",Fe++):(a=n,0===Se&&Be(S)),a===n&&(a=null),a!==n&&(i=ot())!==n?r=a=[a,i]:(Fe=r,r=n),r!==n?(C.test(e.charAt(Fe))?(a=e.charAt(Fe),Fe++):(a=n,0===Se&&Be(w)),a===n&&(a=null),a!==n?(i=Fe,Se++,(o=ft())===n&&(o=pt())===n&&(o=ct()),Se--,o!==n?(Fe=i,i=void 0):i=n,i!==n?(De=t,l=r,s=a,t=r=kt.tokenValueNumber(l.join(""),s)):(Fe=t,t=n)):(Fe=t,t=n)):(Fe=t,t=n),t}function Je(){var e,t,r,a,i,o;if(e=Fe,(t=Ye())!==n){for(r=[],a=Fe,i=Fe,Se++,o=et(),Se--,o===n?i=void 0:(Fe=i,i=n),i!==n&&(o=Ye())!==n?a=i=[i,o]:(Fe=a,a=n);a!==n;)r.push(a),a=Fe,i=Fe,Se++,o=et(),Se--,o===n?i=void 0:(Fe=i,i=n),i!==n&&(o=Ye())!==n?a=i=[i,o]:(Fe=a,a=n);r!==n&&(a=et())!==n?e=t=[t,r,a]:(Fe=e,e=n)}else Fe=e,e=n;return e}function Ye(){var t;return _.test(e.charAt(Fe))?(t=e.charAt(Fe),Fe++):(t=n,0===Se&&Be(R)),t}function et(){var e,t,r;return(e=ct())===n&&(e=Fe,(t=gt())!==n&&(r=pt())!==n?e=t=[t,r]:(Fe=e,e=n)),e}function tt(){var t,r,a;return t=Fe,j.test(e.charAt(Fe))?(r=e.charAt(Fe),Fe++):(r=n,0===Se&&Be(O)),r!==n?(j.test(e.charAt(Fe))?(a=e.charAt(Fe),Fe++):(a=n,0===Se&&Be(O)),a!==n?t=r=[r,a]:(Fe=t,t=n)):(Fe=t,t=n),t}function rt(){var t,r,a,i,o;return t=Fe,function(){var t,r,a,i,o,l;return t=Fe,r=function(){var t,r,a,i,o;return t=Fe,j.test(e.charAt(Fe))?(r=e.charAt(Fe),Fe++):(r=n,0===Se&&Be(O)),r!==n?(j.test(e.charAt(Fe))?(a=e.charAt(Fe),Fe++):(a=n,0===Se&&Be(O)),a!==n?(j.test(e.charAt(Fe))?(i=e.charAt(Fe),Fe++):(i=n,0===Se&&Be(O)),i!==n?(j.test(e.charAt(Fe))?(o=e.charAt(Fe),Fe++):(o=n,0===Se&&Be(O)),o!==n?t=r=[r,a,i,o]:(Fe=t,t=n)):(Fe=t,t=n)):(Fe=t,t=n)):(Fe=t,t=n),t}(),r!==n?(45===e.charCodeAt(Fe)?(a="-",Fe++):(a=n,0===Se&&Be(S)),a!==n&&(i=tt())!==n?(45===e.charCodeAt(Fe)?(o="-",Fe++):(o=n,0===Se&&Be(S)),o!==n&&(l=tt())!==n?t=r=[r,a,i,o,l]:(Fe=t,t=n)):(Fe=t,t=n)):(Fe=t,t=n),t}()!==n?((r=function(){var t,r,a,i,o,l,s,u,c,d;return t=Fe,84===e.charCodeAt(Fe)?(r="T",Fe++):(r=n,0===Se&&Be(P)),r!==n&&(a=tt())!==n?(58===e.charCodeAt(Fe)?(i=U,Fe++):(i=n,0===Se&&Be(W)),i!==n&&(o=tt())!==n?(58===e.charCodeAt(Fe)?(l=U,Fe++):(l=n,0===Se&&Be(W)),l!==n&&(s=tt())!==n?(u=Fe,46===e.charCodeAt(Fe)?(c=".",Fe++):(c=n,0===Se&&Be(q)),c!==n?(d=function(){var t,r,a,i,o,l,s;return t=Fe,j.test(e.charAt(Fe))?(r=e.charAt(Fe),Fe++):(r=n,0===Se&&Be(O)),r!==n?(j.test(e.charAt(Fe))?(a=e.charAt(Fe),Fe++):(a=n,0===Se&&Be(O)),a===n&&(a=null),a!==n?(j.test(e.charAt(Fe))?(i=e.charAt(Fe),Fe++):(i=n,0===Se&&Be(O)),i===n&&(i=null),i!==n?(j.test(e.charAt(Fe))?(o=e.charAt(Fe),Fe++):(o=n,0===Se&&Be(O)),o===n&&(o=null),o!==n?(j.test(e.charAt(Fe))?(l=e.charAt(Fe),Fe++):(l=n,0===Se&&Be(O)),l===n&&(l=null),l!==n?(j.test(e.charAt(Fe))?(s=e.charAt(Fe),Fe++):(s=n,0===Se&&Be(O)),s===n&&(s=null),s!==n?t=r=[r,a,i,o,l,s]:(Fe=t,t=n)):(Fe=t,t=n)):(Fe=t,t=n)):(Fe=t,t=n)):(Fe=t,t=n)):(Fe=t,t=n),t}(),d!==n?u=c=[c,d]:(Fe=u,u=n)):(Fe=u,u=n),u===n&&(u=null),u!==n?t=r=[r,a,i,o,l,s,u]:(Fe=t,t=n)):(Fe=t,t=n)):(Fe=t,t=n)):(Fe=t,t=n),t}())===n&&(r=null),r!==n?(90===e.charCodeAt(Fe)?(a="Z",Fe++):(a=n,0===Se&&Be(H)),a===n&&(a=function(){var t,r,a,i,o;return t=Fe,G.test(e.charAt(Fe))?(r=e.charAt(Fe),Fe++):(r=n,0===Se&&Be($)),r!==n&&(a=tt())!==n?(58===e.charCodeAt(Fe)?(i=U,Fe++):(i=n,0===Se&&Be(W)),i!==n&&(o=tt())!==n?t=r=[r,a,i,o]:(Fe=t,t=n)):(Fe=t,t=n),t}()),a===n&&(a=null),a!==n?(i=Fe,Se++,o=ft(),Se--,o!==n?(Fe=i,i=void 0):i=n,i!==n?(De=t,t=kt.tokenValueIso8601Date(Ce())):(Fe=t,t=n)):(Fe=t,t=n)):(Fe=t,t=n)):(Fe=t,t=n),t}function at(){var t,r,a,i,o,l,s,u,c;if(t=Fe,G.test(e.charAt(Fe))?(r=e.charAt(Fe),Fe++):(r=n,0===Se&&Be($)),r!==n){if(a=[],j.test(e.charAt(Fe))?(i=e.charAt(Fe),Fe++):(i=n,0===Se&&Be(O)),i!==n)for(;i!==n;)a.push(i),j.test(e.charAt(Fe))?(i=e.charAt(Fe),Fe++):(i=n,0===Se&&Be(O));else a=n;a!==n?(z.test(e.charAt(Fe))?(i=e.charAt(Fe),Fe++):(i=n,0===Se&&Be(X)),i!==n?(o=Fe,Se++,l=ft(),Se--,l!==n?(Fe=o,o=void 0):o=n,o!==n?(De=t,s=r,u=a,c=i,t=r=kt.tokenValueRelativeDate(u.join(""),s,c)):(Fe=t,t=n)):(Fe=t,t=n)):(Fe=t,t=n)}else Fe=t,t=n;return t}function nt(){var t,r,a,i,o,l,s;return t=Fe,(r=ot())!==n?("ms"===e.substr(Fe,2)?(a="ms",Fe+=2):(a=n,0===Se&&Be(M)),a===n&&(115===e.charCodeAt(Fe)?(a="s",Fe++):(a=n,0===Se&&Be(Q)),a===n&&("min"===e.substr(Fe,3)?(a="min",Fe+=3):(a=n,0===Se&&Be(J)),a===n&&(109===e.charCodeAt(Fe)?(a="m",Fe++):(a=n,0===Se&&Be(Y)),a===n&&("hr"===e.substr(Fe,2)?(a="hr",Fe+=2):(a=n,0===Se&&Be(ee)),a===n&&(104===e.charCodeAt(Fe)?(a="h",Fe++):(a=n,0===Se&&Be(te)),a===n&&("day"===e.substr(Fe,3)?(a="day",Fe+=3):(a=n,0===Se&&Be(re)),a===n&&(100===e.charCodeAt(Fe)?(a="d",Fe++):(a=n,0===Se&&Be(ae)),a===n&&("wk"===e.substr(Fe,2)?(a="wk",Fe+=2):(a=n,0===Se&&Be(ne)),a===n&&(119===e.charCodeAt(Fe)?(a="w",Fe++):(a=n,0===Se&&Be(ie))))))))))),a!==n?(i=Fe,Se++,o=ft(),Se--,o!==n?(Fe=i,i=void 0):i=n,i!==n?(De=t,l=r,s=a,t=r=kt.tokenValueDuration(l,s)):(Fe=t,t=n)):(Fe=t,t=n)):(Fe=t,t=n),t}function it(){var t;return">="===e.substr(Fe,2)?(t=">=",Fe+=2):(t=n,0===Se&&Be(le)),t===n&&("<="===e.substr(Fe,2)?(t="<=",Fe+=2):(t=n,0===Se&&Be(se)),t===n&&(62===e.charCodeAt(Fe)?(t=">",Fe++):(t=n,0===Se&&Be(ue)),t===n&&(60===e.charCodeAt(Fe)?(t="<",Fe++):(t=n,0===Se&&Be(ce)),t===n&&(61===e.charCodeAt(Fe)?(t="=",Fe++):(t=n,0===Se&&Be(de)),t===n&&("!="===e.substr(Fe,2)?(t="!=",Fe+=2):(t=n,0===Se&&Be(he))))))),t}function ot(){var t,r,a,i,o,l;if(t=Fe,r=[],j.test(e.charAt(Fe))?(a=e.charAt(Fe),Fe++):(a=n,0===Se&&Be(O)),a!==n)for(;a!==n;)r.push(a),j.test(e.charAt(Fe))?(a=e.charAt(Fe),Fe++):(a=n,0===Se&&Be(O));else r=n;if(r!==n){if(a=Fe,46===e.charCodeAt(Fe)?(i=".",Fe++):(i=n,0===Se&&Be(q)),i!==n){for(o=[],j.test(e.charAt(Fe))?(l=e.charAt(Fe),Fe++):(l=n,0===Se&&Be(O));l!==n;)o.push(l),j.test(e.charAt(Fe))?(l=e.charAt(Fe),Fe++):(l=n,0===Se&&Be(O));o!==n?a=i=[i,o]:(Fe=a,a=n)}else Fe=a,a=n;a===n&&(a=null),a!==n?(De=t,t=r=Ce()):(Fe=t,t=n)}else Fe=t,t=n;return t}function lt(){var t;return 40===e.charCodeAt(Fe)?(t="(",Fe++):(t=n,0===Se&&Be(fe)),t}function st(){var t;return 41===e.charCodeAt(Fe)?(t=")",Fe++):(t=n,0===Se&&Be(ve)),t}function ut(){var t;return 91===e.charCodeAt(Fe)?(t="[",Fe++):(t=n,0===Se&&Be(me)),t}function ct(){var t;return 93===e.charCodeAt(Fe)?(t="]",Fe++):(t=n,0===Se&&Be(Ae)),t}function dt(){var t;return 58===e.charCodeAt(Fe)?(t=U,Fe++):(t=n,0===Se&&Be(W)),t}function ht(){var t;return 33===e.charCodeAt(Fe)?(t="!",Fe++):(t=n,0===Se&&Be(ye)),t}function pt(){var t;return 44===e.charCodeAt(Fe)?(t=",",Fe++):(t=n,0===Se&&Be(ke)),t}function gt(){var t,r,a;for(t=Fe,r=[],32===e.charCodeAt(Fe)?(a=" ",Fe++):(a=n,0===Se&&Be(xe));a!==n;)r.push(a),32===e.charCodeAt(Fe)?(a=" ",Fe++):(a=n,0===Se&&Be(xe));return r!==n&&(De=t,r=kt.tokenSpaces(Ce())),r}function ft(){var t,r;return be.test(e.charAt(Fe))?(t=e.charAt(Fe),Fe++):(t=n,0===Se&&Be(Te)),t===n&&(t=Fe,Se++,e.length>Fe?(r=e.charAt(Fe),Fe++):(r=n,0===Se&&Be(Ve)),Se--,r===n?t=void 0:(Fe=t,t=n)),t}const{TokenConverter:vt,TermOperator:mt,FilterType:At,config:yt}=r,kt=new vt({text:Ce,location:function(){return Ee(De,Fe)},config:yt}),xt=mt.Default;if((a=o())!==n&&Fe===e.length)return a;throw a!==n&&Fe<e.length&&Be({type:"end"}),bt=Ne,Tt=Ze<e.length?e.charAt(Ze):null,Vt=Ze<e.length?Ee(Ze,Ze+1):Ee(Ze,Ze),new t(t.buildMessage(bt,Tt),bt,Tt,Vt);var bt,Tt,Vt}}}}]);
//# sourceMappingURL=../sourcemaps/app_components_searchSyntax_renderer_tsx.7b1cc4a847c62fb0a4c3f2263862e833.js.map