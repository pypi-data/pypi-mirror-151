"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_forms_form_tsx"],{"./app/components/forms/form.tsx":(t,e,o)=>{o.d(e,{Z:()=>b});var s=o("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=o("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=o("../node_modules/react/index.js"),r=o("../node_modules/mobx-react-lite/es/index.js"),l=o("./app/components/button.tsx"),a=o("./app/components/forms/formContext.tsx"),m=o("./app/components/forms/model.tsx"),d=o("./app/components/panels/panel.tsx"),p=o("./app/locale.tsx"),u=o("./app/styles/space.tsx"),h=o("./app/utils/isRenderFunc.tsx"),c=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class b extends i.Component{constructor(t,e){super(t,e),(0,s.Z)(this,"model",this.props.model||new m.Z),(0,s.Z)(this,"onSubmit",(t=>{var e,o;!this.props.skipPreventDefault&&t.preventDefault(),this.model.isSaving||(null===(e=(o=this.props).onPreSubmit)||void 0===e||e.call(o),this.props.onSubmit?this.props.onSubmit(this.model.getData(),this.onSubmitSuccess,this.onSubmitError,t,this.model):this.model.saveForm())})),(0,s.Z)(this,"onSubmitSuccess",(t=>{const{onSubmitSuccess:e}=this.props;this.model.submitSuccess(t),e&&e(t,this.model)})),(0,s.Z)(this,"onSubmitError",(t=>{const{onSubmitError:e}=this.props;this.model.submitError(t),e&&e(t,this.model)}));const{saveOnBlur:o,apiEndpoint:n,apiMethod:i,resetOnError:r,onSubmitSuccess:l,onSubmitError:a,onFieldChange:d,initialData:p,allowUndo:u}=t;this.model.setInitialData(p),this.model.setFormOptions({resetOnError:r,allowUndo:u,onFieldChange:d,onSubmitSuccess:l,onSubmitError:a,saveOnBlur:o,apiEndpoint:n,apiMethod:i})}componentWillUnmount(){!this.props.preventFormResetOnUnmount&&this.model.reset()}contextData(){return{saveOnBlur:this.props.saveOnBlur,form:this.model}}render(){const{className:t,children:e,footerClass:o,footerStyle:s,submitDisabled:n,submitLabel:i,submitPriority:m,cancelLabel:d,onCancel:u,extraButton:b,requireChanges:f,saveOnBlur:S,hideFooter:v}=this.props,Z=void 0!==v?!v:!S;return(0,c.tZ)(a.Z.Provider,{value:this.contextData(),children:(0,c.BX)("form",{onSubmit:this.onSubmit,className:null!=t?t:"form-stacked","data-test-id":this.props["data-test-id"],children:[(0,c.tZ)("div",{children:(0,h.l)(e)?e({model:this.model}):e}),Z&&(0,c.BX)(x,{className:o,style:s,saveOnBlur:S,children:[b,(0,c.BX)(g,{children:[u&&(0,c.tZ)(r.Qj,{children:()=>(0,c.tZ)(l.ZP,{type:"button",disabled:this.model.isSaving,onClick:u,style:{marginLeft:5},children:null!=d?d:(0,p.t)("Cancel")})}),(0,c.tZ)(r.Qj,{children:()=>(0,c.tZ)(l.ZP,{"data-test-id":"form-submit",priority:null!=m?m:"primary",disabled:this.model.isError||this.model.isSaving||n||!!f&&!this.model.formChanged,type:"submit",children:null!=i?i:(0,p.t)("Save Changes")})})]})]})]})})}}b.displayName="Form";const x=(0,n.Z)("div",{target:"el3x56x1"})("display:flex;justify-content:flex-end;margin-top:25px;border-top:1px solid ",(t=>t.theme.innerBorder),";background:none;padding:16px 0 0;margin-bottom:16px;",(t=>!t.saveOnBlur&&`\n  ${d.Z} & {\n    margin-top: 0;\n    padding-right: 36px;\n  }\n\n  /* Better padding with form inside of a modal */\n  [role='document'] & {\n    padding-right: 30px;\n    margin-left: -30px;\n    margin-right: -30px;\n    margin-bottom: -30px;\n    margin-top: 16px;\n    padding-bottom: 16px;\n  }\n  `),";"),g=(0,n.Z)("div",{target:"el3x56x0"})("display:grid;gap:",(0,u.Z)(1),";grid-auto-flow:column;justify-content:flex-end;flex:1;")}}]);
//# sourceMappingURL=../sourcemaps/app_components_forms_form_tsx.9150c638c6b67142c3dda73612911c26.js.map