"use strict";(self.webpackChunkatoti_jupyterlab=self.webpackChunkatoti_jupyterlab||[]).push([[3322],{33322:(o,a,e)=>{e.r(a),e.d(a,{default:()=>F});var t=e(8336),i=e(56271),l=e(39349),n=e(40906),r=e(21469),s=e(94212),d=e(93897),p=e(61838),u=e(71521),c=e(829),y=e.n(c);const m=["#FFFFFF","#FFE2E1","#FFEBD8","#FBF0D0","#DDF1D8","#E3EFF8","#D6E9E8","#F2E4EF","#FEECF2","#F0F0F0","#FFBFBD","#FFD8B1","#F7E2A1","#BAE3B1","#C6E0F1","#ADD4D1","#E5CADE","#FCD5E2","#D9D9D9","#FF9D9A","#FFBE7D","#F1CE63","#8CD17D","#A0CBE8","#76B7B2","#D4A6C8","#FABFD2"],C=o=>{const a=(0,n.Fg)();return(0,t.jsx)("div",{style:{width:"100%",display:"grid",gridTemplateRows:"repeat(3, 29px)",gridTemplateColumns:"repeat(9, 31px)",columnGap:6}},m.map((e=>(0,t.jsx)("div",{key:e,"data-testid":e,style:{backgroundColor:e,display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",..."#FFFFFF"===e?{border:`1px solid ${a.grayScale[4]}`}:{}},onClick:()=>o.onSelectedBackgroundColorChanged(e)},o.selectedBackgroundColor===e?(0,t.jsx)(p.CheckOutlined,{style:{color:a.grayScale[10]}}):null))))};function g(o,a){switch(a.type){case"changeComparisonValue":return{...o,[a.isOptional?"optionalComparisonValue":"mandatoryComparisonValue"]:a.value};case"changeComparisonOperator":{const{isOptional:e,operator:t}=a;if(e)return{...o,optionalComparisonOperator:t};const{optionalComparisonOperator:i,optionalComparisonValue:l}=["eq","neq"].includes(t)?{optionalComparisonOperator:void 0,optionalComparisonValue:void 0}:o;return t.startsWith("lt")&&(null==i?void 0:i.startsWith("lt"))?{...o,mandatoryComparisonOperator:t,optionalComparisonOperator:"gt",optionalComparisonValue:void 0}:t.startsWith("gt")&&(null==i?void 0:i.startsWith("gt"))?{...o,mandatoryComparisonOperator:t,optionalComparisonOperator:"lt",optionalComparisonValue:void 0}:{...o,mandatoryComparisonOperator:t,optionalComparisonOperator:i,optionalComparisonValue:l}}case"resetOptionalComparisonValue":return{...o,optionalComparisonValue:void 0};case"selectBackgroundColor":return{...o,selectedBackgroundColor:a.color}}}const{Option:v}=d.Z;var x={name:"7l1y32-MeasureConditionalStylePopover",styles:"&.ant-btn{margin-right:8px;};label:MeasureConditionalStylePopover;"};const F=o=>{const{formatMessage:a}=(0,l.useIntl)(),e=(0,n.Fg)(),{conditionalStyle:p}=o,{style:c,...m}=p||{style:{}},F=void 0!==p&&0===Object.keys(m).length,[h,j]=(0,i.useReducer)(g,{},(()=>function(o){const{style:a,...e}=o||{style:{}},t={mandatoryComparisonOperator:"eq",selectedBackgroundColor:null==a?void 0:a.backgroundColor},i=y()(Object.entries(e),(([o,a])=>a));return i.length>0&&(t.mandatoryComparisonOperator=i[0][0],t.mandatoryComparisonValue=i[0][1]),2===i.length&&(t.optionalComparisonOperator=i[1][0],t.optionalComparisonValue=i[1][1]),t}(o.conditionalStyle))),{selectedBackgroundColor:b,mandatoryComparisonValue:O,optionalComparisonValue:k,mandatoryComparisonOperator:S,optionalComparisonOperator:B}=h,f=F||"eq"===S||"neq"===S,[D,E,V]=function({mandatoryComparisonValue:o,optionalComparisonOperator:a,optionalComparisonValue:e,selectedBackgroundColor:t},i){return void 0===t?[!1,"invalidConditionalStyle","color"]:i?[!0]:void 0===o||void 0===e&&void 0!==a?[!1,"invalidConditionalStyle","value"]:void 0!==e&&void 0===a?[!1,"invalidConditionalStyle","operator"]:void 0!==e&&void 0!==a?a.startsWith("lt")?e>o?[!0]:[!1,"invalidComparison"]:e<o?[!0]:[!1,"invalidComparison"]:[!0]}(h,F),w=void 0!==o.conditionalStyle;return(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",height:"100%",overflow:"hidden"}},(0,t.jsx)(s.Dx,{level:4},a({id:"aui.conditionalStyle."+(w?"edit":"add")})),(0,t.jsx)("div",{style:{flexGrow:1}},(0,t.jsx)("div",null,(0,t.jsx)("div",{style:{marginBottom:2}},a({id:"aui.conditionalStyle.ifValue"})),(0,t.jsx)("div",{style:{display:"flex"}},(0,t.jsx)(d.Z,{"aria-label":"Mandatory operator selection",disabled:F,style:{width:"70%",marginRight:5},value:F?void 0:S,onChange:o=>{j({type:"changeComparisonOperator",operator:o})}},["eq","neq","lt","lte","gt","gte"].map((o=>(0,t.jsx)(v,{key:o,value:o},a({id:`aui.conditionalStyle.operator.${o}`}))))),(0,t.jsx)(u.Z,{disabled:F,"aria-label":"Mandatory comparison value input",style:{width:"30%"},value:O,type:"number",onChange:o=>"number"==typeof o&&j({type:"changeComparisonValue",value:o})}))),(0,t.jsx)("div",null,(0,t.jsx)("div",{style:{marginBottom:2}},a({id:"aui.and"}),"Â ",(0,t.jsx)(s.xv,{small:!0,style:{color:e.grayScale[6]}},"(",a({id:"aui.conditionalStyle.optional"}),")")),(0,t.jsx)("div",{style:{display:"flex"}},(0,t.jsx)(d.Z,{disabled:f,style:{width:"70%",marginRight:5},value:B,onChange:o=>j({type:"changeComparisonOperator",operator:o,isOptional:!0}),"aria-label":"Optional operator selection",allowClear:!0},("lt"===S||"lte"===S?["gt","gte"]:["lt","lte"]).map((o=>(0,t.jsx)(v,{key:o,value:o},a({id:`aui.conditionalStyle.operator.${o}`}))))),(0,t.jsx)(u.Z,{"aria-label":"Optional comparison value input",style:{width:"30%"},type:"number",disabled:f,value:k,onChange:o=>{void 0===o||""===o?j({type:"resetOptionalComparisonValue"}):"number"==typeof o&&j({type:"changeComparisonValue",value:o,isOptional:!0})}}))),(0,t.jsx)("div",null,(0,t.jsx)("div",{style:{marginBottom:2}},a({id:"aui.conditionalStyle.thenStyleAs"})),(0,t.jsx)("div",{style:{height:26,lineHeight:"26px",border:`1px solid ${e.grayScale[4]}`,backgroundColor:b,paddingLeft:5}},"123")),(0,t.jsx)("div",{style:{marginBottom:5,marginTop:5}},(0,t.jsx)("div",{style:{marginBottom:2}},a({id:"aui.conditionalStyle.backgroundColors"})),(0,t.jsx)(C,{selectedBackgroundColor:b,onSelectedBackgroundColorChanged:o=>j({type:"selectBackgroundColor",color:o})}))),(0,t.jsx)("div",{style:{height:35,display:"flex",justifyContent:"flex-end"}},(0,t.jsx)(r.default,{css:x,onClick:()=>o.onCancel()},a({id:"aui.cancel"})),(0,t.jsx)(s.u,{trigger:D?[]:["hover"],placement:"right",title:E?a({id:`aui.conditionalStyle.${E}`},{type:V}):""},(0,t.jsx)(r.default,{disabled:!D,"aria-label":"Submit",type:"primary",onClick:()=>{F?o.onSubmitDefaultStyle({backgroundColor:b}):o.onSubmit({[S]:O,...B&&k?{[B]:k}:{},style:{backgroundColor:b}})}},a({id:"aui.conditionalStyle.apply"})))))}}}]);