(function(e){function t(t){for(var a,i,s=t[0],c=t[1],u=t[2],d=0,l=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&l.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);m&&m(t);while(l.length)l.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,i=1;i<n.length;i++){var s=n[i];0!==r[s]&&(a=!1)}a&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},i={app:0},r={app:0},o=[];function s(e){return c.p+"js/"+({about:"about",dashboard:"dashboard"}[e]||e)+"."+{about:"ce0bd722","chunk-06344a2c":"3a42467c","chunk-0b842cf6":"f9c2c0cd","chunk-120356e1":"0bb15992","chunk-0e547cb0":"9bbe7e78","chunk-0f9e8e77":"af387d2e","chunk-22d2531a":"7a41c03e","chunk-66726fb0":"d09db440","chunk-574b3c14":"06c72831","chunk-a06d0ce0":"719316ef","chunk-7fedb6fc":"ba02ee69","chunk-686f811c":"fad638e5","chunk-0e517454":"60a2abd3","chunk-43cb68c8":"93417efd","chunk-67ab27e7":"ad319be6","chunk-99c3e052":"9c0155f3","chunk-426d44eb":"ffd2a883","chunk-4c161ea8":"2fc29150","chunk-4cc34738":"bfb859aa","chunk-7e135660":"37dc0980","chunk-13071ca0":"50a54e3a",dashboard:"98261d72"}[e]+".js"}function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={about:1,"chunk-06344a2c":1,"chunk-0b842cf6":1,"chunk-120356e1":1,"chunk-0e547cb0":1,"chunk-0f9e8e77":1,"chunk-22d2531a":1,"chunk-66726fb0":1,"chunk-574b3c14":1,"chunk-a06d0ce0":1,"chunk-7fedb6fc":1,"chunk-686f811c":1,"chunk-0e517454":1,"chunk-43cb68c8":1,"chunk-67ab27e7":1,"chunk-426d44eb":1,"chunk-4c161ea8":1,"chunk-4cc34738":1,"chunk-7e135660":1,dashboard:1};i[e]?t.push(i[e]):0!==i[e]&&n[e]&&t.push(i[e]=new Promise((function(t,n){for(var a="css/"+({about:"about",dashboard:"dashboard"}[e]||e)+"."+{about:"726b3234","chunk-06344a2c":"39e6369a","chunk-0b842cf6":"302d1fe1","chunk-120356e1":"29b00f2e","chunk-0e547cb0":"c4a3d84b","chunk-0f9e8e77":"ff32b915","chunk-22d2531a":"74a66b7e","chunk-66726fb0":"04931b2f","chunk-574b3c14":"8937b56e","chunk-a06d0ce0":"3794b7e2","chunk-7fedb6fc":"7d6d7230","chunk-686f811c":"606a46d3","chunk-0e517454":"f96e1a1b","chunk-43cb68c8":"bae1661e","chunk-67ab27e7":"25dbfb58","chunk-99c3e052":"31d6cfe0","chunk-426d44eb":"d070d696","chunk-4c161ea8":"b7b78a6a","chunk-4cc34738":"75a409f9","chunk-7e135660":"e6bab511","chunk-13071ca0":"31d6cfe0",dashboard:"df9d9a7c"}[e]+".css",r=c.p+a,o=document.getElementsByTagName("link"),s=0;s<o.length;s++){var u=o[s],d=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(d===a||d===r))return t()}var l=document.getElementsByTagName("style");for(s=0;s<l.length;s++){u=l[s],d=u.getAttribute("data-href");if(d===a||d===r)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var a=t&&t.target&&t.target.src||r,o=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=a,delete i[e],m.parentNode.removeChild(m),n(o)},m.href=r;var f=document.getElementsByTagName("head")[0];f.appendChild(m)})).then((function(){i[e]=0})));var a=r[e];if(0!==a)if(a)t.push(a[2]);else{var o=new Promise((function(t,n){a=r[e]=[t,n]}));t.push(a[2]=o);var u,d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=s(e);var l=new Error;u=function(t){d.onerror=d.onload=null,clearTimeout(m);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+a+": "+i+")",l.name="ChunkLoadError",l.type=a,l.request=i,n[1](l)}r[e]=void 0}};var m=setTimeout((function(){u({type:"timeout",target:d})}),12e4);d.onerror=d.onload=u,document.head.appendChild(d)}return Promise.all(t)},c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/new-admin/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var m=d;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"258f":function(e,t,n){},"2f1f":function(e){e.exports=JSON.parse('{"en":{},"fr":{"(disabled)":"(désactivé)","Account":"Compte","Account created":"Compte créé","Account updated":"Compte mis à jour","Actions":"Actions","Add":"Ajouter","Address":"Adresse","Administration":"Administration","Administrators":"Administrateurs","Alias":"Alias","Alias created":"Alias créé","Aliases":"Alias","Apply":"Appliquer","Authentication":"Authentification","Auto configuration":"Configuration automatique","Close":"Fermer","Confirmation":"Confirmation","Create a domain administrator":"Créer un administrateur de domaine","Create a mailbox for the administrator.":"Créer une boite aux lettres pour l\'administrateur","Create aliases":"Créer des alias","Creation date":"Date de création","Dashboard":"Tableau de bord","Date":"Date","Day":"Jour","Default mailbox quota":"Quota par défaut pour une boîte aux lettres","Default quota applied to mailboxes. Can be expressed in KB, MB (default) or GB. A value of 0 means no quota.":"Quota par défaut appliqué aux boîtes aux lettres. Peut être exprimé en Ko, Mo (défaut) ou Go. Une valeur à 0 signifie pas de quota.","Description":"Description","Disabled":"Désactivés","DKIM key":"Clé DKIM","DNS":"DNS","DNS status":"Statut DNS","Domain":"Domaine","Domain administrator":"Administrateur de domaine","Domain created":"Domaine créé","Domains":"Domaines","Email address":"Adresse email","Enable DKIM signing":"Activer la signature DKIM","Enable DNS checks":"Activer les tests DNS","Enabled":"Activé","Expire at":"Expire le","Forgot password?":"Mot de passe oublié ?","From":"De","General":"Général","Generate a random password for the administrator.":"Générer un mot de passe aléatoire pour cet administrateur.","hostname of your automx server":"Nom d\'hôte de votre serveur automx","Identities":"Identités","IP address of your Modoboa server":"Adresse IP de votre serveur Modoboa","Last modification date":"Date de dernière modification","Level":"Niveau","Logger":"Logger","Logout":"Déconnexion","Logs":"Journaux","Mailbox":"Boîte aux lettres","Mailboxes":"Boites","Message":"Message","Message sending limit":"Limite d\'envoi des messages","Month":"Mois","Name":"Nom","New account":"Nouveau compte","New alias":"Nouvel alias","New domain":"Nouveau domaine","Next":"Suivant","No":"Non","Not generated":"Non générée","Options":"Options","Password":"Mot de passe","Queue ID":"ID de file","Quota":"Quota","Quota for this mailbox, can be expressed in KB, MB (default) or GB. Define a custom value or use domain\'s default one. Leave empty to define an unlimited value (not allowed for domain administrators).":"Quota pour cette boite. Peut être exprimé en Ko, Mo (défaut) ou Go. Définir une valeur spécifique ou utiliser la valeur par défaut du domaine. Laisser vide pour définir une valeur illimitée (interdit pour les admins. de domaine).","Quota shared between mailboxes. Can be expressed in KB, MB (default) or GB. A value of 0 means no quota.":"Quota partagé entre les boîtes aux lettres. Peut être exprimé en Ko, Mo (défaut) ou Go. Une valeur à 0 signifie pas de quota.","Random address":"Adresse aléatoire","Random password":"Mot de passe aléatoire","Recipients":"Destinataires","Remember me":"Se souvenir de moi","Reseller":"Revendeur","Role":"Rôle","Save":"Enregistrer","Search":"Chercher","Settings":"Configuration","Show key":"Afficher la clé","Simple user":"Utilisateur simple","Status":"Statut","Summary":"Résumé","Super administrator":"Super administrateur","Tags":"Tags","To":"A","Type":"Type","Unknown":"Inconnu","unlimited":"illimité","Update":"Mettre à jour","Updated":"Mis à jour","Use domain default value":"Utiliser la valeur par défaut du domaine","Username":"Nom d\'utilisateur","Week":"Semaine","Welcome to Modoboa":"Bienvenue dans Modoboa","With a mailbox":"Avec une boite aux lettres","Year":"Année","Yes":"Oui","This field is required":"Ce champ est requis"}}')},"2fd4":function(e,t,n){},"321a":function(e,t,n){"use strict";n("2fd4")},"3ffe":function(e,t,n){"use strict";n("d3b7"),n("8a79");var a=n("bc3a"),i=n.n(a),r=n("a78e"),o=n.n(r),s=n("a18c"),c=n("4360"),u=i.a.create();u.interceptors.request.use((function(e){return c["a"].state.auth.isAuthenticated&&(e.headers["Accept-Language"]=c["a"].state.auth.authUser.language),e}),(function(e){return Promise.reject(e)})),u.interceptors.response.use((function(e){return e}),(function(e){if(418===e.response.status)return s["a"].push({name:"TwoFA"}),Promise.reject(e);if(401!==e.response.status||"/login/"===s["a"].currentRoute.path)return Promise.reject(e);var t=o.a.get("refreshToken");return e.config.url.endsWith("/token/refresh/")||!t?(c["a"].dispatch("auth/logout"),s["a"].push({name:"Login"}),Promise.reject(e)):u.post("/token/refresh/",{refresh:t}).then((function(t){o.a.set("token",t.data.access,{sameSite:"strict"}),u.defaults.headers.common.Authorization="Bearer ".concat(t.data.access);var n=e.config;return n.headers.Authorization="Bearer ".concat(t.data.access),new Promise((function(e,t){u.request(n).then((function(t){e(t)})).catch((function(e){t(e)}))}))})).catch((function(e){Promise.reject(e)}))})),t["a"]=u},4360:function(e,t,n){"use strict";var a=n("2b0e"),i=n("2f62"),r=(n("d3b7"),n("a78e")),o=n.n(r),s=n("3ffe"),c=n("5723");function u(e){s["a"].defaults.headers.common.Authorization="Bearer ".concat(e),s["a"].defaults.headers.post["Content-Type"]="application/json"}var d,l=function(){return{authUser:{},isAuthenticated:!1}},m={isAuthenticated:function(e){return e.isAuthenticated},authUser:function(e){return e.authUser}},f={SET_AUTH_USER:function(e,t){var n=t.authUser,i=t.isAuthenticated;e.authUser=n,e.isAuthenticated=i,a["a"].config.language=n.language},LOGOUT_USER:function(e){e.authUser=null,e.isAuthenticated=!1}},h={fetchUser:function(e){var t=e.commit;return c["a"].getMe().then((function(e){t("SET_AUTH_USER",{authUser:e.data,isAuthenticated:!0})}))},initialize:function(e){e.commit;var t=e.dispatch,n=(e.state,o.a.get("token"));if(n)return u(n),t("fetchUser")},logout:function(e){var t=e.commit;return new Promise((function(e,n){delete s["a"].defaults.headers.common.Authorization,o.a.remove("token"),o.a.remove("refreshToken"),t("LOGOUT_USER"),e()}))}},p={namespaced:!0,state:l,getters:m,mutations:f,actions:h},b=n("ade3"),v=n("b85c"),g=(n("4de4"),n("458e")),k="SET_DOMAINS",A="ADD_DOMAIN",x="UPDATE_DOMAIN",y="DELETE_DOMAIN",D={domainsLoaded:!1,domains:[]},_={domains:function(e){return e.domains},getDomainByPk:function(e){return function(t){var n,a=Object(v["a"])(e.domains);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(i.pk===parseInt(t,10))return i}}catch(r){a.e(r)}finally{a.f()}return null}}},w={getDomains:function(e){var t=e.commit;return g["a"].getDomains().then((function(e){t(k,{domains:e.data})}))},createDomain:function(e,t){var n=e.commit;return new Promise((function(e,a){g["a"].createDomain(t).then((function(t){n(A,{domain:t.data}),e(t)})).catch((function(e){a(e)}))}))},updateDomain:function(e,t){var n=e.commit;return g["a"].updateDomain(t.pk,t).then((function(e){n(x,{domain:e.data})}))},deleteDomain:function(e,t){var n=e.commit,a=t.id,i=t.data;return g["a"].deleteDomain(a,i).then((function(e){n(y,a)}))}},S=(d={},Object(b["a"])(d,k,(function(e,t){var n=t.domains;e.domainsLoaded=!0,e.domains=n})),Object(b["a"])(d,A,(function(e,t){var n=t.domain;e.domains.push(n)})),Object(b["a"])(d,x,(function(e,t){var n=t.domain;e.domains.filter((function(t,i){t.pk===n.pk&&a["a"].set(e.domains,i,n)}))})),Object(b["a"])(d,y,(function(e,t){e.domains=e.domains.filter((function(e){return e.pk!==t}))})),d),P={namespaced:!0,state:D,getters:_,actions:w,mutations:S},T=(n("7db0"),n("b0c0"),{domains:[]}),U={domains:function(e){return e.domains},getDomainByName:function(e){return function(t){return e.domains.find((function(e){return e.name===t}))}}},E={SET_DOMAINS:function(e,t){e.domains=t}},M={fetchDomains:function(e){var t=e.commit;g["a"].getDomains().then((function(e){t("SET_DOMAINS",e.data)}))}},O={namespaced:!0,state:T,getters:U,actions:M,mutations:E};a["a"].use(i["a"]);t["a"]=new i["a"].Store({modules:{auth:p,domains:P,identities:O},strict:!1})},"458e":function(e,t,n){"use strict";var a=n("3ffe"),i="domains",r="domainaliases";t["a"]={getDomains:function(){return a["a"].get("/".concat(i,"/"))},getDomain:function(e){return a["a"].get("/".concat(i,"/").concat(e,"/"))},getDomainDNSDetail:function(e){return a["a"].get("/".concat(i,"/").concat(e,"/dns_detail/"))},getDomainAliases:function(e){var t="/".concat(r,"/");return void 0!==e&&(t+="?domain=".concat(e)),a["a"].get(t)},getDomainAdministrators:function(e){return a["a"].get("/".concat(i,"/").concat(e,"/administrators/"))},addDomainAdministrator:function(e,t){return a["a"].post("/".concat(i,"/").concat(e,"/administrators/add/"),{account:t})},removeDomainAdministrator:function(e,t){return a["a"].post("/".concat(i,"/").concat(e,"/administrators/remove/"),{account:t})},createDomain:function(e){return a["a"].post("/".concat(i,"/"),e)},updateDomain:function(e,t){return a["a"].put("/".concat(i,"/").concat(e,"/"),t)},patchDomain:function(e,t){return a["a"].patch("/".concat(i,"/").concat(e,"/"),t)},deleteDomain:function(e,t){return a["a"].post("/".concat(i,"/").concat(e,"/delete/"),t)},createDomainAlias:function(e){return a["a"].post("/".concat(r,"/"),e)},updateDomainAlias:function(e,t){return a["a"].put("/".concat(r,"/").concat(e,"/"),t)},deleteDomainAlias:function(e){return a["a"].delete("/".concat(r,"/").concat(e,"/"))},exportAll:function(){return a["a"].get("/".concat(i,"/export/"))},importFromCSV:function(e){return a["a"].post("/".concat(i,"/import/"),e,{headers:{"Content-Type":"multipart/form-data"}})}}},"56d7":function(e,t,n){"use strict";n.r(t),n.d(t,"bus",(function(){return ee}));n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("d3b7");var a=n("2b0e"),i=n("1da1"),r=n("5530"),o=(n("96cf"),n("7bb1")),s=n("4c93"),c=n("5035"),u=n.n(c),d=n("5723"),l=c["translate"].gettext;Object(o["c"])("samePassword",Object(r["a"])(Object(r["a"])({},s["a"]),{},{message:function(){return l("Passwords mismatch")}})),Object(o["c"])("numeric",Object(r["a"])(Object(r["a"])({},s["b"]),{},{message:function(){return l("This field must be a valid number")}})),Object(o["c"])("required",Object(r["a"])(Object(r["a"])({},s["c"]),{},{message:function(){return l("This field is required")}})),Object(o["c"])("validPassword",{validate:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d["a"].checkPassword(t);case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e["catch"](0),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));function t(t){return e.apply(this,arguments)}return t}(),message:l("Invalid password")}),a["a"].component("ValidationObserver",o["a"]),a["a"].component("ValidationProvider",o["b"]);var m=n("00e7"),f=n.n(m);a["a"].use(f.a);n("4de4"),n("25f0");var h=n("2f1f");a["a"].use(u.a,{autoAddKeyAttributes:!0,availableLanguages:{en:"English",fr:"Français"},translations:h}),a["a"].filter("translate",(function(e){return e?a["a"].prototype.$gettext(e.toString()):""}));n("fb6a");var p=n("1315"),b=c["translate"].gettext;a["a"].filter("yesno",(function(e){return b(e?"yes":"no")})),a["a"].filter("date",(function(e){return p["DateTime"].fromISO(e).setLocale("en").toLocaleString(p["DateTime"].DATETIME_MED)})),a["a"].filter("truncate",(function(e,t,n){return n=n||"...",e.length>t?e.slice(0,t)+n:e}));var v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isAuthenticated?n("v-app",[n("navbar"),n("v-main",[n("v-container",{attrs:{fluid:""}},[n("router-view")],1)],1),n("v-snackbar",{attrs:{color:e.notificationColor,timeout:e.notificationTimeout,top:""},scopedSlots:e._u([{key:"action",fn:function(t){var a=t.attrs;return[n("v-btn",e._b({attrs:{color:"white",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",a,!1),[n("translate",[e._v("Close")])],1)]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.notification)+" ")])],1):n("v-app",[n("v-main",[n("router-view")],1)],1)},g=[],k=n("2f62"),A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-navigation-drawer",{attrs:{"mini-variant":e.mini,permanent:"",color:e.mainColor,app:"",dark:""},on:{"update:miniVariant":function(t){e.mini=t},"update:mini-variant":function(t){e.mini=t}},scopedSlots:e._u([{key:"append",fn:function(){return[a("v-menu",{attrs:{rounded:"lg","offset-y":"",top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.attrs,i=t.on;return[a("div",e._g(e._b({staticClass:"d-flex user-box justify-center align-center white--text py-2"},"div",n,!1),i),[a("v-avatar",{attrs:{size:"40",color:"primary"}},[a("span",{staticClass:"white--text headline"},[e._v(e._s(e.userInitials))])]),e.mini?e._e():[a("span",{staticClass:"mx-2"},[e._v(e._s(e.displayName))]),a("v-icon",{staticClass:"float-right"},[e._v("mdi-chevron-up")])]],2)]}}])},[a("v-list",e._l(e.userMenuItems,(function(t){return a("v-list-item",{key:t.text,attrs:{to:t.to,link:""},on:{click:t.click}},[t.icon?a("v-list-item-icon",[a("v-icon",[e._v(e._s(t.icon))])],1):e._e(),a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(t.text))])],1)],1)})),1)],1)]},proxy:!0}]),model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("div",{staticClass:"d-flex align-center"},[a("v-img",{staticClass:"logo",attrs:{src:n("b0c8"),"max-width":"190"},on:{click:function(t){return e.$router.push("/")}}}),a("v-btn",{attrs:{icon:""},on:{click:function(t){t.stopPropagation(),e.mini=!e.mini}}},[a("v-icon",[e._v("mdi-chevron-left")])],1)],1),a("v-list",[e._l(e.menuItems,(function(t){return[e.displayMenuItem(t)?[t.children?a("v-list-group",{key:t.text,attrs:{color:"white","prepend-icon":t.icon,"no-action":""},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-list-item-title",[e._v(e._s(t.text))])]},proxy:!0}],null,!0)},[e._l(t.children,(function(t){return[t.children?a("v-list-group",{key:t.text,attrs:{value:!0,"no-action":"","sub-group":""},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-list-item-title",[e._v(e._s(t.text))])]},proxy:!0}],null,!0)},e._l(t.children,(function(t){return a("v-list-item",{key:t.text,attrs:{to:t.to,link:""}},[a("v-list-item-title",[e._v(e._s(t.text))])],1)})),1):a("v-list-item",{key:t.text,attrs:{to:t.to,link:""}},[a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(t.text))])],1)],1)]}))],2):a("v-list-item",{key:t.title,staticClass:"menu-item",attrs:{to:t.to,link:"",exact:t.exact}},[t.icon?a("v-list-item-icon",[a("v-icon",[e._v(e._s(t.icon))])],1):e._e(),a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(t.text))])],1)],1)]:e._e()]}))],2)],1)},x=[],y=(n("99af"),n("159b"),n("b0c0"),n("6464")),D={computed:Object(r["a"])(Object(r["a"])({},Object(k["b"])({authUser:"auth/authUser"})),{},{userInitials:function(){var e=null;return this.authUser.first_name&&(e=this.authUser.first_name[0]),this.authUser.last_name&&(e=e?e+this.authUser.last_name[0]:this.authUser.last_name[0]),e||(e=this.authUser.username[0]),e},displayName:function(){return this.authUser.first_name||this.authUser.last_name?"".concat(this.authUser.first_name," ").concat(this.authUser.last_name):this.authUser.username},menuItems:function(){return"user"===this.$route.meta.layout?this.userSettingsMenuItems:this.mainMenuItems},mainColor:function(){return"user"===this.$route.meta.layout?"grey":"primary"}}),data:function(){var e=this;return{drawer:!0,mainMenuItems:[{text:this.$gettext("Dashboard"),to:{name:"Dashboard"},icon:"mdi-view-dashboard-outline",exact:!0},{text:this.$gettext("Domains"),to:{name:"DomainList"},icon:"mdi-domain",roles:["DomainAdmins","Resellers","SuperAdmins"]},{text:this.$gettext("Identities"),to:{name:"Identities"},icon:"mdi-account",roles:["DomainAdmins","Resellers","SuperAdmins"]},{icon:"mdi-history",text:this.$gettext("Logs"),roles:["SuperAdmins","Resellers","DomainAdmins"],children:[{text:this.$gettext("Audit trail"),to:{name:"AuditTrail"},roles:["SuperAdmins"]},{text:this.$gettext("Messages"),to:{name:"MessageLog"},roles:["DomainAdmins","Resellers","SuperAdmins"]}]},{icon:"mdi-cog",text:this.$gettext("Settings"),children:[],roles:["SuperAdmins"]}],userSettingsMenuItems:[{text:this.$gettext("Profile"),to:{name:"UserProfile"},icon:"mdi-account-circle-outline",exact:!0},{text:this.$gettext("Security"),to:{name:"UserSecurity"},icon:"mdi-lock-outline",exact:!0},{text:this.$gettext("Forward"),condition:function(){return null!==e.authUser.mailbox},to:{name:"UserForward"},icon:"mdi-forward",exact:!0}],mini:!1,userMenuItems:[{text:this.$gettext("Profile"),icon:"mdi-account-circle-outline",to:{name:"UserProfile"}},{text:this.$gettext("Logout"),icon:"mdi-logout",click:this.logout}]}},created:function(){var e=this;y["a"].getApplications().then((function(t){t.data.forEach((function(t){e.mainMenuItems[4].children.push({text:t.label,to:{name:"ParametersEdit",params:{app:t.name}}})}))}))},methods:{displayMenuItem:function(e){return(void 0===e.roles||-1!==e.roles.indexOf(this.authUser.role))&&(void 0===e.condition||e.condition())},logout:function(){var e=this;this.$store.dispatch("auth/logout").then((function(){e.$router.push({name:"Login"})}))}}},_=D,w=(n("6f0c"),n("2877")),S=n("6544"),P=n.n(S),T=n("8212"),U=n("8336"),E=n("132d"),M=n("adda"),O=n("8860"),C=n("56b0"),I=n("da13"),j=n("5d23"),R=n("34c3"),L=n("e449"),N=n("f774"),$=Object(w["a"])(_,A,x,!1,null,"b9a79e62",null),q=$.exports;P()($,{VAvatar:T["a"],VBtn:U["a"],VIcon:E["a"],VImg:M["a"],VList:O["a"],VListGroup:C["a"],VListItem:I["a"],VListItemContent:j["a"],VListItemIcon:R["a"],VListItemTitle:j["b"],VMenu:L["a"],VNavigationDrawer:N["a"]});var V={name:"App",computed:Object(r["a"])({},Object(k["b"])({isAuthenticated:"auth/isAuthenticated"})),components:{Navbar:q},created:function(){ee.$on("notification",this.showNotification)},data:function(){return{snackbar:!1,notification:"",notificationColor:"success",notificationTimeout:2e3}},methods:{showNotification:function(e){this.notification=e.msg,this.notificationColor=e.type?e.type:"success",this.snackbar=!0}}},B=V,F=(n("df33"),n("7496")),G=n("a523"),K=n("f6c4"),Q=n("2db4"),z=Object(w["a"])(B,v,g,!1,null,"345ee5e5",null),J=z.exports;P()(z,{VApp:F["a"],VBtn:U["a"],VContainer:G["a"],VMain:K["a"],VSnackbar:Q["a"]});var W=n("a18c"),H=n("4360"),Y=(n("5363"),n("f309"));a["a"].use(Y["a"]);var X=new Y["a"]({theme:{options:{customProperties:!0},themes:{light:{primary:"#046BF8",secondary:"#F18429",label:"#616161"}}}}),Z=(n("b7e3"),n("3ffe"));a["a"].config.productionTip=!1;var ee=new a["a"];fetch("/new-admin/config.json").then((function(e){e.json().then((function(e){if(!e.API_BASE_URL)throw Error("API_BASE_URL is not defined in config.json");Z["a"].defaults.baseURL=e.API_BASE_URL,a["a"].prototype.$config=e,new a["a"]({router:W["a"],store:H["a"],vuetify:X,render:function(e){return e(J)}}).$mount("#app")}))}))},5723:function(e,t,n){"use strict";var a=n("3ffe"),i="account";t["a"]={getMe:function(){return a["a"].get("/".concat(i,"/me/"))},checkPassword:function(e){return a["a"].post("/".concat(i,"/me/password/"),{password:e})},verifyTFACode:function(e){var t={code:e};return a["a"].post("".concat(i,"/tfa/verify/"),t)},startTFASetup:function(){return a["a"].post("".concat(i,"/tfa/setup/"))},getQRCodeForTFASetup:function(){return a["a"].get("".concat(i,"/tfa/setup/qr_code/"))},finalizeTFASetup:function(e){var t={pin_code:e};return a["a"].post("".concat(i,"/tfa/setup/check/"),t)},disableTFA:function(){return a["a"].post("".concat(i,"/tfa/disable/"))},resetRecoveryCodes:function(){return a["a"].post("".concat(i,"/tfa/reset_codes/"))},getForward:function(){return a["a"].get("".concat(i,"/forward/"))},setForward:function(e){return a["a"].post("".concat(i,"/forward/"),e)}}},6464:function(e,t,n){"use strict";var a=n("3ffe"),i="parameters";t["a"]={getApplications:function(){return a["a"].get("/".concat(i,"/applications/"))},getApplication:function(e){return a["a"].get("/".concat(i,"/").concat(e,"/"))},getApplicationStructure:function(e){return a["a"].get("/".concat(i,"/structure/?app=").concat(e))},saveApplication:function(e,t){return a["a"].put("/".concat(i,"/").concat(e,"/"),t)}}},"6f0c":function(e,t,n){"use strict";n("258f")},"8d46":function(e,t,n){},a18c:function(e,t,n){"use strict";n("d3b7"),n("3ca3"),n("ddb0");var a=n("2b0e"),i=n("8c4f"),r=n("4360"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-toolbar",{attrs:{flat:""}},[n("v-toolbar-title",[e._v(e._s(e.title))])],1),n("v-tabs",{model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[e._l(e.displayableElements,(function(t,a){return n("v-tab",{key:a},[e._v(" "+e._s(t.label)+" ")])})),n("v-tabs-items",{model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},e._l(e.displayableElements,(function(t,a){return n("v-tab-item",{key:a},[n("v-card",[n("v-card-text",[e._l(e.displayableParams(t.parameters),(function(t,a){return[n("div",{key:a,staticClass:"my-4"},["SeparatorField"===t.widget?[n("h2",[e._v(e._s(t.label))])]:"BooleanField"===t.widget?["BooleanField"===t.widget?n("v-switch",{attrs:{label:t.label,hint:t.help_text,"persistent-hint":""},model:{value:e.parameters[t.name],callback:function(n){e.$set(e.parameters,t.name,n)},expression:"parameters[param.name]"}}):e._e()]:[n("label",{staticClass:"m-label"},[e._v(e._s(t.label))]),"ChoiceField"===t.widget?n("v-select",{attrs:{items:t.choices,hint:t.help_text,"persistent-hint":"",dense:"",outlined:""},model:{value:e.parameters[t.name],callback:function(n){e.$set(e.parameters,t.name,n)},expression:"parameters[param.name]"}}):n("v-text-field",{attrs:{hint:t.help_text,"persistent-hint":"",error:void 0!==e.formErrors[t.name],"error-messages":e.formErrors[t.name],type:"PasswordField"===t.widget?"password":"text",dense:"",outlined:""},model:{value:e.parameters[t.name],callback:function(n){e.$set(e.parameters,t.name,n)},expression:"parameters[param.name]"}})]],2)]}))],2)],1)],1)})),1)],2),n("v-btn",{attrs:{fixed:"",dark:"",fab:"",bottom:"",right:"",color:"green"},on:{click:e.save}},[n("v-icon",[e._v("mdi-content-save")])],1)],1)},s=[],c=n("3835"),u=(n("4de4"),n("159b"),n("ac1f"),n("1276"),n("56d7")),d=n("6464"),l={data:function(){return{active:0,structure:[],parameters:{},formErrors:{}}},computed:{displayableElements:function(){var e=this,t=this.structure.filter((function(t){return e.display(t)}));return t},title:function(){var e=this.$gettext("Settings: ");return"core"===this.$route.params.app?e+=this.$gettext("General"):"admin"===this.$route.params.app?e+=this.$gettext("Administration"):"limits"===this.$route.params.app&&(e+=this.$gettext("Limitations")),e}},created:function(){this.loadParams(this.$route.params.app)},watch:{$route:function(e,t){this.loadParams(e.params.app)}},methods:{loadParams:function(e){var t=this;d["a"].getApplicationStructure(e).then((function(e){t.structure=e.data})),d["a"].getApplication(e).then((function(e){t.parameters=e.data}))},display:function(e){var t=this;if(""===e.display)return!0;var n=!0;return e.display.split("&").forEach((function(e){var a=e.split("="),i=Object(c["a"])(a,2),r=i[0],o=i[1];"true"!==o&&"false"!==o||(o=Boolean(o)),n&=t.parameters[r]===o})),n},displayableParams:function(e){var t=this;return e.filter((function(e){return t.display(e)}))},save:function(){var e=this;d["a"].saveApplication(this.$route.params.app,this.parameters).then((function(){u["bus"].$emit("notification",{msg:e.$gettext("Parameters updated")})})).catch((function(t){e.formErrors=t.response.data}))}}},m=l,f=(n("321a"),n("2877")),h=n("6544"),p=n.n(h),b=n("8336"),v=n("b0af"),g=n("99d9"),k=n("132d"),A=n("b974"),x=n("b73d"),y=n("71a3"),D=n("c671"),_=n("fe57"),w=n("aac8"),S=n("8654"),P=n("71d9"),T=n("2a7f"),U=Object(f["a"])(m,o,s,!1,null,"02e474f1",null),E=U.exports;p()(U,{VBtn:b["a"],VCard:v["a"],VCardText:g["b"],VIcon:k["a"],VSelect:A["a"],VSwitch:x["a"],VTab:y["a"],VTabItem:D["a"],VTabs:_["a"],VTabsItems:w["a"],VTextField:S["a"],VToolbar:P["a"],VToolbarTitle:T["a"]}),a["a"].use(i["a"]);var M=[{path:"/",name:"Dashboard",component:function(){return n.e("dashboard").then(n.bind(null,"7277"))},meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:function(){return n.e("about").then(n.bind(null,"a55b"))}},{path:"/twofa",name:"TwoFA",component:function(){return n.e("chunk-7e135660").then(n.bind(null,"96c1"))}},{path:"/domains",name:"DomainList",component:function(){return Promise.all([n.e("chunk-22d2531a"),n.e("chunk-0b842cf6"),n.e("chunk-a06d0ce0"),n.e("chunk-66726fb0"),n.e("chunk-7fedb6fc")]).then(n.bind(null,"1594"))},meta:{requiresAuth:!0,allowedRoles:["DomainAdmins","Resellers","SuperAdmins"]}},{path:"/domains/:id",name:"DomainDetail",component:function(){return Promise.all([n.e("chunk-22d2531a"),n.e("chunk-0b842cf6"),n.e("chunk-a06d0ce0"),n.e("chunk-686f811c"),n.e("chunk-0e517454")]).then(n.bind(null,"5ad9"))},meta:{requiresAuth:!0,allowedRoles:["DomainAdmins","Resellers","SuperAdmins"]}},{path:"/domains/:id/edit",name:"DomainEdit",component:function(){return Promise.all([n.e("chunk-a06d0ce0"),n.e("chunk-686f811c"),n.e("chunk-13071ca0")]).then(n.bind(null,"06d4"))},meta:{requiresAuth:!0,allowedRoles:["DomainAdmins","Resellers","SuperAdmins"]}},{path:"/identities",name:"Identities",component:function(){return Promise.all([n.e("chunk-22d2531a"),n.e("chunk-0b842cf6"),n.e("chunk-66726fb0"),n.e("chunk-0e547cb0"),n.e("chunk-574b3c14")]).then(n.bind(null,"f602"))},meta:{requiresAuth:!0,allowedRoles:["DomainAdmins","Resellers","SuperAdmins"]}},{path:"/identities/accounts/:id",name:"AccountDetail",component:function(){return Promise.all([n.e("chunk-22d2531a"),n.e("chunk-67ab27e7")]).then(n.bind(null,"13bb"))},meta:{requiresAuth:!0,allowedRoles:["DomainAdmins","Resellers","SuperAdmins"]}},{path:"/identities/accounts/:id/edit",name:"AccountEdit",component:function(){return Promise.all([n.e("chunk-0e547cb0"),n.e("chunk-0f9e8e77")]).then(n.bind(null,"d368"))},meta:{requiresAuth:!0,allowedRoles:["DomainAdmins","Resellers","SuperAdmins"]}},{path:"/identities/aliases/:id",name:"AliasDetail",component:function(){return n.e("chunk-06344a2c").then(n.bind(null,"7a83"))},meta:{requiresAuth:!0,allowedRoles:["DomainAdmins","Resellers","SuperAdmins"]}},{path:"/identities/aliases/:id/edit",name:"AliasEdit",component:function(){return n.e("chunk-4c161ea8").then(n.bind(null,"e61c"))},meta:{requiresAuth:!0,allowedRoles:["DomainAdmins","Resellers","SuperAdmins"]}},{path:"/parameters/:app",name:"ParametersEdit",component:E,meta:{requiresAuth:!0,allowedRoles:["SuperAdmins"]}},{path:"/logs/audit_trail",name:"AuditTrail",component:function(){return Promise.all([n.e("chunk-22d2531a"),n.e("chunk-43cb68c8")]).then(n.bind(null,"033e"))},meta:{requiresAuth:!0,allowedRoles:["SuperAdmins"]}},{path:"/logs/messages",name:"MessageLog",component:function(){return Promise.all([n.e("chunk-22d2531a"),n.e("chunk-99c3e052")]).then(n.bind(null,"4a00"))},meta:{requiresAuth:!0,allowedRoles:["DomainAdmins","SuperAdmins"]}},{path:"/user/profile",name:"UserProfile",component:function(){return n.e("chunk-426d44eb").then(n.bind(null,"7c54"))},meta:{requiresAuth:!0,layout:"user"}},{path:"/user/security",name:"UserSecurity",component:function(){return Promise.all([n.e("chunk-0b842cf6"),n.e("chunk-120356e1")]).then(n.bind(null,"2cbf"))},meta:{requiresAuth:!0,layout:"user"}},{path:"/user/forward",name:"UserForward",component:function(){return n.e("chunk-4cc34738").then(n.bind(null,"f09b"))},meta:{requiresAuth:!0,layout:"user"}}],O=new i["a"]({mode:"history",base:"/new-admin/",routes:M});O.beforeEach((function(e,t,n){e.matched.some((function(e){return e.meta.requiresAuth}))?r["a"].dispatch("auth/initialize").then((function(){if(r["a"].getters["auth/isAuthenticated"]){if(void 0!==e.meta.allowedRoles&&-1===e.meta.allowedRoles.indexOf(r["a"].getters["auth/authUser"].role))return void n({name:"Dashboard"});n()}else n({name:"Login"})})):n()}));t["a"]=O},b0c8:function(e,t,n){e.exports=n.p+"img/Modoboa_RVB-BLANC-SANS.76cc66d6.png"},b7e3:function(e,t,n){},df33:function(e,t,n){"use strict";n("8d46")}});
//# sourceMappingURL=app.04cc31ff.js.map