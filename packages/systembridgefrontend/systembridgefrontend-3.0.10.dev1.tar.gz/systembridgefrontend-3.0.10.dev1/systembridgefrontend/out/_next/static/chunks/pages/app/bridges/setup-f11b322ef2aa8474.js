(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[176],{8573:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/bridges/setup",function(){return r(4411)}])},2315:function(e,t,r){"use strict";r.d(t,{Z:function(){return E}});var n=r(5893),i=r(7294),a=r(9520),o=r(1163),s=r(9008),c=r.n(s),l=r(2734),u=r(6886),d=r(5861),h=r(7357);var p=function(){var e=(0,l.Z)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u.ZP,{container:!0,direction:"row",justifyContent:"center",children:(0,n.jsxs)(d.Z,{component:"span",variant:"body1",children:["Not sure what to do now? Check out the"," ",(0,n.jsx)("a",{href:"https://system-bridge.timmo.dev",target:"_blank",rel:"noreferrer",children:"website"})," ","for more information and documentation."]})}),(0,n.jsx)(h.Z,{sx:{height:e.spacing(6)}}),(0,n.jsx)(u.ZP,{container:!0,direction:"row",justifyContent:"center",children:(0,n.jsxs)(d.Z,{component:"span",variant:"body1",children:["Found an issue? Report it"," ",(0,n.jsx)("a",{href:"https://github.com/timmo001/system-bridge/issues/new/choose",target:"_blank",rel:"noreferrer",children:"here"}),"."]})}),(0,n.jsx)(u.ZP,{container:!0,direction:"row",justifyContent:"center",children:(0,n.jsxs)(d.Z,{component:"span",variant:"body1",children:["Thought of a feature that could be added? Suggest it"," ",(0,n.jsx)("a",{href:"https://github.com/timmo001/system-bridge/issues/new/choose",target:"_blank",rel:"noreferrer",children:"here"}),"."]})}),(0,n.jsx)(h.Z,{sx:{height:e.spacing(6)}}),(0,n.jsxs)(u.ZP,{container:!0,direction:"row",justifyContent:"center",children:[(0,n.jsxs)(d.Z,{component:"span",variant:"body1",children:["Participate in discussions and get help"," ",(0,n.jsx)("a",{href:"https://github.com/timmo001/system-bridge/discussions",target:"_blank",rel:"noreferrer",children:"here"}),"."]}),(0,n.jsx)(h.Z,{sx:{height:e.spacing(6)}})]})]})},x=r(8298),f=r(2293),m=r(155),g=r(3321),y=r(456),b=r(3946),j=r(7533),v=r(8849),Z=r.n(v),w=r(5317);function k(e){var t=e.children,r=(0,x.Z)({disableHysteresis:!0,threshold:24});return(0,i.cloneElement)(t,{elevation:r?4:0})}var P=function(e){var t=e.rightLinks,r=e.brand,o=(0,i.useState)(!1),s=o[0],c=o[1],p=(0,i.useCallback)((function(){c(!s)}),[s]),x=(0,l.Z)();return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(k,{children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f.Z,{color:"transparent",elevation:0,children:(0,n.jsxs)(a.Z,{maxWidth:"xl",sx:{padding:0},children:[(0,n.jsxs)(m.Z,{sx:{minHeight:50,maxHeight:50,padding:0,flex:1,alignItems:"center",justifyContent:"space-between",display:"flex",flexWrap:"nowrap"},children:[(0,n.jsx)(u.ZP,{item:!0,children:(0,n.jsx)(g.Z,{href:"https://system-bridge.timmo.dev",target:"_blank",children:(0,n.jsx)(d.Z,{component:"div",variant:"h4",sx:{textTransform:"none",userSelect:"none",color:x.palette.primary.contrastText},children:r})})}),(0,n.jsx)(y.Z,{lgDown:!0,implementation:"css",children:t}),(0,n.jsx)(y.Z,{mdUp:!0,children:(0,n.jsx)(b.Z,{color:"inherit","aria-label":"open drawer",onClick:p,size:"large",children:(0,n.jsx)(v.Icon,{id:"menu",path:w.$Qi,size:1})})})]}),(0,n.jsx)(y.Z,{mdUp:!0,implementation:"css",children:(0,n.jsx)(j.ZP,{variant:"temporary",anchor:"right",open:s,onClose:p,children:(0,n.jsx)(h.Z,{sx:{margin:"20px 10px"},children:t})})})]})}),(0,n.jsx)(h.Z,{sx:{height:x.spacing(18)}})]})})})},C=r(5656);var S=function(){(0,o.useRouter)().query;var e=(0,l.Z)();return(0,n.jsxs)(u.ZP,{container:!0,alignContent:"center",spacing:2,children:[(0,n.jsx)(u.ZP,{item:!0,children:(0,n.jsx)(C.Z,{title:"Suggest a Feature / Report a Bug",children:(0,n.jsx)("a",{href:"https://github.com/timmo001/system-bridge/issues",target:"_blank",rel:"noreferrer",children:(0,n.jsx)(b.Z,{children:(0,n.jsx)(Z(),{id:"issues",color:e.palette.text.primary,path:w.opV,size:1})})})})}),(0,n.jsx)(u.ZP,{item:!0,children:(0,n.jsx)(C.Z,{title:"Discussions/Help",children:(0,n.jsx)("a",{href:"https://github.com/timmo001/system-bridge/discussions",target:"_blank",rel:"noreferrer",children:(0,n.jsx)(b.Z,{children:(0,n.jsx)(Z(),{id:"discussions",color:e.palette.text.primary,path:w.ewV,size:1})})})})}),(0,n.jsx)(u.ZP,{item:!0,children:(0,n.jsx)(C.Z,{title:"Contribute to the Website/Documentation",children:(0,n.jsx)("a",{href:"https://github.com/timmo001/system-bridge-site",target:"_blank",rel:"noreferrer",children:(0,n.jsx)(b.Z,{children:(0,n.jsx)(Z(),{id:"website",color:e.palette.text.primary,path:w.v0U,size:1})})})})}),(0,n.jsx)(u.ZP,{item:!0,children:(0,n.jsx)(C.Z,{title:"Contribute to the Application",children:(0,n.jsx)("a",{href:"https://github.com/timmo001/system-bridge",target:"_blank",rel:"noreferrer",children:(0,n.jsx)(b.Z,{children:(0,n.jsx)(Z(),{id:"github",color:e.palette.text.primary,path:w.LcO,size:1})})})})})]})},_=!1;var E=function(e){var t=(0,o.useRouter)();return(0,i.useEffect)((function(){if(t.isReady&&!_){var e,r,n,i;_=!0;var a=(null===(e=t.query)||void 0===e?void 0:e.apiKey)||"",o=(null===(r=t.query)||void 0===r?void 0:r.apiPort)||"9170",s=!1;if((null===(n=t.query)||void 0===n?void 0:n.apiKey)||(s=!0,a=window.prompt("Please enter your API key",a)),(null===(i=t.query)||void 0===i?void 0:i.apiPort)||(s=!0,o=window.prompt("Please enter your API port (default: 9170)",o)),s&&a&&o){var c="".concat(t.pathname,"?apiKey=").concat(a,"&apiPort=").concat(o);t.replace(c)}}}),[t]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(c(),{children:[(0,n.jsx)("title",{children:e.title?"".concat(e.title," - System Bridge"):"System Bridge"}),(0,n.jsx)("link",{rel:"canonical",href:e.url}),(0,n.jsx)("meta",{name:"description",content:e.description?"".concat(e.description):e.title?"".concat(e.title," - System Bridge"):"System Bridge"}),(0,n.jsx)("meta",{name:"keywords",content:e.keywords?"".concat(e.keywords):"system-bridge, system, bridge, typescript"})]}),!e.noHeader&&(0,n.jsx)(P,{brand:"System Bridge",rightLinks:(0,n.jsx)(S,{})}),e.children,!e.noFooter&&(0,n.jsx)(a.Z,{component:"footer",maxWidth:"xl",children:(0,n.jsx)(p,{})})]})}},4411:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return N}});var n=r(5893),i=r(7294),a=r(2315),o=r(4051),s=r.n(o),c=r(1163),l=r(2734),u=r(9520),d=r(6886),h=r(8456),p=r(5861),x=r(8462),f=r(9875),m=r(9953),g=r(9669),y=r.n(g),b=r(7262),j=r(8396),v=r(657),Z=r(3090),w=r(6580),k=r(5301),P=r(1425),C=r(3321);function S(e,t,r,n,i,a,o){try{var s=e[a](o),c=s.value}catch(l){return void r(l)}s.done?t(c):Promise.resolve(c).then(n,i)}function _(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){S(a,n,i,o,s,"next",e)}function s(e){S(a,n,i,o,s,"throw",e)}o(void 0)}))}}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){E(e,t,r[t])}))}return e}var F=function(e){var t=(0,i.useState)(e.bridgeEdit.bridge),r=t[0],a=t[1],o=(0,i.useState)({text:"",error:!1}),u=o[0],d=o[1],h=(0,c.useRouter)().query,x=function(e){return function(t){a(K({},r,E({},e,t.target.value)))}};function f(){return(f=_(s().mark((function t(){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y().delete("http://".concat((h.apiHost,window.location.hostname),":").concat(h.apiPort||9170,"/bridges/").concat(r.key),{headers:{"api-key":h.apiKey}});case 2:(n=t.sent)&&n.status<400?e.handleClose():d({text:"Failed to delete bridge",error:!0});case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function m(){return(m=_(s().mark((function t(){var n,i,a,o;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g();case 2:if(!(n=t.sent)||!n.uuid){t.next=25;break}if(i=K({},r,{key:n.uuid}),a="http://".concat((h.apiHost,window.location.hostname),":").concat(h.apiPort||9170,"/bridges"),console.log("Save:",{url:a,bridgeData:i}),t.prev=8,!e.bridgeEdit.edit){t.next=15;break}return t.next=12,y().put("".concat(a,"/").concat(r.key),i,{headers:{"api-key":h.apiKey}});case 12:t.t0=t.sent,t.next=18;break;case 15:return t.next=17,y().post(a,i,{headers:{"api-key":h.apiKey}});case 17:t.t0=t.sent;case 18:(o=t.t0)&&o.status<400?e.handleClose():d({text:"Failed to save bridge",error:!0}),t.next=25;break;case 22:t.prev=22,t.t1=t.catch(8),console.error(t.t1);case 25:case"end":return t.stop()}}),t,null,[[8,22]])})))).apply(this,arguments)}function g(){return b.apply(this,arguments)}function b(){return(b=_(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d({text:"Testing bridge..",error:!1}),!(null===r||void 0===r?void 0:r.apiKey)){e.next=17;break}return e.prev=2,e.next=5,y().get("http://".concat(r.host,":").concat(r.port,"/information"),{headers:{"api-key":r.apiKey}});case 5:if(!((t=e.sent)&&t.status<400)){e.next=10;break}return console.log("Information:",t.data),d({text:"Successfully connected to bridge.",error:!1}),e.abrupt("return",t.data);case 10:d({text:"Error testing bridge: ".concat(t.status," - ").concat(t.data),error:!0}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.error("Error:",e.t0),d({text:"Error testing bridge: ".concat(e.t0.message),error:!0});case 17:return e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}var S=(0,l.Z)(),F=(0,j.Z)(S.breakpoints.down("lg"));return(0,n.jsxs)(v.Z,{"aria-labelledby":"form-dialog-title",fullScreen:F,maxWidth:"md",open:!0,children:[(0,n.jsxs)(Z.Z,{id:"form-dialog-title",children:[e.bridgeEdit.edit?"Edit":""," ",r.name]}),(0,n.jsxs)(w.Z,{children:[(0,n.jsx)(k.Z,{autoFocus:!0,fullWidth:!0,id:"name",label:"Name",onChange:x("name"),type:"text",value:r.name||"",variant:"outlined",sx:{margin:S.spacing(1,0)}}),(0,n.jsx)(k.Z,{fullWidth:!0,id:"host",label:"Host",onChange:x("host"),type:"text",value:r.host||"",variant:"outlined",sx:{margin:S.spacing(1,0)}}),(0,n.jsx)(k.Z,{fullWidth:!0,id:"port",label:"Port",onChange:x("port"),type:"number",value:r.port||9170,variant:"outlined",sx:{margin:S.spacing(1,0)}}),(0,n.jsx)(k.Z,{fullWidth:!0,id:"apiKey",label:"API Key",onChange:x("apiKey"),type:"text",value:r.apiKey||"",variant:"outlined",sx:{margin:S.spacing(1,0)}})]}),(0,n.jsxs)(P.Z,{children:[(0,n.jsx)(C.Z,{onClick:function(){return f.apply(this,arguments)},color:"inherit",variant:"contained",sx:{margin:S.spacing(1,0)},children:"Delete"}),(0,n.jsx)(p.Z,{color:u.error?"error":"textPrimary",variant:"subtitle2",sx:{margin:S.spacing(0,1),flex:1,textAlign:"right"},children:u.text}),(0,n.jsx)(C.Z,{autoFocus:!0,onClick:function(){d({text:"",error:!1}),e.handleClose()},variant:"contained",children:"Cancel"}),(0,n.jsx)(C.Z,{onClick:function(){return m.apply(this,arguments)},color:"primary",variant:"contained",children:"Save"})]})]})};function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function O(e,t,r,n,i,a,o){try{var s=e[a](o),c=s.value}catch(l){return void r(l)}s.done?t(c):Promise.resolve(c).then(n,i)}function B(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){O(a,n,i,o,s,"next",e)}function s(e){O(a,n,i,o,s,"throw",e)}o(void 0)}))}}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(c){s=!0,i=c}finally{try{o||null==r.return||r.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var W={port:9170};var I=function(){var e=function(e,t){a({bridge:e,edit:t})},t=(0,i.useState)(),r=t[0],a=t[1],o=(0,i.useState)(),g=o[0],j=o[1],v=H((0,b.r)(),1)[0],Z=(0,i.useState)(!1),w=Z[0],k=Z[1],P=(0,c.useRouter)().query,C=(0,i.useCallback)(B(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Setup Bridges"),e.next=3,y().get("http://".concat((P.apiHost,window.location.hostname),":").concat(P.apiPort||9170,"/bridges"),{headers:{"api-key":P.apiKey}});case 3:(t=e.sent)&&t.status<400&&j(t.data);case 5:case"end":return e.stop()}}),e)}))),[P.apiHost,P.apiPort,P.apiKey]);function S(){return(S=B(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),e.next=3,C();case 3:a(void 0);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,i.useEffect)((function(){!w&&P&&P.apiKey&&(k(!0),C())}),[w,C,P]);var _=(0,l.Z)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u.Z,{maxWidth:"lg",children:v||g?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(p.Z,{component:"h2",variant:"h3",sx:{margin:_.spacing(2,1.5,6)},children:"Bridges"}),g?(0,n.jsx)(x.Z,{children:g.map((function(t){return(0,n.jsx)(f.ZP,{button:!0,onClick:function(){return e(t,!0)},children:(0,n.jsx)(m.Z,{primary:"".concat(t.name," ").concat(t.apiKey?"":"(Not Configured)"),secondary:"".concat(t.host,":").concat(t.port),color:t.apiKey?"primary":"error"})},t.key)}))}):"",(0,n.jsx)(f.ZP,{button:!0,onClick:function(){return e(W,!1)},children:(0,n.jsx)(m.Z,{primary:"Add Bridge",secondary:"Add a new bridge",color:"primary"})})]}):(0,n.jsx)(d.ZP,{container:!0,direction:"row",justifyContent:"center",sx:{margin:_.spacing(10,0,8)},children:(0,n.jsx)(h.Z,{})})}),r?(0,n.jsx)(F,{bridgeEdit:r,handleClose:function(){return S.apply(this,arguments)}}):""]})};var N=function(){return(0,n.jsx)(a.Z,{title:"Bridges",url:"https://system-bridge.timmo.dev",description:"Frontend for System Bridge",noHeader:!0,noFooter:!0,children:(0,n.jsx)(I,{})})}}},function(e){e.O(0,[702,740,524,301,669,257,203,774,888,179],(function(){return t=8573,e(e.s=t);var t}));var t=e.O();_N_E=t}]);