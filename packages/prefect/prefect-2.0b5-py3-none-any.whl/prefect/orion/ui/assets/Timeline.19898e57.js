import{_ as v,d as y,N as w,e as s,O as o,P as u,Q as k,o as _,l as c,w as h,Z as b,y as g,p as B,j as a,H as C}from"./index.435faa1e.js";import{T as R}from"./Timeline.9c842bcf.js";const q={class:"timeline-content py-2 px-2 d-flex flex-grow-1"},T=y({async setup(I){let t,r;const i=b(),n=([t,r]=w(()=>o.query({endpoint:u.flow_run,body:{id:i.params.id},options:{pollInterval:5e3}}).fetch()),t=await t,r(),t),d=s(()=>({flow_runs:{id:{any_:[i.params.id]}}})),p={task_runs:o.query({endpoint:u.task_runs,body:d,options:{pollInterval:1e4}})},m=s(()=>{var e;return((e=n.response)==null?void 0:e.value)||{}}),f=s(()=>m.value.end_time),l=s(()=>{var e;return((e=p.task_runs.response)==null?void 0:e.value)||[]});return k(()=>{n.stopPolling(),o.queries.delete(n.id)}),(e,N)=>{const x=g("m-card");return _(),c(x,{class:"timeline d-flex flex-column",width:"auto",shadow:"sm"},{default:h(()=>[B("div",q,[a(l).length?(_(),c(R,{key:0,items:a(l),"max-end-time":a(f),"axis-position":"top","background-color":"blue-5"},null,8,["items","max-end-time"])):C("",!0)])]),_:1})}}});var V=v(T,[["__scopeId","data-v-568b1c60"]]);export{V as default};
