(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[14],{276:function(e,t,n){"use strict";var a=n(10),r=n(171),o=n(458),i=n(459),l=n(298),c=n.n(l),s=n(0),u=n.n(s);t.a=function(e){var t=e.text,n=e.length,l=void 0===n?5:n,d=e.noCollapse,m=t.length>l&&!d?"".concat(t.slice(0,l)):t,p=Object(s.useState)(!1),f=Object(a.a)(p,2),b=f[0],g=f[1],v=b?o.a:i.a;return u.a.createElement(r.a,{title:t},u.a.createElement("span",{style:{display:"flex",alignItems:"center"}},m," ",u.a.createElement(v,{style:{width:12,height:12,cursor:"pointer"},onClick:function(e){e.stopPropagation(),e.preventDefault(),c()(t),g(!0),setTimeout((function(){return g(!1)}),1e3)}})))}},277:function(e,t,n){"use strict";var a=n(722),r=n(29),o=n(0),i=n.n(o);t.a=i.a.memo((function(e){var t=Object(r.a)(),n=e.resource,o=e.title;return i.a.createElement("div",{style:{textAlign:"center"}}," ",i.a.createElement(a.a,{label:{autoRotate:!1,type:"inner",content:function(e){var t=e.type,n=e.percent,a=e.value;return"".concat(t,"\n").concat(a,"\n").concat((100*n).toFixed(2),"%")},style:{fonrSize:12,fill:t.palette.text.primary,stroke:t.palette.background.paper,textAlign:"center",lineWidth:2},layout:{type:"fixedOverlap"}},color:[t.palette.primary.light,t.palette.secondary.main],width:100,height:120,style:{margin:"0 auto"},legend:!1,angleField:"value",colorField:"type",data:[{type:"avalable",value:n.available},{type:"used",value:n.total-n.available}],pieStyle:{stroke:t.palette.background.paper}}),i.a.createElement("h5",null,o))}),(function(e,t){return JSON.stringify(e.resource)===JSON.stringify(t.resource)}))},291:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return u}));var a=n(27),r=n.n(a),o=n(42),i=n(28),l=n.n(i),c=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("resource/cluster");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(e){return l.a.get("resource/job/".concat(e))},u=function(e){return l.a.get("resource/node/".concat(e))}},720:function(e,t,n){"use strict";n.r(t);var a=n(10),r=n(92),o=n(94),i=n(130),l=n(1),c=n(105),s=n(108),u=n(72),d=n(106);var m=n(20),p=n(2),f=n(0),b=n.n(f),g=(n(63),n(4),n(3)),v=n(181),h=n(5),E=n(58),y=n(37),x=n(29),O=n(8),j=f.forwardRef((function(e,t){var n=e.children,a=e.classes,r=e.className,o=e.collapsedHeight,i=void 0===o?"0px":o,c=e.component,s=void 0===c?"div":c,u=e.disableStrictModeCompat,d=void 0!==u&&u,b=e.in,h=e.onEnter,j=e.onEntered,C=e.onEntering,R=e.onExit,N=e.onExited,k=e.onExiting,w=e.style,S=e.timeout,I=void 0===S?E.b.standard:S,A=e.TransitionComponent,M=void 0===A?v.a:A,U=Object(p.a)(e,["children","classes","className","collapsedHeight","component","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),T=Object(x.a)(),B=f.useRef(),H=f.useRef(null),L=f.useRef(),D="number"==typeof i?"".concat(i,"px"):i;f.useEffect((function(){return function(){clearTimeout(B.current)}}),[]);var $=T.unstable_strictMode&&!d,F=f.useRef(null),P=Object(O.a)(t,$?F:void 0),V=function(e){return function(t,n){if(e){var a=$?[F.current,t]:[t,n],r=Object(m.a)(a,2),o=r[0],i=r[1];void 0===i?e(o):e(o,i)}}},_=V((function(e,t){e.style.height=D,h&&h(e,t)})),J=V((function(e,t){var n=H.current?H.current.clientHeight:0,a=Object(y.a)({style:w,timeout:I},{mode:"enter"}).duration;if("auto"===I){var r=T.transitions.getAutoHeightDuration(n);e.style.transitionDuration="".concat(r,"ms"),L.current=r}else e.style.transitionDuration="string"==typeof a?a:"".concat(a,"ms");e.style.height="".concat(n,"px"),C&&C(e,t)})),q=V((function(e,t){e.style.height="auto",j&&j(e,t)})),z=V((function(e){var t=H.current?H.current.clientHeight:0;e.style.height="".concat(t,"px"),R&&R(e)})),W=V(N),G=V((function(e){var t=H.current?H.current.clientHeight:0,n=Object(y.a)({style:w,timeout:I},{mode:"exit"}).duration;if("auto"===I){var a=T.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(a,"ms"),L.current=a}else e.style.transitionDuration="string"==typeof n?n:"".concat(n,"ms");e.style.height=D,k&&k(e)}));return f.createElement(M,Object(l.a)({in:b,onEnter:_,onEntered:q,onEntering:J,onExit:z,onExited:W,onExiting:G,addEndListener:function(e,t){var n=$?e:t;"auto"===I&&(B.current=setTimeout(n,L.current||0))},nodeRef:$?F:void 0,timeout:"auto"===I?null:I},U),(function(e,t){return f.createElement(s,Object(l.a)({className:Object(g.a)(a.container,r,{entered:a.entered,exited:!b&&"0px"===D&&a.hidden}[e]),style:Object(l.a)({minHeight:D},w),ref:P},t),f.createElement("div",{className:a.wrapper,ref:H},f.createElement("div",{className:a.wrapperInner},n)))}))}));j.muiSupportAuto=!0;var C=Object(h.a)((function(e){return{container:{height:0,overflow:"hidden",transition:e.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}}),{name:"MuiCollapse"})(j),R=n(170);var N=f.createContext({}),k=n(50),w=f.forwardRef((function(e,t){var n,a=e.children,r=e.classes,o=e.className,i=e.defaultExpanded,b=void 0!==i&&i,v=e.disabled,h=void 0!==v&&v,E=e.expanded,y=e.onChange,x=e.square,O=void 0!==x&&x,j=e.TransitionComponent,w=void 0===j?C:j,S=e.TransitionProps,I=Object(p.a)(e,["children","classes","className","defaultExpanded","disabled","expanded","onChange","square","TransitionComponent","TransitionProps"]),A=Object(k.a)({controlled:E,default:b,name:"Accordion",state:"expanded"}),M=Object(m.a)(A,2),U=M[0],T=M[1],B=f.useCallback((function(e){T(!U),y&&y(e,!U)}),[U,y,T]),H=f.Children.toArray(a),L=(n=H,Object(c.a)(n)||Object(s.a)(n)||Object(u.a)(n)||Object(d.a)()),D=L[0],$=L.slice(1),F=f.useMemo((function(){return{expanded:U,disabled:h,toggle:B}}),[U,h,B]);return f.createElement(R.a,Object(l.a)({className:Object(g.a)(r.root,o,U&&r.expanded,h&&r.disabled,!O&&r.rounded),ref:t,square:O},I),f.createElement(N.Provider,{value:F},D),f.createElement(w,Object(l.a)({in:U,timeout:"auto"},S),f.createElement("div",{"aria-labelledby":D.props.id,id:D.props["aria-controls"],role:"region"},$)))})),S=Object(h.a)((function(e){var t={duration:e.transitions.duration.shortest};return{root:{position:"relative",transition:e.transitions.create(["margin"],t),"&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:e.palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-child":{"&:before":{display:"none"}},"&$expanded":{margin:"16px 0","&:first-child":{marginTop:0},"&:last-child":{marginBottom:0},"&:before":{opacity:0}},"&$expanded + &":{"&:before":{display:"none"}},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},rounded:{borderRadius:0,"&:first-child":{borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius},"&:last-child":{borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},expanded:{},disabled:{}}}),{name:"MuiAccordion"})(w),I=n(95),A=n(224),M=f.forwardRef((function(e,t){var n=e.children,a=e.classes,r=e.className,o=e.expandIcon,i=e.IconButtonProps,c=e.onBlur,s=e.onClick,u=e.onFocusVisible,d=Object(p.a)(e,["children","classes","className","expandIcon","IconButtonProps","onBlur","onClick","onFocusVisible"]),m=f.useState(!1),b=m[0],v=m[1],h=f.useContext(N),E=h.disabled,y=void 0!==E&&E,x=h.expanded,O=h.toggle;return f.createElement(I.a,Object(l.a)({focusRipple:!1,disableRipple:!0,disabled:y,component:"div","aria-expanded":x,className:Object(g.a)(a.root,r,y&&a.disabled,x&&a.expanded,b&&a.focused),onFocusVisible:function(e){v(!0),u&&u(e)},onBlur:function(e){v(!1),c&&c(e)},onClick:function(e){O&&O(e),s&&s(e)},ref:t},d),f.createElement("div",{className:Object(g.a)(a.content,x&&a.expanded)},n),o&&f.createElement(A.a,Object(l.a)({className:Object(g.a)(a.expandIcon,x&&a.expanded),edge:"end",component:"div",tabIndex:null,role:null,"aria-hidden":!0},i),o))})),U=Object(h.a)((function(e){var t={duration:e.transitions.duration.shortest};return{root:{display:"flex",minHeight:48,transition:e.transitions.create(["min-height","background-color"],t),padding:e.spacing(0,2),"&:hover:not($disabled)":{cursor:"pointer"},"&$expanded":{minHeight:64},"&$focused":{backgroundColor:e.palette.action.focus},"&$disabled":{opacity:e.palette.action.disabledOpacity}},expanded:{},focused:{},disabled:{},content:{display:"flex",flexGrow:1,transition:e.transitions.create(["margin"],t),margin:"12px 0","&$expanded":{margin:"20px 0"}},expandIcon:{transform:"rotate(0deg)",transition:e.transitions.create("transform",t),"&:hover":{backgroundColor:"transparent"},"&$expanded":{transform:"rotate(180deg)"}}}}),{name:"MuiAccordionSummary"})(M),T=f.forwardRef((function(e,t){var n=e.classes,a=e.className,r=Object(p.a)(e,["classes","className"]);return f.createElement("div",Object(l.a)({className:Object(g.a)(n.root,a),ref:t},r))})),B=Object(h.a)((function(e){return{root:{display:"flex",padding:e.spacing(1,2,2)}}}),{name:"MuiAccordionDetails"})(T),H=n(226),L=n(228),D=n(230),$=n(231),F=n(229),P=n(87),V=Object(P.a)(f.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),_=n(41),J=n(276),q=n(55),z=n(28),W=n.n(z),G=n(69),K=n(67),Y=n(15),Q=n(47),X=n(277),Z=n(291),ee=function(){var e=Object(f.useState)(),t=Object(a.a)(e,2),n=t[0],r=t[1],o=n?["memory","CPU"].filter((function(e){return n[e]})).map((function(e){return[e,n[e]]})):[];return Object(f.useEffect)((function(){Object(Z.a)().then((function(e){return r(e.data.data.resources)}))}),[]),o.length?b.a.createElement(q.a,{title:"Cluster Resource"},b.a.createElement("div",{style:{display:"flex",flexFlow:"row wrap",justifyContent:"space-around"}},o.map((function(e){var t=Object(a.a)(e,2),n=t[0],r=t[1];return b.a.createElement("div",{style:{margin:5,textAlign:"center",flex:1}},b.a.createElement(X.a,{resource:r,title:n}))})))):null},te=Object(r.a)((function(e){return{root:{padding:e.spacing(2)},label:{fontWeight:"bold"}}})),ne=function(){var e=Object(f.useState)(),t=Object(a.a)(e,2),n=t[0],r=t[1],o=Object(f.useState)(),i=Object(a.a)(o,2),l=i[0],c=i[1],s=Object(f.useState)([]),u=Object(a.a)(s,2),d=u[0],m=u[1];return Object(f.useEffect)((function(){W.a.get("ray_config").then((function(e){var t,n;(null==e||null===(t=e.data)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.config)&&r(e.data.data.config)}))}),[]),Object(f.useEffect)((function(){Object(K.e)().then((function(e){var t,n;(null==e||null===(t=e.data)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.namespaces)&&c(e.data.data.namespaces)}))}),[]),Object(f.useEffect)((function(){Object(G.b)().then((function(e){var t,n;(null==e||null===(t=e.data)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.summary)&&m(e.data.data.summary)}))}),[]),{rayConfig:n,namespaces:l,nodes:d}};t.default=function(){var e=ne(),t=e.rayConfig,n=e.namespaces,r=e.nodes,l=te(),c=Object(Q.e)((null==t?void 0:t.slsUrl)||{});return b.a.createElement("div",{className:l.root},b.a.createElement(Q.b,{title:"".concat((null==t?void 0:t.clusterName)||"Ray"," Summary ")}),b.a.createElement(q.a,{title:(null==t?void 0:t.clusterName)||"SUMMARY"},b.a.createElement("p",null,"Frontend Version: 1.8.0"),b.a.createElement(o.a,{container:!0,spacing:2},(null==t?void 0:t.imageUrl)&&b.a.createElement(o.a,{item:!0},b.a.createElement(i.a,null,b.a.createElement("a",{href:t.imageUrl,target:"_blank",rel:"noopener noreferrer"},"Image Url"))),(null==t?void 0:t.sourceCodeLink)&&b.a.createElement(o.a,{item:!0},b.a.createElement(i.a,null,b.a.createElement("a",{href:t.sourceCodeLink,target:"_blank",rel:"noopener noreferrer"},"Source Code"))),(null==t?void 0:t.metricUrl)&&b.a.createElement(o.a,{item:!0},b.a.createElement(i.a,null,b.a.createElement("a",{href:t.metricUrl,target:"_blank",rel:"noopener noreferrer"},"Metric Url"))),(null==t?void 0:t.slsUrl)&&(c instanceof Array?c.map((function(e){return b.a.createElement(o.a,{item:!0},b.a.createElement(i.a,null,e))})):b.a.createElement(o.a,{item:!0},b.a.createElement(i.a,null,c))),(null==t?void 0:t.rayOperatorEventUrl)&&b.a.createElement(o.a,{item:!0},b.a.createElement(i.a,null,b.a.createElement("a",{href:t.rayOperatorEventUrl,target:"_blank",rel:"noopener noreferrer"},"Deploy Event(SLS)"))))),b.a.createElement(ee,null),n&&b.a.createElement(q.a,{title:"Namespaces"},n.map((function(e){return b.a.createElement(S,null,b.a.createElement(U,{expandIcon:b.a.createElement(V,null)},b.a.createElement("p",{className:l.label},b.a.createElement(J.a,{text:e.namespaceId,noCollapse:!0}),"(",e.hostNameList.length," Nodes)")),b.a.createElement(B,null,b.a.createElement(o.a,{style:{maxHeight:300,overflow:"auto"}},e.hostNameList.sort((function(e,t){return e.length-t.length})).map((function(e){var t;return b.a.createElement(i.a,{size:"small"},e.includes("[unregistered]")?e:b.a.createElement(_.b,{key:"host",style:{margin:4},to:"node/".concat((null===(t=r.find((function(t){return t.hostname===e&&"ALIVE"===t.raylet.state})))||void 0===t?void 0:t.raylet.nodeId)||"")},e))})))))}))),t&&b.a.createElement(q.a,{title:"Config"},b.a.createElement(H.a,null,b.a.createElement(L.a,null,b.a.createElement(D.a,null,"Key"),b.a.createElement(D.a,null,"Value")),b.a.createElement($.a,null,Object.entries(t).map((function(e){var t=Object(a.a)(e,2),n=t[0],r=t[1];return b.a.createElement(F.a,null,b.a.createElement(D.a,{className:l.label},n),b.a.createElement(D.a,null,function(e,t){return"containerMemory"===e?Object(Y.a)(1024*t*1024):"slsUrl"===e?Object(Q.e)(t):JSON.stringify(t)}(n,r)))}))))))}}}]);