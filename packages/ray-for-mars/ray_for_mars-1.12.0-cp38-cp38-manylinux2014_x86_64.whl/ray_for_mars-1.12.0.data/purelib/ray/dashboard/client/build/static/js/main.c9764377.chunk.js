(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[5],{118:function(e,t,a){e.exports=a.p+"static/media/logo.40991779.svg"},119:function(e,t,a){"use strict";a.r(t),a.d(t,"brpcLinkChanger",(function(){return K})),a.d(t,"NodeCard",(function(){return J}));var n=a(48),r=a(10),c=a(170),o=a(94),i=a(171),l=a(130),u=a(238),s=a(225),m=a(226),p=a(227),d=a(228),f=a(229),b=a(230),g=a(231),E=a(93),h=a(92),v=a(234),O=a(85),j=a.n(O),y=a(0),S=a.n(y),x=a(41),w=a(64),k=a(34),N=a(43),I=a(99),C=a(36),P=a(55),M=a(15),T=a(47),z=a(32),D=a(27),L=a.n(D),R=a(42),B=a(12),U=a(40),F=a(69),A=a(97),G=Object(h.a)((function(e){return{root:{padding:e.spacing(2),width:"100%",position:"relative"},fullGrid:{width:"100%"}}})),H=["State","ID","Host","IP","Resource Usage","IO","Time Info","Links"],K=function(e){var t=window.location,a=t.pathname.split("/");if(a.some((function(e){return e.split(".").length>1}))){var n=a.findIndex((function(e){return e.includes(".")})),r=a.slice(0,n);return e.includes("://")?r.push(e.split("://").pop()||""):r.push(e),"".concat(t.protocol,"//").concat(t.host).concat(r.join("/"))}return e.startsWith("http")?e:"http://".concat(e)},J=function(e){var t=e.node;if(!t)return null;var a=t.raylet,n=t.hostname,u=t.ip,s=t.cpu,m=t.cpuPercent,p=t.mem,d=t.net,f=t.disk,b=t.slsUrl,g=t.logUrl,E=t.cpuCount,h=t.cpuTimesPercent,v=a.nodeId,O=a.state,j=a.brpcPort,y=s||m||0;return S.a.createElement(c.a,{variant:"outlined",style:{padding:"12px 12px",margin:12}},S.a.createElement("p",{style:{fontWeight:"bold",fontSize:12,textDecoration:"none"}},S.a.createElement(x.b,{to:"node/".concat(v)},v)," "),S.a.createElement("p",null,S.a.createElement(o.a,{container:!0,spacing:1},S.a.createElement(o.a,{item:!0},S.a.createElement(C.a,{type:"node",status:O})),S.a.createElement(o.a,{item:!0},n,"(",u,")"),d&&d[0]>=0&&S.a.createElement(o.a,{item:!0},S.a.createElement("span",{style:{fontWeight:"bold"}},"Sent")," ",Object(M.a)(d[0]),"/s"," ",S.a.createElement("span",{style:{fontWeight:"bold"}},"Received")," ",Object(M.a)(d[1]),"/s"))),S.a.createElement(o.a,{container:!0,spacing:1,alignItems:"baseline"},y>=0&&S.a.createElement(o.a,{item:!0,xs:!0},"CPU",S.a.createElement(i.a,{arrow:!0,interactive:!0,title:S.a.createElement("pre",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word"}},"CPU Count(Logic/Physic): ".concat(null==E?void 0:E.join("/"),"\n\n---CPU Times---\n\n").concat(Object.entries(h||{}).map((function(e){var t=Object(r.a)(e,2),a=t[0],n=t[1];return"".concat(a,": \t").concat(n,"%")})).join("\n")))},S.a.createElement("div",null,S.a.createElement(k.a,{num:Number(y||m),total:100},y||m,"%")))),p&&S.a.createElement(o.a,{item:!0,xs:!0},"Memory",S.a.createElement(i.a,{title:"Used(".concat(Object(M.a)(p.used),") = Total(").concat(Object(M.a)(p.total),") - Available(").concat(Object(M.a)(p.available),") - Cached(").concat(Object(M.a)(p.cached),") - Buffers(").concat(Object(M.a)(p.buffers),")"),arrow:!0},S.a.createElement("div",null,S.a.createElement(k.a,{num:p.total-p.available-(p.cached||0)-(p.buffers||0),total:p.total},Object(M.a)(p.total-p.available-(p.cached||0)-(p.buffers||0)),"/",Object(M.a)(p.total),"(",((p.total-p.available-(p.cached||0)-(p.buffers||0))/p.total*100).toFixed(2),"%)")))),f&&f["/"]&&S.a.createElement(o.a,{item:!0,xs:!0},"Disk('/')",S.a.createElement(k.a,{num:Number(f["/"].used),total:f["/"].total},Object(M.a)(f["/"].used),"/",Object(M.a)(f["/"].total),"(",f["/"].percent,"%)"))),S.a.createElement(o.a,{container:!0,justify:"flex-end",spacing:1,style:{margin:8}},Object.entries(b||{}).map((function(e){var t=Object(r.a)(e,2),a=t[0],n=t[1];return S.a.createElement(o.a,null,S.a.createElement(l.a,{href:n,target:"_blank",rel:"noopener noreferrer"},a,".log"))})),S.a.createElement(o.a,null,S.a.createElement(l.a,{target:"_blank",rel:"noopener noreferrer",href:K("".concat(u,":").concat(a.brpcPort))},"BRPC ",j)),S.a.createElement(o.a,null,S.a.createElement(l.a,null,S.a.createElement(x.b,{to:"/log/".concat(encodeURIComponent(g))},"log")))))};t.default=function(){var e=G(),t=function(){var e=Object(y.useState)([]),t=Object(r.a)(e,2),a=t[0],c=t[1],o=Object(y.useState)("Loading the nodes infos..."),i=Object(r.a)(o,2),l=i[0],u=i[1],s=Object(y.useState)(!0),m=Object(r.a)(s,2),p=m[0],d=m[1],f=Object(y.useState)("table"),b=Object(r.a)(f,2),g=b[0],E=b[1],h=Object(y.useState)([]),v=Object(r.a)(h,2),O=v[0],j=v[1],S=Object(y.useState)({pageSize:10,pageNo:1}),x=Object(r.a)(S,2),w=x[0],k=x[1],N=Object(A.c)("state"),I=N.sorterFunc,C=N.setOrderDesc,P=N.setSortKey,M=N.sorterKey,T=Object(y.useRef)(),D=Object(y.useCallback)(Object(R.a)(L.a.mark((function e(){var t,a,n,r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(F.b)();case 4:t=e.sent,a=t.data,n=a.data,r=a.msg,c(n.summary||[]),u(r||""),T.current=setTimeout(D,4e3);case 10:case"end":return e.stop()}}),e)}))),[p]);return Object(y.useEffect)((function(){return D(),function(){T.current&&clearTimeout(T.current)}}),[D]),{nodeList:a.map((function(e){return Object(B.a)(Object(B.a)({},e),{},{state:e.raylet.state})})).sort((function(e,t){return e.raylet.nodeId>t.raylet.nodeId?1:-1})).sort(I).filter((function(e){return O.every((function(t){return String(Object(U.get)(e,t.key,"")).includes(t.val)}))})),msg:l,isRefreshing:p,onSwitchChange:function(e){d(e.target.checked)},changeFilter:function(e,t){var a=O.find((function(t){return t.key===e}));a?a.val=t:O.push({key:e,val:t}),j(Object(n.a)(O)),k(Object(B.a)(Object(B.a)({},w),{},{pageNo:1}))},page:w,originalNodes:a,setPage:function(e,t){return k(Object(B.a)(Object(B.a)({},w),{},Object(z.a)({},e,t)))},sorterKey:M,setSortKey:P,setOrderDesc:C,mode:g,setMode:E}}(),a=t.msg,c=t.isRefreshing,h=t.onSwitchChange,O=t.nodeList,D=t.changeFilter,W=t.page,Y=t.setPage,V=t.setSortKey,_=t.setOrderDesc,X=t.mode,q=t.setMode;return S.a.createElement("div",{className:e.root},S.a.createElement(T.b,{title:"Nodes List"}),S.a.createElement(w.a,{loading:a.startsWith("Loading")}),S.a.createElement(P.a,{title:S.a.createElement(o.a,{container:!0},S.a.createElement(o.a,{item:!0},"NODES"),S.a.createElement(o.a,{item:!0},S.a.createElement(i.a,{title:"Auto Refresh",placement:"right"},S.a.createElement(u.a,{size:"small",checked:c,onChange:h,name:"refresh",inputProps:{"aria-label":"secondary checkbox"}}))),S.a.createElement(o.a,{item:!0},S.a.createElement(I.a,{type:"node",list:O})))},a),S.a.createElement(P.a,{title:"List"},S.a.createElement(o.a,{container:!0,alignItems:"center"},S.a.createElement(o.a,{item:!0},S.a.createElement(N.a,{label:"Host",onChange:function(e){return D("hostname",e.trim())}})),S.a.createElement(o.a,{item:!0},S.a.createElement(N.a,{label:"IP",onChange:function(e){return D("ip",e.trim())}})),S.a.createElement(o.a,{item:!0},S.a.createElement(N.a,{label:"Node Id",onChange:function(e){return D("raylet.nodeId",e.trim())}})),S.a.createElement(o.a,{item:!0},S.a.createElement(N.b,{label:"State",onChange:function(e){return D("state",e.trim())},options:["ALIVE","DEAD"]})),S.a.createElement(o.a,{item:!0},S.a.createElement(N.a,{label:"Page Size",onChange:function(e){return Y("pageSize",Math.min(Number(e),500)||10)}})),S.a.createElement(o.a,{item:!0},S.a.createElement(N.b,{label:"Sort By",options:[["state","State"],["mem.used","Used Memory"],["mem.total","Total Memory"],["cpu","CPU"],["net[0]","Sent"],["net[1]","Received"],["disk./.used","Used Disk"]],onChange:function(e){return V(e)}})),S.a.createElement(o.a,{item:!0},S.a.createElement("span",{style:{margin:8,marginTop:0}},"Reverse:",S.a.createElement(u.a,{onChange:function(e,t){return _(t)}}))),S.a.createElement(o.a,{item:!0},S.a.createElement(s.a,{size:"small"},S.a.createElement(l.a,{onClick:function(){return q("table")},color:"table"===X?"primary":"default"},"Table"),S.a.createElement(l.a,{onClick:function(){return q("card")},color:"card"===X?"primary":"default"},"Card")))),S.a.createElement("div",null,S.a.createElement(v.a,{count:Math.ceil(O.length/W.pageSize),page:W.pageNo,onChange:function(e,t){return Y("pageNo",t)}})),"table"===X&&S.a.createElement(m.a,{style:{overflowX:"initial"}},S.a.createElement(p.a,{size:"small"},S.a.createElement(d.a,null,S.a.createElement(f.a,null,H.map((function(e){return S.a.createElement(b.a,{align:"center",key:e},e)})))),S.a.createElement(g.a,null,O.slice((W.pageNo-1)*W.pageSize,W.pageNo*W.pageSize).map((function(t,a){var c=t.hostname,l=void 0===c?"":c,u=t.ip,s=void 0===u?"":u,m=t.cpu,p=t.cpuPercent,d=t.cpuCount,g=t.cpuTimesPercent,h=t.mem,v=void 0===h?{active:0,available:0,buffers:0,cached:0,free:0,inactive:0,percent:0,shared:0,slab:0,total:0,used:0}:h,O=t.disk,y=t.net,w=void 0===y?[0,0]:y,N=t.raylet,I=t.logUrl,P=t.slsUrl;return S.a.createElement(f.a,{key:l+a},S.a.createElement(b.a,null,S.a.createElement(C.a,{type:"node",status:N.state})),S.a.createElement(b.a,{align:"center"},S.a.createElement(i.a,{title:N.nodeId,arrow:!0,interactive:!0},S.a.createElement(x.b,{to:"/node/".concat(N.nodeId)},N.nodeId.slice(0,5)))),S.a.createElement(b.a,{align:"center"},l),S.a.createElement(b.a,{align:"center"},s),S.a.createElement(b.a,null,S.a.createElement(o.a,{container:!0,spacing:2,direction:"row"},S.a.createElement(o.a,{className:e.fullGrid,item:!0},S.a.createElement(i.a,{arrow:!0,interactive:!0,title:S.a.createElement("pre",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word"}},"CPU Count(Logic/Physic): ".concat(null==d?void 0:d.join("/"),"\n\n---CPU Times---\n\n").concat(Object.entries(g||{}).map((function(e){var t=Object(r.a)(e,2),a=t[0],n=t[1];return"".concat(a,": \t").concat(n,"%")})).join("\n")))},S.a.createElement("div",null,S.a.createElement(k.a,{num:Number(m||p),total:100},"CPU: ",m||p,"%")))),S.a.createElement(o.a,{className:e.fullGrid,item:!0},S.a.createElement(i.a,{title:S.a.createElement("pre",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word"}},"".concat(Object.entries(v).map((function(e){var t=Object(r.a)(e,2),a=t[0],n=t[1];return"".concat(a,": ").concat(Object(M.a)(n))})).join("\n"))),arrow:!0,interactive:!0},S.a.createElement("div",null,S.a.createElement(k.a,{num:v.used,total:v.total},"Memory: ",Object(M.a)(v.used),"/",Object(M.a)(v.total),"(",(v.used/v.total*100).toFixed(2),"%)")))),S.a.createElement(o.a,{className:e.fullGrid,item:!0},S.a.createElement(i.a,{title:S.a.createElement("pre",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word"}},Object.entries(O||{}).map((function(e){var t=Object(r.a)(e,2),a=t[0],n=t[1];return"".concat(a,": ").concat(Object(M.a)(n.used),"/").concat(Object(M.a)(n.total),"(").concat(n.percent,"%)")})).join("\n"))},S.a.createElement("div",null,O&&O["/"]&&S.a.createElement(k.a,{num:Number(O["/"].used),total:O["/"].total},"Disk('/'):"," ",Object(M.a)(O["/"].used),"/",Object(M.a)(O["/"].total),"(",O["/"].percent,"%)")))))),S.a.createElement(b.a,{align:"center"},S.a.createElement(o.a,{container:!0,spacing:1,direction:"row",justify:"center"},S.a.createElement(o.a,{item:!0},S.a.createElement(C.a,{type:"",status:"Sent"})),S.a.createElement(o.a,{item:!0},Object(M.a)(w[0]),"/s"),S.a.createElement(o.a,{item:!0},S.a.createElement(C.a,{type:"",status:"Received"})),S.a.createElement(o.a,{item:!0},Object(M.a)(w[1]),"/s"))),S.a.createElement(b.a,{align:"center"},!!N.startTime&&S.a.createElement("p",null,"Start Time:"," ",j()(1e3*N.startTime).format("YYYY/MM/DD HH:mm:ss")),!!N.terminateTime&&S.a.createElement("p",null,"End Time:"," ",j()(1e3*N.terminateTime).format("YYYY/MM/DD HH:mm:ss"))),S.a.createElement(b.a,null,S.a.createElement(T.a,{name:"Link List",list:[S.a.createElement(E.a,null,S.a.createElement(x.b,{to:"/log/".concat(encodeURIComponent(I))},"Node Log Index"))].concat(Object(n.a)(Object(T.e)(P).map((function(e){return S.a.createElement(E.a,null,e)}))),[N.brpcPort&&S.a.createElement(E.a,null,S.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:K("".concat(s,":").concat(N.brpcPort))},"BRPC ",N.brpcPort))])})))}))))),"card"===X&&S.a.createElement(o.a,{container:!0},O.slice((W.pageNo-1)*W.pageSize,W.pageNo*W.pageSize).map((function(e){return S.a.createElement(o.a,{item:!0,xs:6},S.a.createElement(J,{node:e}))})))))}},139:function(e,t,a){e.exports=a(140)},140:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),o=a.n(c),i=a(96);o.a.render(r.a.createElement(i.b,null),document.getElementById("root"))},15:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e){return e<1024?"".concat(e,"KB"):e<Math.pow(1024,2)?"".concat((e/Math.pow(1024,1)).toFixed(1),"KB"):e<Math.pow(1024,3)?"".concat((e/Math.pow(1024,2)).toFixed(1),"MB"):e<Math.pow(1024,4)?"".concat((e/Math.pow(1024,3)).toFixed(1),"GB"):e<Math.pow(1024,5)?"".concat((e/Math.pow(1024,4)).toFixed(1),"TB"):e<Math.pow(1024,6)?"".concat((e/Math.pow(1024,5)).toFixed(1),"TB"):""}},34:function(e,t,a){"use strict";var n=a(92),r=a(0),c=a.n(r),o=Object(n.a)((function(e){return{container:{background:"linear-gradient(45deg, #21CBF3ee 30%, #2196F3ee 90%)",border:"1px solid #ffffffbb",padding:"0 12px",height:18,lineHeight:"18px",position:"relative",boxSizing:"content-box",borderRadius:4},displayBar:{background:e.palette.background.paper,position:"absolute",right:0,height:18,transition:"0.5s width",borderRadius:2,borderTopLeftRadius:0,borderBottomLeftRadius:0,border:"2px solid transparent",boxSizing:"border-box"},text:{fontSize:12,zIndex:2,position:"relative",color:e.palette.text.primary,width:"100%",textAlign:"center",whiteSpace:"nowrap",cursor:"default"}}}));t.a=function(e){var t=e.num,a=e.total,n=e.autoFit,r=o(),i=Math.round(t/a*100);return c.a.createElement("div",{className:r.container,style:n?{width:"100%"}:{}},c.a.createElement("div",{className:r.displayBar,style:{width:"".concat(Math.min(Math.max(0,100-i),100),"%")}}),c.a.createElement("div",{className:r.text},e.children))}},36:function(e,t,a){"use strict";a.d(t,"a",(function(){return E}));var n,r,c=a(32),o=a(84),i=a(81),l=a(83),u=a(221),s=a(80),m=a(222),p=a(223),d=a(0),f=a.n(d);!function(e){e.ALIVE="ALIVE",e.PENDING="PENDING",e.RECONSTRUCTING="RECONSTRUCTING",e.DEAD="DEAD"}(n||(n={}));var b={node:{ALIVE:o.a,DEAD:i.a},actor:(r={},Object(c.a)(r,n.ALIVE,o.a),Object(c.a)(r,n.DEAD,i.a),Object(c.a)(r,n.PENDING,l.a),Object(c.a)(r,n.RECONSTRUCTING,u.a),r),job:{INIT:s.a,SUBMITTED:l.a,DISPATCHED:u.a,RUNNING:o.a,COMPLETED:m.a,FINISHED:m.a,FAILED:i.a}},g={deps:l.a,INFO:m.a,ERROR:i.a},E=function(e){var t=e.type,a=e.status,n=e.suffix,r={padding:"2px 8px",border:"solid 1px",borderRadius:4,fontSize:12,margin:2},c=p.a;return g[t]?c=g[t]:"string"==typeof a&&b[t]&&b[t][a]&&(c=b[t][a]),r.color=c[500],r.borderColor=c[500],c!==p.a&&(r.backgroundColor="".concat(c[500],"20")),f.a.createElement("span",{style:r},a,n)}},43:function(e,t,a){"use strict";a.d(t,"a",(function(){return m})),a.d(t,"b",(function(){return p}));var n=a(92),r=a(131),c=a(175),o=a(93),i=a(177),l=a(0),u=a.n(l),s=Object(n.a)((function(e){return{search:{margin:e.spacing(1),marginTop:0}}})),m=function(e){var t=e.label,a=e.onChange,n=e.defaultValue,o=s();return u.a.createElement(r.a,{className:o.search,size:"small",label:t,InputProps:{onChange:function(e){var t=e.target.value;a&&a(t)},defaultValue:n,endAdornment:u.a.createElement(c.a,{position:"end"},u.a.createElement(i.a,null))}})},p=function(e){var t=e.label,a=e.onChange,n=e.options,c=s();return u.a.createElement(r.a,{className:c.search,size:"small",label:t,select:!0,SelectProps:{onChange:function(e){var t=e.target.value;a&&a(t)},style:{width:100}}},u.a.createElement(o.a,{value:""},"All"),n.map((function(e){return"string"==typeof e?u.a.createElement(o.a,{value:e},e):u.a.createElement(o.a,{value:e[0]},e[1])})))}},47:function(e,t,a){"use strict";a.d(t,"d",(function(){return s})),a.d(t,"e",(function(){return m})),a.d(t,"c",(function(){return p})),a.d(t,"b",(function(){return d})),a.d(t,"a",(function(){return f}));var n=a(10),r=a(171),c=a(130),o=a(90),i=a(0),l=a.n(i),u=a(121),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:28;return l.a.createElement(r.a,{title:e,interactive:!0},l.a.createElement("span",null,e.length>t?e.slice(0,t)+"...":e))},m=function(e){return"string"==typeof e?[l.a.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer"},"SLS")]:Object.entries(e||{}).map((function(e){var t=Object(n.a)(e,2),a=t[0],r=t[1];return l.a.createElement("a",{key:a,style:{marginRight:8},href:r,target:"_blank",rel:"noopener noreferrer"},a,"(SLS)")}))},p=function(e){var t={textAlign:"left",wordBreak:"break-all",whiteSpace:"pre-wrap"};if("object"==typeof e)return l.a.createElement("pre",{style:t},JSON.stringify(e,null,2));try{var a=JSON.parse(e);return"object"!=typeof a?JSON.stringify(a):l.a.createElement("pre",{style:t},JSON.stringify(a,null,2))}catch(t){return e}},d=function(e){var t=e.title;return l.a.createElement(u.a,null,l.a.createElement("title",null,t," - Ray Dashboard"))},f=function(e){var t=e.name,a=e.list,r=Object(i.useState)(null),u=Object(n.a)(r,2),s=u[0],m=u[1];return l.a.createElement("div",null,l.a.createElement(c.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){m(e.currentTarget)}},t),l.a.createElement(o.a,{anchorEl:s,keepMounted:!0,open:Boolean(s),onClose:function(){m(null)}},a))}},55:function(e,t,a){"use strict";var n=a(92),r=a(170),c=a(0),o=a.n(c),i=Object(n.a)((function(e){return{card:{padding:e.spacing(2),paddingTop:e.spacing(1.5),margin:[e.spacing(2),e.spacing(1)].map((function(e){return"".concat(e,"px")})).join(" ")},title:{fontSize:e.typography.fontSize+2,fontWeight:500,color:e.palette.text.secondary,marginBottom:e.spacing(1)},body:{padding:e.spacing(.5)}}}));t.a=function(e){var t=e.title,a=e.children,n=i();return o.a.createElement(r.a,{className:n.card},o.a.createElement("div",{className:n.title},t),o.a.createElement("div",{className:n.body},a))}},64:function(e,t,a){"use strict";var n=a(180),r=a(169),c=a(0),o=a.n(c);t.a=function(e){var t=e.loading,a=e.title,c=void 0===a?"loading":a;return o.a.createElement(n.a,{open:t,style:{zIndex:100,flexDirection:"column"}},o.a.createElement(r.a,{color:"primary"}),o.a.createElement("p",{style:{color:"rgba(255, 255, 255, 0.65)"}},c))}},67:function(e,t,a){"use strict";a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return o})),a.d(t,"d",(function(){return i})),a.d(t,"g",(function(){return l})),a.d(t,"f",(function(){return u})),a.d(t,"e",(function(){return s})),a.d(t,"a",(function(){return m}));var n=a(28),r=a.n(n),c=function(e,t){return r.a.get("utils/jstack",{params:{ip:e,pid:t}})},o=function(e,t){return r.a.get("utils/jmap",{params:{ip:e,pid:t}})},i=function(e,t,a){return r.a.get("utils/jstat",{params:{ip:e,pid:t,options:a}})},l=function(e,t){return r.a.get("utils/pystack",{params:{ip:e,pid:t}})},u=function(e,t){return r.a.get("utils/pstack",{params:{ip:e,pid:t}})},s=function(){return r.a.get("namespaces")},m=function(e,t,a){return r.a.get("utils/async-profiler",{params:{ip:e,pid:a,duration:t}})}},69:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return u}));var n=a(27),r=a.n(n),c=a(42),o=a(28),i=a.n(o),l=function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("nodes?view=summary");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("nodes/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},96:function(e,t,a){"use strict";a.d(t,"a",(function(){return Q})),a.d(t,"c",(function(){return Z}));var n=a(10),r=a(233),c=a(232),o=a(0),i=a.n(o),l=a(126),u=a(41),s=a(14),m=a(27),p=a.n(m),d=a(42),f=a(92),b=a(219),g=a(130),E=a(170),h=a(64),v=a(34),O=a(55),j=a(67),y=a(47),S=a(119),x=Object(f.a)((function(e){return{root:{padding:e.spacing(4),width:"100%"},table:{marginTop:e.spacing(4),padding:e.spacing(2)},pageMeta:{padding:e.spacing(2),marginTop:e.spacing(2)},search:{margin:e.spacing(1)}}})),w=function(e){var t=e.match.params,a=t.pid,r=t.ip,c=Object(o.useState)(),l=Object(n.a)(c,2),u=l[0],s=l[1],m=Object(o.useState)(60),f=Object(n.a)(m,2),w=f[0],k=f[1],N=Object(o.useState)(!1),I=Object(n.a)(N,2),C=I[0],P=I[1],M=Object(o.useState)(0),T=Object(n.a)(M,2),z=T[0],D=T[1],L=Object(o.useState)(),R=Object(n.a)(L,2),B=R[0],U=R[1],F=x(),A=function(){var e=Object(d.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a<w)){e.next=5;break}D(a+1),setTimeout((function(){A(t,a+1)}),1e3),e.next=19;break;case 5:return e.prev=5,e.next=8,fetch(t);case 8:return n=e.sent,e.next=11,n.text();case 11:e.sent.startsWith("<?xml")?(P(!1),s(t)):(D(a+1),setTimeout((function(){A(t,a+1)}),1e3)),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(5),P(!1),U("".concat(e.t0));case 19:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(t,a){return e.apply(this,arguments)}}();return i.a.createElement("div",{className:F.root},i.a.createElement(y.b,{title:"Profiler for ".concat(r," on Process ").concat(a)}),i.a.createElement(O.a,{title:"Profiler"},i.a.createElement("div",null,"IP: ",r,", Pid: ",a,", Duration:"," ",i.a.createElement(b.a,{style:{width:54},value:w,renderSuffix:function(){return"s"},onChange:function(e){var t=e.target.value;k(Number(t))}})," "),i.a.createElement(g.a,{variant:"contained",onClick:function(){P(!0),U(void 0),Object(j.a)(r,w,Number(a)).then((function(e){var t,a,n,r;(null===(t=e.data)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.output)&&(D(0),A(Object(S.brpcLinkChanger)(null===(n=e.data)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.output),0))})).catch((function(){P(!1)}))}},"Run"),B&&i.a.createElement("p",null,"Error: ",B)),u&&i.a.createElement(E.a,null,i.a.createElement(g.a,{target:"_blank",href:u},"Open in new window"),i.a.createElement("iframe",{title:"fire-svg",style:{width:"100%",height:600,border:"none",marginTop:24},src:u,onError:function(e){return console.log(e)}})),i.a.createElement(h.a,{loading:C,title:i.a.createElement(v.a,{total:w,num:z},"Profiling ",z||"waiting to start","s ( Total ",w,"s )")}))},k=a(118),N=a.n(k),I=function(){return i.a.createElement("div",{style:{height:"100vh",width:"100vw"}},i.a.createElement("div",{style:{margin:"250px auto 0 auto",textAlign:"center",fontSize:40,fontWeight:500}},i.a.createElement("img",{src:N.a,alt:"Loading",width:100}),i.a.createElement("br",null),"Loading..."))},C=a(69),P=a(128),M=Object(P.a)({reducer:{},devTools:!1}),T=a(12),z=a(83),D=a(221),L=a(80),R=a(223),B=a(127),U={typography:{fontSize:12,fontFamily:"menlo, monospace"},props:{MuiPaper:{elevation:0}},overrides:{MuiCssBaseline:{"@global":{pre:{fontFamily:"menlo, monospace"},a:{color:z.a[500]}}}}},F=Object(B.a)(Object(T.a)(Object(T.a)({},U),{},{palette:{primary:z.a,secondary:D.a,text:{primary:L.a[900],secondary:L.a[800],disabled:L.a[400],hint:L.a[300]},background:{paper:"#fff",default:R.a[50]}}})),A=Object(B.a)(Object(T.a)(Object(T.a)({},U),{},{palette:{primary:z.a,secondary:D.a,text:{primary:R.a[50],secondary:R.a[100],disabled:R.a[200],hint:R.a[300]},background:{paper:L.a[800],default:L.a[900]}}})),G=i.a.lazy((function(){return Promise.all([a.e(1),a.e(2),a.e(4),a.e(13)]).then(a.bind(null,728))})),H=i.a.lazy((function(){return Promise.all([a.e(0),a.e(12)]).then(a.bind(null,704))})),K=i.a.lazy((function(){return Promise.all([a.e(0),a.e(1),a.e(10)]).then(a.bind(null,705))})),J=i.a.lazy((function(){return Promise.all([a.e(3),a.e(14)]).then(a.bind(null,720))})),W=i.a.lazy((function(){return a.e(16).then(a.bind(null,729))})),Y=i.a.lazy((function(){return Promise.all([a.e(0),a.e(1),a.e(2),a.e(3),a.e(8)]).then(a.bind(null,721))})),V=i.a.lazy((function(){return Promise.all([a.e(2),a.e(9),a.e(17)]).then(a.bind(null,730))})),_=i.a.lazy((function(){return Promise.all([a.e(0),a.e(11)]).then(a.bind(null,724))})),X=i.a.lazy((function(){return Promise.resolve().then(a.bind(null,119))})),q=i.a.lazy((function(){return Promise.all([a.e(1),a.e(2),a.e(3),a.e(4),a.e(15)]).then(a.bind(null,727))})),Q=i.a.createContext({nodeMap:{},ipLogMap:{},namespaceMap:{},nodeIpMap:{}}),Z=function(){return function(e){var t=window.localStorage.getItem(e);try{return JSON.parse(t||"")}catch(e){return t}}("ray-dashboard-theme")||"light"},$=function(e){return t="ray-dashboard-theme",a=e,window.localStorage.setItem(t,JSON.stringify(a));var t,a};t.b=function(){var e=Object(o.useState)(Z()),t=Object(n.a)(e,2),a=t[0],m=t[1],p=Object(o.useState)({nodeMap:{},ipLogMap:{},namespaceMap:{},nodeIpMap:{}}),d=Object(n.a)(p,2),f=d[0],b=d[1],g=function(e){$(e),m(e)};return Object(o.useEffect)((function(){Object(C.b)().then((function(e){var t,a;if(null==e||null===(t=e.data)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.summary){var n={},r={},c={};e.data.data.summary.forEach((function(e){var t=e.hostname,a=e.raylet,o=e.ip,i=e.logUrl;a.nodeId&&(n[t]=a.nodeId),c[t]=o,i&&(r[o]=i)})),Object(j.e)().then((function(e){var t,a,o={};(null==e||null===(t=e.data)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.namespaces)&&e.data.data.namespaces.forEach((function(e){var t=e.namespaceId;e.hostNameList.forEach((function(e){o[e]||(o[e]=[]),o[e].push(t)}))})),b({nodeMap:n,ipLogMap:r,namespaceMap:o,nodeIpMap:c})})).catch((function(){b({nodeMap:n,ipLogMap:r,namespaceMap:{},nodeIpMap:{}})}))}}))}),[]),i.a.createElement(c.a,{theme:function(e){switch(e){case"dark":return A;case"light":default:return F}}(a)},i.a.createElement(o.Suspense,{fallback:I},i.a.createElement(Q.Provider,{value:f},i.a.createElement(l.a,{store:M},i.a.createElement(r.a,null),i.a.createElement(u.a,null,i.a.createElement(s.c,null,i.a.createElement(s.a,{render:function(e){return i.a.createElement(V,Object.assign({},e,{setTheme:g,theme:a}),i.a.createElement(s.a,{component:J,exact:!0,path:"/"}),i.a.createElement(s.a,{component:W,exact:!0,path:"/job"}),i.a.createElement(s.a,{component:X,exact:!0,path:"/node"}),i.a.createElement(s.a,{component:K,exact:!0,path:"/event"}),i.a.createElement(s.a,{component:G,exact:!0,path:"/actors"}),i.a.createElement(s.a,{render:function(e){return i.a.createElement(_,Object.assign({},e,{theme:a}))},exact:!0,path:"/log/:host?/:path?"}),i.a.createElement(s.a,{component:q,path:"/node/:id"}),i.a.createElement(s.a,{component:Y,path:"/job/:id"}),i.a.createElement(s.a,{component:H,path:"/cmd/:cmd/:ip/:pid"}),i.a.createElement(s.a,{component:w,path:"/profiler/:ip/:pid"}),i.a.createElement(s.a,{component:I,exact:!0,path:"/loading"}))},path:"/"})))))))}},97:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"c",(function(){return u})),a.d(t,"b",(function(){return s}));var n=a(12),r=a(48),c=a(10),o=a(40),i=a(0),l=function(){var e=Object(i.useState)([]),t=Object(c.a)(e,2),a=t[0],n=t[1];return{changeFilter:function(e,t){var c=a.find((function(t){return t.key===e}));c?c.val=t:a.push({key:e,val:t}),n(Object(r.a)(a))},filterFunc:function(e){return a.every((function(t){return!t.val||Object(o.get)(e,t.key,"").toString().includes(t.val)}))}}},u=function(e){var t=Object(i.useState)({key:e||"",desc:!1}),a=Object(c.a)(t,2),r=a[0],l=a[1];return{sorterFunc:function(e,t){if(!r.key)return 0;var a=e,n=t;return r.desc&&(n=e,a=t),Object(o.get)(a,r.key)?Object(o.get)(n,r.key)?Object(o.get)(a,r.key)>Object(o.get)(n,r.key)?1:-1:1:-1},setSortKey:function(e){return l(Object(n.a)(Object(n.a)({},r),{},{key:e}))},setOrderDesc:function(e){return l(Object(n.a)(Object(n.a)({},r),{},{desc:e}))},sorterKey:r.key}},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(i.useState)(Object(n.a)({page:1,pageSize:10,total:1},e)),a=Object(c.a)(t,2),r=a[0],o=a[1];return{page:r.page,pageSize:r.pageSize,startIndex:r.pageSize*(r.page-1),endIndex:r.pageSize*r.page,total:r.total,totalPage:Math.ceil(r.total/r.pageSize),setPage:function(e){return o(Object(n.a)(Object(n.a)({},r),{},{page:e}))},setTotal:function(e){return o(Object(n.a)(Object(n.a)({},r),{},{total:e}))},setPageSize:function(e){return o(Object(n.a)(Object(n.a)({},r),{},{pageSize:e}))}}}},99:function(e,t,a){"use strict";var n=a(10),r=a(94),c=a(0),o=a.n(c),i=a(36);t.a=function(e){var t=e.type,a=e.list,c={};return a.forEach((function(e){var t=e.state;c[t]=c[t]+1||1})),o.a.createElement(r.a,{container:!0,spacing:2,alignItems:"center"},o.a.createElement(r.a,{item:!0},o.a.createElement(i.a,{status:"TOTAL",type:t,suffix:"x ".concat(a.length)})),Object.entries(c).map((function(e){var a=Object(n.a)(e,2),c=a[0],l=a[1];return o.a.createElement(r.a,{item:!0},o.a.createElement(i.a,{status:c,type:t,suffix:" x ".concat(l)}))})))}}},[[139,6,7]]]);